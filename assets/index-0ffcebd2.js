function xg(e,t){for(var i=0;i<t.length;i++){const a=t[i];if(typeof a!="string"&&!Array.isArray(a)){for(const c in a)if(c!=="default"&&!(c in e)){const f=Object.getOwnPropertyDescriptor(a,c);f&&Object.defineProperty(e,c,f.get?f:{enumerable:!0,get:()=>a[c]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))a(c);new MutationObserver(c=>{for(const f of c)if(f.type==="childList")for(const g of f.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&a(g)}).observe(document,{childList:!0,subtree:!0});function i(c){const f={};return c.integrity&&(f.integrity=c.integrity),c.referrerPolicy&&(f.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?f.credentials="include":c.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function a(c){if(c.ep)return;c.ep=!0;const f=i(c);fetch(c.href,f)}})();var co=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Z0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var K0={exports:{}},Ta={},q0={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var es=Symbol.for("react.element"),mg=Symbol.for("react.portal"),wg=Symbol.for("react.fragment"),yg=Symbol.for("react.strict_mode"),Eg=Symbol.for("react.profiler"),Cg=Symbol.for("react.provider"),Ag=Symbol.for("react.context"),Sg=Symbol.for("react.forward_ref"),Ig=Symbol.for("react.suspense"),Tg=Symbol.for("react.memo"),vg=Symbol.for("react.lazy"),g1=Symbol.iterator;function Ng(e){return e===null||typeof e!="object"?null:(e=g1&&e[g1]||e["@@iterator"],typeof e=="function"?e:null)}var J0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$0=Object.assign,ef={};function Qi(e,t,i){this.props=e,this.context=t,this.refs=ef,this.updater=i||J0}Qi.prototype.isReactComponent={};Qi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Qi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function tf(){}tf.prototype=Qi.prototype;function Gu(e,t,i){this.props=e,this.context=t,this.refs=ef,this.updater=i||J0}var Yu=Gu.prototype=new tf;Yu.constructor=Gu;$0(Yu,Qi.prototype);Yu.isPureReactComponent=!0;var p1=Array.isArray,nf=Object.prototype.hasOwnProperty,Xu={current:null},rf={key:!0,ref:!0,__self:!0,__source:!0};function of(e,t,i){var a,c={},f=null,g=null;if(t!=null)for(a in t.ref!==void 0&&(g=t.ref),t.key!==void 0&&(f=""+t.key),t)nf.call(t,a)&&!rf.hasOwnProperty(a)&&(c[a]=t[a]);var w=arguments.length-2;if(w===1)c.children=i;else if(1<w){for(var C=Array(w),x=0;x<w;x++)C[x]=arguments[x+2];c.children=C}if(e&&e.defaultProps)for(a in w=e.defaultProps,w)c[a]===void 0&&(c[a]=w[a]);return{$$typeof:es,type:e,key:f,ref:g,props:c,_owner:Xu.current}}function _g(e,t){return{$$typeof:es,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Qu(e){return typeof e=="object"&&e!==null&&e.$$typeof===es}function Og(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(i){return t[i]})}var x1=/\/+/g;function dl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Og(""+e.key):t.toString(36)}function Ps(e,t,i,a,c){var f=typeof e;(f==="undefined"||f==="boolean")&&(e=null);var g=!1;if(e===null)g=!0;else switch(f){case"string":case"number":g=!0;break;case"object":switch(e.$$typeof){case es:case mg:g=!0}}if(g)return g=e,c=c(g),e=a===""?"."+dl(g,0):a,p1(c)?(i="",e!=null&&(i=e.replace(x1,"$&/")+"/"),Ps(c,t,i,"",function(x){return x})):c!=null&&(Qu(c)&&(c=_g(c,i+(!c.key||g&&g.key===c.key?"":(""+c.key).replace(x1,"$&/")+"/")+e)),t.push(c)),1;if(g=0,a=a===""?".":a+":",p1(e))for(var w=0;w<e.length;w++){f=e[w];var C=a+dl(f,w);g+=Ps(f,t,i,C,c)}else if(C=Ng(e),typeof C=="function")for(e=C.call(e),w=0;!(f=e.next()).done;)f=f.value,C=a+dl(f,w++),g+=Ps(f,t,i,C,c);else if(f==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return g}function Es(e,t,i){if(e==null)return e;var a=[],c=0;return Ps(e,a,"","",function(f){return t.call(i,f,c++)}),a}function Mg(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(i){(e._status===0||e._status===-1)&&(e._status=1,e._result=i)},function(i){(e._status===0||e._status===-1)&&(e._status=2,e._result=i)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var jt={current:null},Fs={transition:null},Rg={ReactCurrentDispatcher:jt,ReactCurrentBatchConfig:Fs,ReactCurrentOwner:Xu};Ce.Children={map:Es,forEach:function(e,t,i){Es(e,function(){t.apply(this,arguments)},i)},count:function(e){var t=0;return Es(e,function(){t++}),t},toArray:function(e){return Es(e,function(t){return t})||[]},only:function(e){if(!Qu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ce.Component=Qi;Ce.Fragment=wg;Ce.Profiler=Eg;Ce.PureComponent=Gu;Ce.StrictMode=yg;Ce.Suspense=Ig;Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Rg;Ce.cloneElement=function(e,t,i){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=$0({},e.props),c=e.key,f=e.ref,g=e._owner;if(t!=null){if(t.ref!==void 0&&(f=t.ref,g=Xu.current),t.key!==void 0&&(c=""+t.key),e.type&&e.type.defaultProps)var w=e.type.defaultProps;for(C in t)nf.call(t,C)&&!rf.hasOwnProperty(C)&&(a[C]=t[C]===void 0&&w!==void 0?w[C]:t[C])}var C=arguments.length-2;if(C===1)a.children=i;else if(1<C){w=Array(C);for(var x=0;x<C;x++)w[x]=arguments[x+2];a.children=w}return{$$typeof:es,type:e.type,key:c,ref:f,props:a,_owner:g}};Ce.createContext=function(e){return e={$$typeof:Ag,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Cg,_context:e},e.Consumer=e};Ce.createElement=of;Ce.createFactory=function(e){var t=of.bind(null,e);return t.type=e,t};Ce.createRef=function(){return{current:null}};Ce.forwardRef=function(e){return{$$typeof:Sg,render:e}};Ce.isValidElement=Qu;Ce.lazy=function(e){return{$$typeof:vg,_payload:{_status:-1,_result:e},_init:Mg}};Ce.memo=function(e,t){return{$$typeof:Tg,type:e,compare:t===void 0?null:t}};Ce.startTransition=function(e){var t=Fs.transition;Fs.transition={};try{e()}finally{Fs.transition=t}};Ce.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ce.useCallback=function(e,t){return jt.current.useCallback(e,t)};Ce.useContext=function(e){return jt.current.useContext(e)};Ce.useDebugValue=function(){};Ce.useDeferredValue=function(e){return jt.current.useDeferredValue(e)};Ce.useEffect=function(e,t){return jt.current.useEffect(e,t)};Ce.useId=function(){return jt.current.useId()};Ce.useImperativeHandle=function(e,t,i){return jt.current.useImperativeHandle(e,t,i)};Ce.useInsertionEffect=function(e,t){return jt.current.useInsertionEffect(e,t)};Ce.useLayoutEffect=function(e,t){return jt.current.useLayoutEffect(e,t)};Ce.useMemo=function(e,t){return jt.current.useMemo(e,t)};Ce.useReducer=function(e,t,i){return jt.current.useReducer(e,t,i)};Ce.useRef=function(e){return jt.current.useRef(e)};Ce.useState=function(e){return jt.current.useState(e)};Ce.useSyncExternalStore=function(e,t,i){return jt.current.useSyncExternalStore(e,t,i)};Ce.useTransition=function(){return jt.current.useTransition()};Ce.version="18.2.0";q0.exports=Ce;var er=q0.exports;const Dg=Z0(er);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bg=er,Lg=Symbol.for("react.element"),kg=Symbol.for("react.fragment"),Bg=Object.prototype.hasOwnProperty,Pg=bg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Fg={key:!0,ref:!0,__self:!0,__source:!0};function sf(e,t,i){var a,c={},f=null,g=null;i!==void 0&&(f=""+i),t.key!==void 0&&(f=""+t.key),t.ref!==void 0&&(g=t.ref);for(a in t)Bg.call(t,a)&&!Fg.hasOwnProperty(a)&&(c[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps,t)c[a]===void 0&&(c[a]=t[a]);return{$$typeof:Lg,type:e,key:f,ref:g,props:c,_owner:Pg.current}}Ta.Fragment=kg;Ta.jsx=sf;Ta.jsxs=sf;K0.exports=Ta;var oe=K0.exports,Vl={},af={exports:{}},un={},lf={exports:{}},uf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(ee,de){var ge=ee.length;ee.push(de);e:for(;0<ge;){var Xe=ge-1>>>1,Ie=ee[Xe];if(0<c(Ie,de))ee[Xe]=de,ee[ge]=Ie,ge=Xe;else break e}}function i(ee){return ee.length===0?null:ee[0]}function a(ee){if(ee.length===0)return null;var de=ee[0],ge=ee.pop();if(ge!==de){ee[0]=ge;e:for(var Xe=0,Ie=ee.length,fn=Ie>>>1;Xe<fn;){var Ke=2*(Xe+1)-1,Hr=ee[Ke],ae=Ke+1,dr=ee[ae];if(0>c(Hr,ge))ae<Ie&&0>c(dr,Hr)?(ee[Xe]=dr,ee[ae]=ge,Xe=ae):(ee[Xe]=Hr,ee[Ke]=ge,Xe=Ke);else if(ae<Ie&&0>c(dr,ge))ee[Xe]=dr,ee[ae]=ge,Xe=ae;else break e}}return de}function c(ee,de){var ge=ee.sortIndex-de.sortIndex;return ge!==0?ge:ee.id-de.id}if(typeof performance=="object"&&typeof performance.now=="function"){var f=performance;e.unstable_now=function(){return f.now()}}else{var g=Date,w=g.now();e.unstable_now=function(){return g.now()-w}}var C=[],x=[],S=1,I=null,D=3,z=!1,k=!1,B=!1,ie=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(ee){for(var de=i(x);de!==null;){if(de.callback===null)a(x);else if(de.startTime<=ee)a(x),de.sortIndex=de.expirationTime,t(C,de);else break;de=i(x)}}function j(ee){if(B=!1,_(ee),!k)if(i(C)!==null)k=!0,tt($);else{var de=i(x);de!==null&&pe(j,de.startTime-ee)}}function $(ee,de){k=!1,B&&(B=!1,R(q),q=-1),z=!0;var ge=D;try{for(_(de),I=i(C);I!==null&&(!(I.expirationTime>de)||ee&&!Ue());){var Xe=I.callback;if(typeof Xe=="function"){I.callback=null,D=I.priorityLevel;var Ie=Xe(I.expirationTime<=de);de=e.unstable_now(),typeof Ie=="function"?I.callback=Ie:I===i(C)&&a(C),_(de)}else a(C);I=i(C)}if(I!==null)var fn=!0;else{var Ke=i(x);Ke!==null&&pe(j,Ke.startTime-de),fn=!1}return fn}finally{I=null,D=ge,z=!1}}var K=!1,U=null,q=-1,W=5,xe=-1;function Ue(){return!(e.unstable_now()-xe<W)}function ce(){if(U!==null){var ee=e.unstable_now();xe=ee;var de=!0;try{de=U(!0,ee)}finally{de?Se():(K=!1,U=null)}}else K=!1}var Se;if(typeof N=="function")Se=function(){N(ce)};else if(typeof MessageChannel<"u"){var at=new MessageChannel,H=at.port2;at.port1.onmessage=ce,Se=function(){H.postMessage(null)}}else Se=function(){ie(ce,0)};function tt(ee){U=ee,K||(K=!0,Se())}function pe(ee,de){q=ie(function(){ee(e.unstable_now())},de)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ee){ee.callback=null},e.unstable_continueExecution=function(){k||z||(k=!0,tt($))},e.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<ee?Math.floor(1e3/ee):5},e.unstable_getCurrentPriorityLevel=function(){return D},e.unstable_getFirstCallbackNode=function(){return i(C)},e.unstable_next=function(ee){switch(D){case 1:case 2:case 3:var de=3;break;default:de=D}var ge=D;D=de;try{return ee()}finally{D=ge}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ee,de){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var ge=D;D=ee;try{return de()}finally{D=ge}},e.unstable_scheduleCallback=function(ee,de,ge){var Xe=e.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Xe+ge:Xe):ge=Xe,ee){case 1:var Ie=-1;break;case 2:Ie=250;break;case 5:Ie=1073741823;break;case 4:Ie=1e4;break;default:Ie=5e3}return Ie=ge+Ie,ee={id:S++,callback:de,priorityLevel:ee,startTime:ge,expirationTime:Ie,sortIndex:-1},ge>Xe?(ee.sortIndex=ge,t(x,ee),i(C)===null&&ee===i(x)&&(B?(R(q),q=-1):B=!0,pe(j,ge-Xe))):(ee.sortIndex=Ie,t(C,ee),k||z||(k=!0,tt($))),ee},e.unstable_shouldYield=Ue,e.unstable_wrapCallback=function(ee){var de=D;return function(){var ge=D;D=de;try{return ee.apply(this,arguments)}finally{D=ge}}}})(uf);lf.exports=uf;var Ug=lf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cf=er,ln=Ug;function X(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ff=new Set,Bo={};function li(e,t){zi(e,t),zi(e+"Capture",t)}function zi(e,t){for(Bo[e]=t,e=0;e<t.length;e++)ff.add(t[e])}var sr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wl=Object.prototype.hasOwnProperty,zg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m1={},w1={};function jg(e){return Wl.call(w1,e)?!0:Wl.call(m1,e)?!1:zg.test(e)?w1[e]=!0:(m1[e]=!0,!1)}function Hg(e,t,i,a){if(i!==null&&i.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Vg(e,t,i,a){if(t===null||typeof t>"u"||Hg(e,t,i,a))return!0;if(a)return!1;if(i!==null)switch(i.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ht(e,t,i,a,c,f,g){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=c,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=f,this.removeEmptyString=g}var Mt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Mt[e]=new Ht(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Mt[t]=new Ht(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Mt[e]=new Ht(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Mt[e]=new Ht(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Mt[e]=new Ht(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Mt[e]=new Ht(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Mt[e]=new Ht(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Mt[e]=new Ht(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Mt[e]=new Ht(e,5,!1,e.toLowerCase(),null,!1,!1)});var Zu=/[\-:]([a-z])/g;function Ku(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Zu,Ku);Mt[t]=new Ht(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Zu,Ku);Mt[t]=new Ht(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Zu,Ku);Mt[t]=new Ht(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Mt[e]=new Ht(e,1,!1,e.toLowerCase(),null,!1,!1)});Mt.xlinkHref=new Ht("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Mt[e]=new Ht(e,1,!1,e.toLowerCase(),null,!0,!0)});function qu(e,t,i,a){var c=Mt.hasOwnProperty(t)?Mt[t]:null;(c!==null?c.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Vg(t,i,c,a)&&(i=null),a||c===null?jg(t)&&(i===null?e.removeAttribute(t):e.setAttribute(t,""+i)):c.mustUseProperty?e[c.propertyName]=i===null?c.type===3?!1:"":i:(t=c.attributeName,a=c.attributeNamespace,i===null?e.removeAttribute(t):(c=c.type,i=c===3||c===4&&i===!0?"":""+i,a?e.setAttributeNS(a,t,i):e.setAttribute(t,i))))}var fr=cf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Cs=Symbol.for("react.element"),Ci=Symbol.for("react.portal"),Ai=Symbol.for("react.fragment"),Ju=Symbol.for("react.strict_mode"),Gl=Symbol.for("react.profiler"),df=Symbol.for("react.provider"),hf=Symbol.for("react.context"),$u=Symbol.for("react.forward_ref"),Yl=Symbol.for("react.suspense"),Xl=Symbol.for("react.suspense_list"),ec=Symbol.for("react.memo"),Sr=Symbol.for("react.lazy"),gf=Symbol.for("react.offscreen"),y1=Symbol.iterator;function fo(e){return e===null||typeof e!="object"?null:(e=y1&&e[y1]||e["@@iterator"],typeof e=="function"?e:null)}var et=Object.assign,hl;function Co(e){if(hl===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);hl=t&&t[1]||""}return`
`+hl+e}var gl=!1;function pl(e,t){if(!e||gl)return"";gl=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(x){var a=x}Reflect.construct(e,[],t)}else{try{t.call()}catch(x){a=x}e.call(t.prototype)}else{try{throw Error()}catch(x){a=x}e()}}catch(x){if(x&&a&&typeof x.stack=="string"){for(var c=x.stack.split(`
`),f=a.stack.split(`
`),g=c.length-1,w=f.length-1;1<=g&&0<=w&&c[g]!==f[w];)w--;for(;1<=g&&0<=w;g--,w--)if(c[g]!==f[w]){if(g!==1||w!==1)do if(g--,w--,0>w||c[g]!==f[w]){var C=`
`+c[g].replace(" at new "," at ");return e.displayName&&C.includes("<anonymous>")&&(C=C.replace("<anonymous>",e.displayName)),C}while(1<=g&&0<=w);break}}}finally{gl=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?Co(e):""}function Wg(e){switch(e.tag){case 5:return Co(e.type);case 16:return Co("Lazy");case 13:return Co("Suspense");case 19:return Co("SuspenseList");case 0:case 2:case 15:return e=pl(e.type,!1),e;case 11:return e=pl(e.type.render,!1),e;case 1:return e=pl(e.type,!0),e;default:return""}}function Ql(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ai:return"Fragment";case Ci:return"Portal";case Gl:return"Profiler";case Ju:return"StrictMode";case Yl:return"Suspense";case Xl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case hf:return(e.displayName||"Context")+".Consumer";case df:return(e._context.displayName||"Context")+".Provider";case $u:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ec:return t=e.displayName||null,t!==null?t:Ql(e.type)||"Memo";case Sr:t=e._payload,e=e._init;try{return Ql(e(t))}catch{}}return null}function Gg(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ql(t);case 8:return t===Ju?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Pr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function pf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Yg(e){var t=pf(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var c=i.get,f=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function As(e){e._valueTracker||(e._valueTracker=Yg(e))}function xf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),a="";return e&&(a=pf(e)?e.checked?"true":"false":e.value),e=a,e!==i?(t.setValue(e),!0):!1}function Js(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Zl(e,t){var i=t.checked;return et({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function E1(e,t){var i=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;i=Pr(t.value!=null?t.value:i),e._wrapperState={initialChecked:a,initialValue:i,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function mf(e,t){t=t.checked,t!=null&&qu(e,"checked",t,!1)}function Kl(e,t){mf(e,t);var i=Pr(t.value),a=t.type;if(i!=null)a==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ql(e,t.type,i):t.hasOwnProperty("defaultValue")&&ql(e,t.type,Pr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function C1(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function ql(e,t,i){(t!=="number"||Js(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var Ao=Array.isArray;function Li(e,t,i,a){if(e=e.options,t){t={};for(var c=0;c<i.length;c++)t["$"+i[c]]=!0;for(i=0;i<e.length;i++)c=t.hasOwnProperty("$"+e[i].value),e[i].selected!==c&&(e[i].selected=c),c&&a&&(e[i].defaultSelected=!0)}else{for(i=""+Pr(i),t=null,c=0;c<e.length;c++){if(e[c].value===i){e[c].selected=!0,a&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function Jl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(X(91));return et({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function A1(e,t){var i=t.value;if(i==null){if(i=t.children,t=t.defaultValue,i!=null){if(t!=null)throw Error(X(92));if(Ao(i)){if(1<i.length)throw Error(X(93));i=i[0]}t=i}t==null&&(t=""),i=t}e._wrapperState={initialValue:Pr(i)}}function wf(e,t){var i=Pr(t.value),a=Pr(t.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),t.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),a!=null&&(e.defaultValue=""+a)}function S1(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function yf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $l(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?yf(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ss,Ef=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,i,a,c){MSApp.execUnsafeLocalFunction(function(){return e(t,i,a,c)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ss=Ss||document.createElement("div"),Ss.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ss.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Po(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var vo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xg=["Webkit","ms","Moz","O"];Object.keys(vo).forEach(function(e){Xg.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),vo[t]=vo[e]})});function Cf(e,t,i){return t==null||typeof t=="boolean"||t===""?"":i||typeof t!="number"||t===0||vo.hasOwnProperty(e)&&vo[e]?(""+t).trim():t+"px"}function Af(e,t){e=e.style;for(var i in t)if(t.hasOwnProperty(i)){var a=i.indexOf("--")===0,c=Cf(i,t[i],a);i==="float"&&(i="cssFloat"),a?e.setProperty(i,c):e[i]=c}}var Qg=et({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function eu(e,t){if(t){if(Qg[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(X(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(X(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(X(61))}if(t.style!=null&&typeof t.style!="object")throw Error(X(62))}}function tu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nu=null;function tc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ru=null,ki=null,Bi=null;function I1(e){if(e=rs(e)){if(typeof ru!="function")throw Error(X(280));var t=e.stateNode;t&&(t=Ma(t),ru(e.stateNode,e.type,t))}}function Sf(e){ki?Bi?Bi.push(e):Bi=[e]:ki=e}function If(){if(ki){var e=ki,t=Bi;if(Bi=ki=null,I1(e),t)for(e=0;e<t.length;e++)I1(t[e])}}function Tf(e,t){return e(t)}function vf(){}var xl=!1;function Nf(e,t,i){if(xl)return e(t,i);xl=!0;try{return Tf(e,t,i)}finally{xl=!1,(ki!==null||Bi!==null)&&(vf(),If())}}function Fo(e,t){var i=e.stateNode;if(i===null)return null;var a=Ma(i);if(a===null)return null;i=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(X(231,t,typeof i));return i}var iu=!1;if(sr)try{var ho={};Object.defineProperty(ho,"passive",{get:function(){iu=!0}}),window.addEventListener("test",ho,ho),window.removeEventListener("test",ho,ho)}catch{iu=!1}function Zg(e,t,i,a,c,f,g,w,C){var x=Array.prototype.slice.call(arguments,3);try{t.apply(i,x)}catch(S){this.onError(S)}}var No=!1,$s=null,ea=!1,ou=null,Kg={onError:function(e){No=!0,$s=e}};function qg(e,t,i,a,c,f,g,w,C){No=!1,$s=null,Zg.apply(Kg,arguments)}function Jg(e,t,i,a,c,f,g,w,C){if(qg.apply(this,arguments),No){if(No){var x=$s;No=!1,$s=null}else throw Error(X(198));ea||(ea=!0,ou=x)}}function ui(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function _f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function T1(e){if(ui(e)!==e)throw Error(X(188))}function $g(e){var t=e.alternate;if(!t){if(t=ui(e),t===null)throw Error(X(188));return t!==e?null:e}for(var i=e,a=t;;){var c=i.return;if(c===null)break;var f=c.alternate;if(f===null){if(a=c.return,a!==null){i=a;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===i)return T1(c),e;if(f===a)return T1(c),t;f=f.sibling}throw Error(X(188))}if(i.return!==a.return)i=c,a=f;else{for(var g=!1,w=c.child;w;){if(w===i){g=!0,i=c,a=f;break}if(w===a){g=!0,a=c,i=f;break}w=w.sibling}if(!g){for(w=f.child;w;){if(w===i){g=!0,i=f,a=c;break}if(w===a){g=!0,a=f,i=c;break}w=w.sibling}if(!g)throw Error(X(189))}}if(i.alternate!==a)throw Error(X(190))}if(i.tag!==3)throw Error(X(188));return i.stateNode.current===i?e:t}function Of(e){return e=$g(e),e!==null?Mf(e):null}function Mf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Mf(e);if(t!==null)return t;e=e.sibling}return null}var Rf=ln.unstable_scheduleCallback,v1=ln.unstable_cancelCallback,e2=ln.unstable_shouldYield,t2=ln.unstable_requestPaint,ut=ln.unstable_now,n2=ln.unstable_getCurrentPriorityLevel,nc=ln.unstable_ImmediatePriority,Df=ln.unstable_UserBlockingPriority,ta=ln.unstable_NormalPriority,r2=ln.unstable_LowPriority,bf=ln.unstable_IdlePriority,va=null,Xn=null;function i2(e){if(Xn&&typeof Xn.onCommitFiberRoot=="function")try{Xn.onCommitFiberRoot(va,e,void 0,(e.current.flags&128)===128)}catch{}}var Dn=Math.clz32?Math.clz32:a2,o2=Math.log,s2=Math.LN2;function a2(e){return e>>>=0,e===0?32:31-(o2(e)/s2|0)|0}var Is=64,Ts=4194304;function So(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function na(e,t){var i=e.pendingLanes;if(i===0)return 0;var a=0,c=e.suspendedLanes,f=e.pingedLanes,g=i&268435455;if(g!==0){var w=g&~c;w!==0?a=So(w):(f&=g,f!==0&&(a=So(f)))}else g=i&~c,g!==0?a=So(g):f!==0&&(a=So(f));if(a===0)return 0;if(t!==0&&t!==a&&!(t&c)&&(c=a&-a,f=t&-t,c>=f||c===16&&(f&4194240)!==0))return t;if(a&4&&(a|=i&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)i=31-Dn(t),c=1<<i,a|=e[i],t&=~c;return a}function l2(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function u2(e,t){for(var i=e.suspendedLanes,a=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes;0<f;){var g=31-Dn(f),w=1<<g,C=c[g];C===-1?(!(w&i)||w&a)&&(c[g]=l2(w,t)):C<=t&&(e.expiredLanes|=w),f&=~w}}function su(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Lf(){var e=Is;return Is<<=1,!(Is&4194240)&&(Is=64),e}function ml(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function ts(e,t,i){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Dn(t),e[t]=i}function c2(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<i;){var c=31-Dn(i),f=1<<c;t[c]=0,a[c]=-1,e[c]=-1,i&=~f}}function rc(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var a=31-Dn(i),c=1<<a;c&t|e[a]&t&&(e[a]|=t),i&=~c}}var Le=0;function kf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Bf,ic,Pf,Ff,Uf,au=!1,vs=[],Or=null,Mr=null,Rr=null,Uo=new Map,zo=new Map,Tr=[],f2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function N1(e,t){switch(e){case"focusin":case"focusout":Or=null;break;case"dragenter":case"dragleave":Mr=null;break;case"mouseover":case"mouseout":Rr=null;break;case"pointerover":case"pointerout":Uo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zo.delete(t.pointerId)}}function go(e,t,i,a,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:i,eventSystemFlags:a,nativeEvent:f,targetContainers:[c]},t!==null&&(t=rs(t),t!==null&&ic(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function d2(e,t,i,a,c){switch(t){case"focusin":return Or=go(Or,e,t,i,a,c),!0;case"dragenter":return Mr=go(Mr,e,t,i,a,c),!0;case"mouseover":return Rr=go(Rr,e,t,i,a,c),!0;case"pointerover":var f=c.pointerId;return Uo.set(f,go(Uo.get(f)||null,e,t,i,a,c)),!0;case"gotpointercapture":return f=c.pointerId,zo.set(f,go(zo.get(f)||null,e,t,i,a,c)),!0}return!1}function zf(e){var t=Jr(e.target);if(t!==null){var i=ui(t);if(i!==null){if(t=i.tag,t===13){if(t=_f(i),t!==null){e.blockedOn=t,Uf(e.priority,function(){Pf(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Us(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=lu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var a=new i.constructor(i.type,i);nu=a,i.target.dispatchEvent(a),nu=null}else return t=rs(i),t!==null&&ic(t),e.blockedOn=i,!1;t.shift()}return!0}function _1(e,t,i){Us(e)&&i.delete(t)}function h2(){au=!1,Or!==null&&Us(Or)&&(Or=null),Mr!==null&&Us(Mr)&&(Mr=null),Rr!==null&&Us(Rr)&&(Rr=null),Uo.forEach(_1),zo.forEach(_1)}function po(e,t){e.blockedOn===t&&(e.blockedOn=null,au||(au=!0,ln.unstable_scheduleCallback(ln.unstable_NormalPriority,h2)))}function jo(e){function t(c){return po(c,e)}if(0<vs.length){po(vs[0],e);for(var i=1;i<vs.length;i++){var a=vs[i];a.blockedOn===e&&(a.blockedOn=null)}}for(Or!==null&&po(Or,e),Mr!==null&&po(Mr,e),Rr!==null&&po(Rr,e),Uo.forEach(t),zo.forEach(t),i=0;i<Tr.length;i++)a=Tr[i],a.blockedOn===e&&(a.blockedOn=null);for(;0<Tr.length&&(i=Tr[0],i.blockedOn===null);)zf(i),i.blockedOn===null&&Tr.shift()}var Pi=fr.ReactCurrentBatchConfig,ra=!0;function g2(e,t,i,a){var c=Le,f=Pi.transition;Pi.transition=null;try{Le=1,oc(e,t,i,a)}finally{Le=c,Pi.transition=f}}function p2(e,t,i,a){var c=Le,f=Pi.transition;Pi.transition=null;try{Le=4,oc(e,t,i,a)}finally{Le=c,Pi.transition=f}}function oc(e,t,i,a){if(ra){var c=lu(e,t,i,a);if(c===null)Nl(e,t,a,ia,i),N1(e,a);else if(d2(c,e,t,i,a))a.stopPropagation();else if(N1(e,a),t&4&&-1<f2.indexOf(e)){for(;c!==null;){var f=rs(c);if(f!==null&&Bf(f),f=lu(e,t,i,a),f===null&&Nl(e,t,a,ia,i),f===c)break;c=f}c!==null&&a.stopPropagation()}else Nl(e,t,a,null,i)}}var ia=null;function lu(e,t,i,a){if(ia=null,e=tc(a),e=Jr(e),e!==null)if(t=ui(e),t===null)e=null;else if(i=t.tag,i===13){if(e=_f(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ia=e,null}function jf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(n2()){case nc:return 1;case Df:return 4;case ta:case r2:return 16;case bf:return 536870912;default:return 16}default:return 16}}var Nr=null,sc=null,zs=null;function Hf(){if(zs)return zs;var e,t=sc,i=t.length,a,c="value"in Nr?Nr.value:Nr.textContent,f=c.length;for(e=0;e<i&&t[e]===c[e];e++);var g=i-e;for(a=1;a<=g&&t[i-a]===c[f-a];a++);return zs=c.slice(e,1<a?1-a:void 0)}function js(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ns(){return!0}function O1(){return!1}function cn(e){function t(i,a,c,f,g){this._reactName=i,this._targetInst=c,this.type=a,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(i=e[w],this[w]=i?i(f):f[w]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ns:O1,this.isPropagationStopped=O1,this}return et(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Ns)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Ns)},persist:function(){},isPersistent:Ns}),t}var Zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ac=cn(Zi),ns=et({},Zi,{view:0,detail:0}),x2=cn(ns),wl,yl,xo,Na=et({},ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xo&&(xo&&e.type==="mousemove"?(wl=e.screenX-xo.screenX,yl=e.screenY-xo.screenY):yl=wl=0,xo=e),wl)},movementY:function(e){return"movementY"in e?e.movementY:yl}}),M1=cn(Na),m2=et({},Na,{dataTransfer:0}),w2=cn(m2),y2=et({},ns,{relatedTarget:0}),El=cn(y2),E2=et({},Zi,{animationName:0,elapsedTime:0,pseudoElement:0}),C2=cn(E2),A2=et({},Zi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),S2=cn(A2),I2=et({},Zi,{data:0}),R1=cn(I2),T2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},v2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},N2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _2(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=N2[e])?!!t[e]:!1}function lc(){return _2}var O2=et({},ns,{key:function(e){if(e.key){var t=T2[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=js(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?v2[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lc,charCode:function(e){return e.type==="keypress"?js(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?js(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),M2=cn(O2),R2=et({},Na,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),D1=cn(R2),D2=et({},ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lc}),b2=cn(D2),L2=et({},Zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),k2=cn(L2),B2=et({},Na,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),P2=cn(B2),F2=[9,13,27,32],uc=sr&&"CompositionEvent"in window,_o=null;sr&&"documentMode"in document&&(_o=document.documentMode);var U2=sr&&"TextEvent"in window&&!_o,Vf=sr&&(!uc||_o&&8<_o&&11>=_o),b1=String.fromCharCode(32),L1=!1;function Wf(e,t){switch(e){case"keyup":return F2.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Si=!1;function z2(e,t){switch(e){case"compositionend":return Gf(t);case"keypress":return t.which!==32?null:(L1=!0,b1);case"textInput":return e=t.data,e===b1&&L1?null:e;default:return null}}function j2(e,t){if(Si)return e==="compositionend"||!uc&&Wf(e,t)?(e=Hf(),zs=sc=Nr=null,Si=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vf&&t.locale!=="ko"?null:t.data;default:return null}}var H2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function k1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!H2[e.type]:t==="textarea"}function Yf(e,t,i,a){Sf(a),t=oa(t,"onChange"),0<t.length&&(i=new ac("onChange","change",null,i,a),e.push({event:i,listeners:t}))}var Oo=null,Ho=null;function V2(e){rd(e,0)}function _a(e){var t=vi(e);if(xf(t))return e}function W2(e,t){if(e==="change")return t}var Xf=!1;if(sr){var Cl;if(sr){var Al="oninput"in document;if(!Al){var B1=document.createElement("div");B1.setAttribute("oninput","return;"),Al=typeof B1.oninput=="function"}Cl=Al}else Cl=!1;Xf=Cl&&(!document.documentMode||9<document.documentMode)}function P1(){Oo&&(Oo.detachEvent("onpropertychange",Qf),Ho=Oo=null)}function Qf(e){if(e.propertyName==="value"&&_a(Ho)){var t=[];Yf(t,Ho,e,tc(e)),Nf(V2,t)}}function G2(e,t,i){e==="focusin"?(P1(),Oo=t,Ho=i,Oo.attachEvent("onpropertychange",Qf)):e==="focusout"&&P1()}function Y2(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _a(Ho)}function X2(e,t){if(e==="click")return _a(t)}function Q2(e,t){if(e==="input"||e==="change")return _a(t)}function Z2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ln=typeof Object.is=="function"?Object.is:Z2;function Vo(e,t){if(Ln(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(a=0;a<i.length;a++){var c=i[a];if(!Wl.call(t,c)||!Ln(e[c],t[c]))return!1}return!0}function F1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function U1(e,t){var i=F1(e);e=0;for(var a;i;){if(i.nodeType===3){if(a=e+i.textContent.length,e<=t&&a>=t)return{node:i,offset:t-e};e=a}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=F1(i)}}function Zf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Zf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Kf(){for(var e=window,t=Js();t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=Js(e.document)}return t}function cc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function K2(e){var t=Kf(),i=e.focusedElem,a=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&Zf(i.ownerDocument.documentElement,i)){if(a!==null&&cc(i)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if(e=(t=i.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var c=i.textContent.length,f=Math.min(a.start,c);a=a.end===void 0?f:Math.min(a.end,c),!e.extend&&f>a&&(c=a,a=f,f=c),c=U1(i,f);var g=U1(i,a);c&&g&&(e.rangeCount!==1||e.anchorNode!==c.node||e.anchorOffset!==c.offset||e.focusNode!==g.node||e.focusOffset!==g.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),e.removeAllRanges(),f>a?(e.addRange(t),e.extend(g.node,g.offset)):(t.setEnd(g.node,g.offset),e.addRange(t)))}}for(t=[],e=i;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)e=t[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var q2=sr&&"documentMode"in document&&11>=document.documentMode,Ii=null,uu=null,Mo=null,cu=!1;function z1(e,t,i){var a=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;cu||Ii==null||Ii!==Js(a)||(a=Ii,"selectionStart"in a&&cc(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Mo&&Vo(Mo,a)||(Mo=a,a=oa(uu,"onSelect"),0<a.length&&(t=new ac("onSelect","select",null,t,i),e.push({event:t,listeners:a}),t.target=Ii)))}function _s(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var Ti={animationend:_s("Animation","AnimationEnd"),animationiteration:_s("Animation","AnimationIteration"),animationstart:_s("Animation","AnimationStart"),transitionend:_s("Transition","TransitionEnd")},Sl={},qf={};sr&&(qf=document.createElement("div").style,"AnimationEvent"in window||(delete Ti.animationend.animation,delete Ti.animationiteration.animation,delete Ti.animationstart.animation),"TransitionEvent"in window||delete Ti.transitionend.transition);function Oa(e){if(Sl[e])return Sl[e];if(!Ti[e])return e;var t=Ti[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in qf)return Sl[e]=t[i];return e}var Jf=Oa("animationend"),$f=Oa("animationiteration"),ed=Oa("animationstart"),td=Oa("transitionend"),nd=new Map,j1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ur(e,t){nd.set(e,t),li(t,[e])}for(var Il=0;Il<j1.length;Il++){var Tl=j1[Il],J2=Tl.toLowerCase(),$2=Tl[0].toUpperCase()+Tl.slice(1);Ur(J2,"on"+$2)}Ur(Jf,"onAnimationEnd");Ur($f,"onAnimationIteration");Ur(ed,"onAnimationStart");Ur("dblclick","onDoubleClick");Ur("focusin","onFocus");Ur("focusout","onBlur");Ur(td,"onTransitionEnd");zi("onMouseEnter",["mouseout","mouseover"]);zi("onMouseLeave",["mouseout","mouseover"]);zi("onPointerEnter",["pointerout","pointerover"]);zi("onPointerLeave",["pointerout","pointerover"]);li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));li("onBeforeInput",["compositionend","keypress","textInput","paste"]);li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Io="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ep=new Set("cancel close invalid load scroll toggle".split(" ").concat(Io));function H1(e,t,i){var a=e.type||"unknown-event";e.currentTarget=i,Jg(a,t,void 0,e),e.currentTarget=null}function rd(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var a=e[i],c=a.event;a=a.listeners;e:{var f=void 0;if(t)for(var g=a.length-1;0<=g;g--){var w=a[g],C=w.instance,x=w.currentTarget;if(w=w.listener,C!==f&&c.isPropagationStopped())break e;H1(c,w,x),f=C}else for(g=0;g<a.length;g++){if(w=a[g],C=w.instance,x=w.currentTarget,w=w.listener,C!==f&&c.isPropagationStopped())break e;H1(c,w,x),f=C}}}if(ea)throw e=ou,ea=!1,ou=null,e}function We(e,t){var i=t[pu];i===void 0&&(i=t[pu]=new Set);var a=e+"__bubble";i.has(a)||(id(t,e,2,!1),i.add(a))}function vl(e,t,i){var a=0;t&&(a|=4),id(i,e,a,t)}var Os="_reactListening"+Math.random().toString(36).slice(2);function Wo(e){if(!e[Os]){e[Os]=!0,ff.forEach(function(i){i!=="selectionchange"&&(ep.has(i)||vl(i,!1,e),vl(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Os]||(t[Os]=!0,vl("selectionchange",!1,t))}}function id(e,t,i,a){switch(jf(t)){case 1:var c=g2;break;case 4:c=p2;break;default:c=oc}i=c.bind(null,t,i,e),c=void 0,!iu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),a?c!==void 0?e.addEventListener(t,i,{capture:!0,passive:c}):e.addEventListener(t,i,!0):c!==void 0?e.addEventListener(t,i,{passive:c}):e.addEventListener(t,i,!1)}function Nl(e,t,i,a,c){var f=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var g=a.tag;if(g===3||g===4){var w=a.stateNode.containerInfo;if(w===c||w.nodeType===8&&w.parentNode===c)break;if(g===4)for(g=a.return;g!==null;){var C=g.tag;if((C===3||C===4)&&(C=g.stateNode.containerInfo,C===c||C.nodeType===8&&C.parentNode===c))return;g=g.return}for(;w!==null;){if(g=Jr(w),g===null)return;if(C=g.tag,C===5||C===6){a=f=g;continue e}w=w.parentNode}}a=a.return}Nf(function(){var x=f,S=tc(i),I=[];e:{var D=nd.get(e);if(D!==void 0){var z=ac,k=e;switch(e){case"keypress":if(js(i)===0)break e;case"keydown":case"keyup":z=M2;break;case"focusin":k="focus",z=El;break;case"focusout":k="blur",z=El;break;case"beforeblur":case"afterblur":z=El;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":z=M1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":z=w2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":z=b2;break;case Jf:case $f:case ed:z=C2;break;case td:z=k2;break;case"scroll":z=x2;break;case"wheel":z=P2;break;case"copy":case"cut":case"paste":z=S2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":z=D1}var B=(t&4)!==0,ie=!B&&e==="scroll",R=B?D!==null?D+"Capture":null:D;B=[];for(var N=x,_;N!==null;){_=N;var j=_.stateNode;if(_.tag===5&&j!==null&&(_=j,R!==null&&(j=Fo(N,R),j!=null&&B.push(Go(N,j,_)))),ie)break;N=N.return}0<B.length&&(D=new z(D,k,null,i,S),I.push({event:D,listeners:B}))}}if(!(t&7)){e:{if(D=e==="mouseover"||e==="pointerover",z=e==="mouseout"||e==="pointerout",D&&i!==nu&&(k=i.relatedTarget||i.fromElement)&&(Jr(k)||k[ar]))break e;if((z||D)&&(D=S.window===S?S:(D=S.ownerDocument)?D.defaultView||D.parentWindow:window,z?(k=i.relatedTarget||i.toElement,z=x,k=k?Jr(k):null,k!==null&&(ie=ui(k),k!==ie||k.tag!==5&&k.tag!==6)&&(k=null)):(z=null,k=x),z!==k)){if(B=M1,j="onMouseLeave",R="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(B=D1,j="onPointerLeave",R="onPointerEnter",N="pointer"),ie=z==null?D:vi(z),_=k==null?D:vi(k),D=new B(j,N+"leave",z,i,S),D.target=ie,D.relatedTarget=_,j=null,Jr(S)===x&&(B=new B(R,N+"enter",k,i,S),B.target=_,B.relatedTarget=ie,j=B),ie=j,z&&k)t:{for(B=z,R=k,N=0,_=B;_;_=Ei(_))N++;for(_=0,j=R;j;j=Ei(j))_++;for(;0<N-_;)B=Ei(B),N--;for(;0<_-N;)R=Ei(R),_--;for(;N--;){if(B===R||R!==null&&B===R.alternate)break t;B=Ei(B),R=Ei(R)}B=null}else B=null;z!==null&&V1(I,D,z,B,!1),k!==null&&ie!==null&&V1(I,ie,k,B,!0)}}e:{if(D=x?vi(x):window,z=D.nodeName&&D.nodeName.toLowerCase(),z==="select"||z==="input"&&D.type==="file")var $=W2;else if(k1(D))if(Xf)$=Q2;else{$=Y2;var K=G2}else(z=D.nodeName)&&z.toLowerCase()==="input"&&(D.type==="checkbox"||D.type==="radio")&&($=X2);if($&&($=$(e,x))){Yf(I,$,i,S);break e}K&&K(e,D,x),e==="focusout"&&(K=D._wrapperState)&&K.controlled&&D.type==="number"&&ql(D,"number",D.value)}switch(K=x?vi(x):window,e){case"focusin":(k1(K)||K.contentEditable==="true")&&(Ii=K,uu=x,Mo=null);break;case"focusout":Mo=uu=Ii=null;break;case"mousedown":cu=!0;break;case"contextmenu":case"mouseup":case"dragend":cu=!1,z1(I,i,S);break;case"selectionchange":if(q2)break;case"keydown":case"keyup":z1(I,i,S)}var U;if(uc)e:{switch(e){case"compositionstart":var q="onCompositionStart";break e;case"compositionend":q="onCompositionEnd";break e;case"compositionupdate":q="onCompositionUpdate";break e}q=void 0}else Si?Wf(e,i)&&(q="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(q="onCompositionStart");q&&(Vf&&i.locale!=="ko"&&(Si||q!=="onCompositionStart"?q==="onCompositionEnd"&&Si&&(U=Hf()):(Nr=S,sc="value"in Nr?Nr.value:Nr.textContent,Si=!0)),K=oa(x,q),0<K.length&&(q=new R1(q,e,null,i,S),I.push({event:q,listeners:K}),U?q.data=U:(U=Gf(i),U!==null&&(q.data=U)))),(U=U2?z2(e,i):j2(e,i))&&(x=oa(x,"onBeforeInput"),0<x.length&&(S=new R1("onBeforeInput","beforeinput",null,i,S),I.push({event:S,listeners:x}),S.data=U))}rd(I,t)})}function Go(e,t,i){return{instance:e,listener:t,currentTarget:i}}function oa(e,t){for(var i=t+"Capture",a=[];e!==null;){var c=e,f=c.stateNode;c.tag===5&&f!==null&&(c=f,f=Fo(e,i),f!=null&&a.unshift(Go(e,f,c)),f=Fo(e,t),f!=null&&a.push(Go(e,f,c))),e=e.return}return a}function Ei(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function V1(e,t,i,a,c){for(var f=t._reactName,g=[];i!==null&&i!==a;){var w=i,C=w.alternate,x=w.stateNode;if(C!==null&&C===a)break;w.tag===5&&x!==null&&(w=x,c?(C=Fo(i,f),C!=null&&g.unshift(Go(i,C,w))):c||(C=Fo(i,f),C!=null&&g.push(Go(i,C,w)))),i=i.return}g.length!==0&&e.push({event:t,listeners:g})}var tp=/\r\n?/g,np=/\u0000|\uFFFD/g;function W1(e){return(typeof e=="string"?e:""+e).replace(tp,`
`).replace(np,"")}function Ms(e,t,i){if(t=W1(t),W1(e)!==t&&i)throw Error(X(425))}function sa(){}var fu=null,du=null;function hu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var gu=typeof setTimeout=="function"?setTimeout:void 0,rp=typeof clearTimeout=="function"?clearTimeout:void 0,G1=typeof Promise=="function"?Promise:void 0,ip=typeof queueMicrotask=="function"?queueMicrotask:typeof G1<"u"?function(e){return G1.resolve(null).then(e).catch(op)}:gu;function op(e){setTimeout(function(){throw e})}function _l(e,t){var i=t,a=0;do{var c=i.nextSibling;if(e.removeChild(i),c&&c.nodeType===8)if(i=c.data,i==="/$"){if(a===0){e.removeChild(c),jo(t);return}a--}else i!=="$"&&i!=="$?"&&i!=="$!"||a++;i=c}while(i);jo(t)}function Dr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Y1(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}var Ki=Math.random().toString(36).slice(2),Gn="__reactFiber$"+Ki,Yo="__reactProps$"+Ki,ar="__reactContainer$"+Ki,pu="__reactEvents$"+Ki,sp="__reactListeners$"+Ki,ap="__reactHandles$"+Ki;function Jr(e){var t=e[Gn];if(t)return t;for(var i=e.parentNode;i;){if(t=i[ar]||i[Gn]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=Y1(e);e!==null;){if(i=e[Gn])return i;e=Y1(e)}return t}e=i,i=e.parentNode}return null}function rs(e){return e=e[Gn]||e[ar],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function vi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(X(33))}function Ma(e){return e[Yo]||null}var xu=[],Ni=-1;function zr(e){return{current:e}}function Ye(e){0>Ni||(e.current=xu[Ni],xu[Ni]=null,Ni--)}function He(e,t){Ni++,xu[Ni]=e.current,e.current=t}var Fr={},Bt=zr(Fr),qt=zr(!1),ri=Fr;function ji(e,t){var i=e.type.contextTypes;if(!i)return Fr;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var c={},f;for(f in i)c[f]=t[f];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=c),c}function Jt(e){return e=e.childContextTypes,e!=null}function aa(){Ye(qt),Ye(Bt)}function X1(e,t,i){if(Bt.current!==Fr)throw Error(X(168));He(Bt,t),He(qt,i)}function od(e,t,i){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return i;a=a.getChildContext();for(var c in a)if(!(c in t))throw Error(X(108,Gg(e)||"Unknown",c));return et({},i,a)}function la(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Fr,ri=Bt.current,He(Bt,e),He(qt,qt.current),!0}function Q1(e,t,i){var a=e.stateNode;if(!a)throw Error(X(169));i?(e=od(e,t,ri),a.__reactInternalMemoizedMergedChildContext=e,Ye(qt),Ye(Bt),He(Bt,e)):Ye(qt),He(qt,i)}var Jn=null,Ra=!1,Ol=!1;function sd(e){Jn===null?Jn=[e]:Jn.push(e)}function lp(e){Ra=!0,sd(e)}function jr(){if(!Ol&&Jn!==null){Ol=!0;var e=0,t=Le;try{var i=Jn;for(Le=1;e<i.length;e++){var a=i[e];do a=a(!0);while(a!==null)}Jn=null,Ra=!1}catch(c){throw Jn!==null&&(Jn=Jn.slice(e+1)),Rf(nc,jr),c}finally{Le=t,Ol=!1}}return null}var _i=[],Oi=0,ua=null,ca=0,mn=[],wn=0,ii=null,tr=1,nr="";function Zr(e,t){_i[Oi++]=ca,_i[Oi++]=ua,ua=e,ca=t}function ad(e,t,i){mn[wn++]=tr,mn[wn++]=nr,mn[wn++]=ii,ii=e;var a=tr;e=nr;var c=32-Dn(a)-1;a&=~(1<<c),i+=1;var f=32-Dn(t)+c;if(30<f){var g=c-c%5;f=(a&(1<<g)-1).toString(32),a>>=g,c-=g,tr=1<<32-Dn(t)+c|i<<c|a,nr=f+e}else tr=1<<f|i<<c|a,nr=e}function fc(e){e.return!==null&&(Zr(e,1),ad(e,1,0))}function dc(e){for(;e===ua;)ua=_i[--Oi],_i[Oi]=null,ca=_i[--Oi],_i[Oi]=null;for(;e===ii;)ii=mn[--wn],mn[wn]=null,nr=mn[--wn],mn[wn]=null,tr=mn[--wn],mn[wn]=null}var an=null,sn=null,Ze=!1,Rn=null;function ld(e,t){var i=yn(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,t=e.deletions,t===null?(e.deletions=[i],e.flags|=16):t.push(i)}function Z1(e,t){switch(e.tag){case 5:var i=e.type;return t=t.nodeType!==1||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,an=e,sn=Dr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,an=e,sn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(i=ii!==null?{id:tr,overflow:nr}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},i=yn(18,null,null,0),i.stateNode=t,i.return=e,e.child=i,an=e,sn=null,!0):!1;default:return!1}}function mu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function wu(e){if(Ze){var t=sn;if(t){var i=t;if(!Z1(e,t)){if(mu(e))throw Error(X(418));t=Dr(i.nextSibling);var a=an;t&&Z1(e,t)?ld(a,i):(e.flags=e.flags&-4097|2,Ze=!1,an=e)}}else{if(mu(e))throw Error(X(418));e.flags=e.flags&-4097|2,Ze=!1,an=e}}}function K1(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;an=e}function Rs(e){if(e!==an)return!1;if(!Ze)return K1(e),Ze=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!hu(e.type,e.memoizedProps)),t&&(t=sn)){if(mu(e))throw ud(),Error(X(418));for(;t;)ld(e,t),t=Dr(t.nextSibling)}if(K1(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(X(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(t===0){sn=Dr(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++}e=e.nextSibling}sn=null}}else sn=an?Dr(e.stateNode.nextSibling):null;return!0}function ud(){for(var e=sn;e;)e=Dr(e.nextSibling)}function Hi(){sn=an=null,Ze=!1}function hc(e){Rn===null?Rn=[e]:Rn.push(e)}var up=fr.ReactCurrentBatchConfig;function _n(e,t){if(e&&e.defaultProps){t=et({},t),e=e.defaultProps;for(var i in e)t[i]===void 0&&(t[i]=e[i]);return t}return t}var fa=zr(null),da=null,Mi=null,gc=null;function pc(){gc=Mi=da=null}function xc(e){var t=fa.current;Ye(fa),e._currentValue=t}function yu(e,t,i){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===i)break;e=e.return}}function Fi(e,t){da=e,gc=Mi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Kt=!0),e.firstContext=null)}function An(e){var t=e._currentValue;if(gc!==e)if(e={context:e,memoizedValue:t,next:null},Mi===null){if(da===null)throw Error(X(308));Mi=e,da.dependencies={lanes:0,firstContext:e}}else Mi=Mi.next=e;return t}var $r=null;function mc(e){$r===null?$r=[e]:$r.push(e)}function cd(e,t,i,a){var c=t.interleaved;return c===null?(i.next=i,mc(t)):(i.next=c.next,c.next=i),t.interleaved=i,lr(e,a)}function lr(e,t){e.lanes|=t;var i=e.alternate;for(i!==null&&(i.lanes|=t),i=e,e=e.return;e!==null;)e.childLanes|=t,i=e.alternate,i!==null&&(i.childLanes|=t),i=e,e=e.return;return i.tag===3?i.stateNode:null}var Ir=!1;function wc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ir(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function br(e,t,i){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,_e&2){var c=a.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),a.pending=t,lr(e,i)}return c=a.interleaved,c===null?(t.next=t,mc(a)):(t.next=c.next,c.next=t),a.interleaved=t,lr(e,i)}function Hs(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,i|=a,t.lanes=i,rc(e,i)}}function q1(e,t){var i=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,i===a)){var c=null,f=null;if(i=i.firstBaseUpdate,i!==null){do{var g={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};f===null?c=f=g:f=f.next=g,i=i.next}while(i!==null);f===null?c=f=t:f=f.next=t}else c=f=t;i={baseState:a.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:a.shared,effects:a.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function ha(e,t,i,a){var c=e.updateQueue;Ir=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,w=c.shared.pending;if(w!==null){c.shared.pending=null;var C=w,x=C.next;C.next=null,g===null?f=x:g.next=x,g=C;var S=e.alternate;S!==null&&(S=S.updateQueue,w=S.lastBaseUpdate,w!==g&&(w===null?S.firstBaseUpdate=x:w.next=x,S.lastBaseUpdate=C))}if(f!==null){var I=c.baseState;g=0,S=x=C=null,w=f;do{var D=w.lane,z=w.eventTime;if((a&D)===D){S!==null&&(S=S.next={eventTime:z,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var k=e,B=w;switch(D=t,z=i,B.tag){case 1:if(k=B.payload,typeof k=="function"){I=k.call(z,I,D);break e}I=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=B.payload,D=typeof k=="function"?k.call(z,I,D):k,D==null)break e;I=et({},I,D);break e;case 2:Ir=!0}}w.callback!==null&&w.lane!==0&&(e.flags|=64,D=c.effects,D===null?c.effects=[w]:D.push(w))}else z={eventTime:z,lane:D,tag:w.tag,payload:w.payload,callback:w.callback,next:null},S===null?(x=S=z,C=I):S=S.next=z,g|=D;if(w=w.next,w===null){if(w=c.shared.pending,w===null)break;D=w,w=D.next,D.next=null,c.lastBaseUpdate=D,c.shared.pending=null}}while(1);if(S===null&&(C=I),c.baseState=C,c.firstBaseUpdate=x,c.lastBaseUpdate=S,t=c.shared.interleaved,t!==null){c=t;do g|=c.lane,c=c.next;while(c!==t)}else f===null&&(c.shared.lanes=0);si|=g,e.lanes=g,e.memoizedState=I}}function J1(e,t,i){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],c=a.callback;if(c!==null){if(a.callback=null,a=i,typeof c!="function")throw Error(X(191,c));c.call(a)}}}var dd=new cf.Component().refs;function Eu(e,t,i,a){t=e.memoizedState,i=i(a,t),i=i==null?t:et({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Da={isMounted:function(e){return(e=e._reactInternals)?ui(e)===e:!1},enqueueSetState:function(e,t,i){e=e._reactInternals;var a=zt(),c=kr(e),f=ir(a,c);f.payload=t,i!=null&&(f.callback=i),t=br(e,f,c),t!==null&&(bn(t,e,c,a),Hs(t,e,c))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var a=zt(),c=kr(e),f=ir(a,c);f.tag=1,f.payload=t,i!=null&&(f.callback=i),t=br(e,f,c),t!==null&&(bn(t,e,c,a),Hs(t,e,c))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=zt(),a=kr(e),c=ir(i,a);c.tag=2,t!=null&&(c.callback=t),t=br(e,c,a),t!==null&&(bn(t,e,a,i),Hs(t,e,a))}};function $1(e,t,i,a,c,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,f,g):t.prototype&&t.prototype.isPureReactComponent?!Vo(i,a)||!Vo(c,f):!0}function hd(e,t,i){var a=!1,c=Fr,f=t.contextType;return typeof f=="object"&&f!==null?f=An(f):(c=Jt(t)?ri:Bt.current,a=t.contextTypes,f=(a=a!=null)?ji(e,c):Fr),t=new t(i,f),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Da,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=c,e.__reactInternalMemoizedMaskedChildContext=f),t}function e0(e,t,i,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,a),t.state!==e&&Da.enqueueReplaceState(t,t.state,null)}function Cu(e,t,i,a){var c=e.stateNode;c.props=i,c.state=e.memoizedState,c.refs=dd,wc(e);var f=t.contextType;typeof f=="object"&&f!==null?c.context=An(f):(f=Jt(t)?ri:Bt.current,c.context=ji(e,f)),c.state=e.memoizedState,f=t.getDerivedStateFromProps,typeof f=="function"&&(Eu(e,t,f,i),c.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(t=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),t!==c.state&&Da.enqueueReplaceState(c,c.state,null),ha(e,i,c,a),c.state=e.memoizedState),typeof c.componentDidMount=="function"&&(e.flags|=4194308)}function mo(e,t,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(X(309));var a=i.stateNode}if(!a)throw Error(X(147,e));var c=a,f=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===f?t.ref:(t=function(g){var w=c.refs;w===dd&&(w=c.refs={}),g===null?delete w[f]:w[f]=g},t._stringRef=f,t)}if(typeof e!="string")throw Error(X(284));if(!i._owner)throw Error(X(290,e))}return e}function Ds(e,t){throw e=Object.prototype.toString.call(t),Error(X(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function t0(e){var t=e._init;return t(e._payload)}function gd(e){function t(R,N){if(e){var _=R.deletions;_===null?(R.deletions=[N],R.flags|=16):_.push(N)}}function i(R,N){if(!e)return null;for(;N!==null;)t(R,N),N=N.sibling;return null}function a(R,N){for(R=new Map;N!==null;)N.key!==null?R.set(N.key,N):R.set(N.index,N),N=N.sibling;return R}function c(R,N){return R=Br(R,N),R.index=0,R.sibling=null,R}function f(R,N,_){return R.index=_,e?(_=R.alternate,_!==null?(_=_.index,_<N?(R.flags|=2,N):_):(R.flags|=2,N)):(R.flags|=1048576,N)}function g(R){return e&&R.alternate===null&&(R.flags|=2),R}function w(R,N,_,j){return N===null||N.tag!==6?(N=Bl(_,R.mode,j),N.return=R,N):(N=c(N,_),N.return=R,N)}function C(R,N,_,j){var $=_.type;return $===Ai?S(R,N,_.props.children,j,_.key):N!==null&&(N.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===Sr&&t0($)===N.type)?(j=c(N,_.props),j.ref=mo(R,N,_),j.return=R,j):(j=Qs(_.type,_.key,_.props,null,R.mode,j),j.ref=mo(R,N,_),j.return=R,j)}function x(R,N,_,j){return N===null||N.tag!==4||N.stateNode.containerInfo!==_.containerInfo||N.stateNode.implementation!==_.implementation?(N=Pl(_,R.mode,j),N.return=R,N):(N=c(N,_.children||[]),N.return=R,N)}function S(R,N,_,j,$){return N===null||N.tag!==7?(N=ni(_,R.mode,j,$),N.return=R,N):(N=c(N,_),N.return=R,N)}function I(R,N,_){if(typeof N=="string"&&N!==""||typeof N=="number")return N=Bl(""+N,R.mode,_),N.return=R,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Cs:return _=Qs(N.type,N.key,N.props,null,R.mode,_),_.ref=mo(R,null,N),_.return=R,_;case Ci:return N=Pl(N,R.mode,_),N.return=R,N;case Sr:var j=N._init;return I(R,j(N._payload),_)}if(Ao(N)||fo(N))return N=ni(N,R.mode,_,null),N.return=R,N;Ds(R,N)}return null}function D(R,N,_,j){var $=N!==null?N.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return $!==null?null:w(R,N,""+_,j);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Cs:return _.key===$?C(R,N,_,j):null;case Ci:return _.key===$?x(R,N,_,j):null;case Sr:return $=_._init,D(R,N,$(_._payload),j)}if(Ao(_)||fo(_))return $!==null?null:S(R,N,_,j,null);Ds(R,_)}return null}function z(R,N,_,j,$){if(typeof j=="string"&&j!==""||typeof j=="number")return R=R.get(_)||null,w(N,R,""+j,$);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Cs:return R=R.get(j.key===null?_:j.key)||null,C(N,R,j,$);case Ci:return R=R.get(j.key===null?_:j.key)||null,x(N,R,j,$);case Sr:var K=j._init;return z(R,N,_,K(j._payload),$)}if(Ao(j)||fo(j))return R=R.get(_)||null,S(N,R,j,$,null);Ds(N,j)}return null}function k(R,N,_,j){for(var $=null,K=null,U=N,q=N=0,W=null;U!==null&&q<_.length;q++){U.index>q?(W=U,U=null):W=U.sibling;var xe=D(R,U,_[q],j);if(xe===null){U===null&&(U=W);break}e&&U&&xe.alternate===null&&t(R,U),N=f(xe,N,q),K===null?$=xe:K.sibling=xe,K=xe,U=W}if(q===_.length)return i(R,U),Ze&&Zr(R,q),$;if(U===null){for(;q<_.length;q++)U=I(R,_[q],j),U!==null&&(N=f(U,N,q),K===null?$=U:K.sibling=U,K=U);return Ze&&Zr(R,q),$}for(U=a(R,U);q<_.length;q++)W=z(U,R,q,_[q],j),W!==null&&(e&&W.alternate!==null&&U.delete(W.key===null?q:W.key),N=f(W,N,q),K===null?$=W:K.sibling=W,K=W);return e&&U.forEach(function(Ue){return t(R,Ue)}),Ze&&Zr(R,q),$}function B(R,N,_,j){var $=fo(_);if(typeof $!="function")throw Error(X(150));if(_=$.call(_),_==null)throw Error(X(151));for(var K=$=null,U=N,q=N=0,W=null,xe=_.next();U!==null&&!xe.done;q++,xe=_.next()){U.index>q?(W=U,U=null):W=U.sibling;var Ue=D(R,U,xe.value,j);if(Ue===null){U===null&&(U=W);break}e&&U&&Ue.alternate===null&&t(R,U),N=f(Ue,N,q),K===null?$=Ue:K.sibling=Ue,K=Ue,U=W}if(xe.done)return i(R,U),Ze&&Zr(R,q),$;if(U===null){for(;!xe.done;q++,xe=_.next())xe=I(R,xe.value,j),xe!==null&&(N=f(xe,N,q),K===null?$=xe:K.sibling=xe,K=xe);return Ze&&Zr(R,q),$}for(U=a(R,U);!xe.done;q++,xe=_.next())xe=z(U,R,q,xe.value,j),xe!==null&&(e&&xe.alternate!==null&&U.delete(xe.key===null?q:xe.key),N=f(xe,N,q),K===null?$=xe:K.sibling=xe,K=xe);return e&&U.forEach(function(ce){return t(R,ce)}),Ze&&Zr(R,q),$}function ie(R,N,_,j){if(typeof _=="object"&&_!==null&&_.type===Ai&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Cs:e:{for(var $=_.key,K=N;K!==null;){if(K.key===$){if($=_.type,$===Ai){if(K.tag===7){i(R,K.sibling),N=c(K,_.props.children),N.return=R,R=N;break e}}else if(K.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===Sr&&t0($)===K.type){i(R,K.sibling),N=c(K,_.props),N.ref=mo(R,K,_),N.return=R,R=N;break e}i(R,K);break}else t(R,K);K=K.sibling}_.type===Ai?(N=ni(_.props.children,R.mode,j,_.key),N.return=R,R=N):(j=Qs(_.type,_.key,_.props,null,R.mode,j),j.ref=mo(R,N,_),j.return=R,R=j)}return g(R);case Ci:e:{for(K=_.key;N!==null;){if(N.key===K)if(N.tag===4&&N.stateNode.containerInfo===_.containerInfo&&N.stateNode.implementation===_.implementation){i(R,N.sibling),N=c(N,_.children||[]),N.return=R,R=N;break e}else{i(R,N);break}else t(R,N);N=N.sibling}N=Pl(_,R.mode,j),N.return=R,R=N}return g(R);case Sr:return K=_._init,ie(R,N,K(_._payload),j)}if(Ao(_))return k(R,N,_,j);if(fo(_))return B(R,N,_,j);Ds(R,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,N!==null&&N.tag===6?(i(R,N.sibling),N=c(N,_),N.return=R,R=N):(i(R,N),N=Bl(_,R.mode,j),N.return=R,R=N),g(R)):i(R,N)}return ie}var Vi=gd(!0),pd=gd(!1),is={},Qn=zr(is),Xo=zr(is),Qo=zr(is);function ei(e){if(e===is)throw Error(X(174));return e}function yc(e,t){switch(He(Qo,t),He(Xo,e),He(Qn,is),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:$l(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=$l(t,e)}Ye(Qn),He(Qn,t)}function Wi(){Ye(Qn),Ye(Xo),Ye(Qo)}function xd(e){ei(Qo.current);var t=ei(Qn.current),i=$l(t,e.type);t!==i&&(He(Xo,e),He(Qn,i))}function Ec(e){Xo.current===e&&(Ye(Qn),Ye(Xo))}var Je=zr(0);function ga(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ml=[];function Cc(){for(var e=0;e<Ml.length;e++)Ml[e]._workInProgressVersionPrimary=null;Ml.length=0}var Vs=fr.ReactCurrentDispatcher,Rl=fr.ReactCurrentBatchConfig,oi=0,$e=null,xt=null,Ct=null,pa=!1,Ro=!1,Zo=0,cp=0;function bt(){throw Error(X(321))}function Ac(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!Ln(e[i],t[i]))return!1;return!0}function Sc(e,t,i,a,c,f){if(oi=f,$e=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Vs.current=e===null||e.memoizedState===null?gp:pp,e=i(a,c),Ro){f=0;do{if(Ro=!1,Zo=0,25<=f)throw Error(X(301));f+=1,Ct=xt=null,t.updateQueue=null,Vs.current=xp,e=i(a,c)}while(Ro)}if(Vs.current=xa,t=xt!==null&&xt.next!==null,oi=0,Ct=xt=$e=null,pa=!1,t)throw Error(X(300));return e}function Ic(){var e=Zo!==0;return Zo=0,e}function Vn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?$e.memoizedState=Ct=e:Ct=Ct.next=e,Ct}function Sn(){if(xt===null){var e=$e.alternate;e=e!==null?e.memoizedState:null}else e=xt.next;var t=Ct===null?$e.memoizedState:Ct.next;if(t!==null)Ct=t,xt=e;else{if(e===null)throw Error(X(310));xt=e,e={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},Ct===null?$e.memoizedState=Ct=e:Ct=Ct.next=e}return Ct}function Ko(e,t){return typeof t=="function"?t(e):t}function Dl(e){var t=Sn(),i=t.queue;if(i===null)throw Error(X(311));i.lastRenderedReducer=e;var a=xt,c=a.baseQueue,f=i.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}a.baseQueue=c=f,i.pending=null}if(c!==null){f=c.next,a=a.baseState;var w=g=null,C=null,x=f;do{var S=x.lane;if((oi&S)===S)C!==null&&(C=C.next={lane:0,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null}),a=x.hasEagerState?x.eagerState:e(a,x.action);else{var I={lane:S,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null};C===null?(w=C=I,g=a):C=C.next=I,$e.lanes|=S,si|=S}x=x.next}while(x!==null&&x!==f);C===null?g=a:C.next=w,Ln(a,t.memoizedState)||(Kt=!0),t.memoizedState=a,t.baseState=g,t.baseQueue=C,i.lastRenderedState=a}if(e=i.interleaved,e!==null){c=e;do f=c.lane,$e.lanes|=f,si|=f,c=c.next;while(c!==e)}else c===null&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function bl(e){var t=Sn(),i=t.queue;if(i===null)throw Error(X(311));i.lastRenderedReducer=e;var a=i.dispatch,c=i.pending,f=t.memoizedState;if(c!==null){i.pending=null;var g=c=c.next;do f=e(f,g.action),g=g.next;while(g!==c);Ln(f,t.memoizedState)||(Kt=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),i.lastRenderedState=f}return[f,a]}function md(){}function wd(e,t){var i=$e,a=Sn(),c=t(),f=!Ln(a.memoizedState,c);if(f&&(a.memoizedState=c,Kt=!0),a=a.queue,Tc(Cd.bind(null,i,a,e),[e]),a.getSnapshot!==t||f||Ct!==null&&Ct.memoizedState.tag&1){if(i.flags|=2048,qo(9,Ed.bind(null,i,a,c,t),void 0,null),At===null)throw Error(X(349));oi&30||yd(i,t,c)}return c}function yd(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=$e.updateQueue,t===null?(t={lastEffect:null,stores:null},$e.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function Ed(e,t,i,a){t.value=i,t.getSnapshot=a,Ad(t)&&Sd(e)}function Cd(e,t,i){return i(function(){Ad(t)&&Sd(e)})}function Ad(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!Ln(e,i)}catch{return!0}}function Sd(e){var t=lr(e,1);t!==null&&bn(t,e,1,-1)}function n0(e){var t=Vn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ko,lastRenderedState:e},t.queue=e,e=e.dispatch=hp.bind(null,$e,e),[t.memoizedState,e]}function qo(e,t,i,a){return e={tag:e,create:t,destroy:i,deps:a,next:null},t=$e.updateQueue,t===null?(t={lastEffect:null,stores:null},$e.updateQueue=t,t.lastEffect=e.next=e):(i=t.lastEffect,i===null?t.lastEffect=e.next=e:(a=i.next,i.next=e,e.next=a,t.lastEffect=e)),e}function Id(){return Sn().memoizedState}function Ws(e,t,i,a){var c=Vn();$e.flags|=e,c.memoizedState=qo(1|t,i,void 0,a===void 0?null:a)}function ba(e,t,i,a){var c=Sn();a=a===void 0?null:a;var f=void 0;if(xt!==null){var g=xt.memoizedState;if(f=g.destroy,a!==null&&Ac(a,g.deps)){c.memoizedState=qo(t,i,f,a);return}}$e.flags|=e,c.memoizedState=qo(1|t,i,f,a)}function r0(e,t){return Ws(8390656,8,e,t)}function Tc(e,t){return ba(2048,8,e,t)}function Td(e,t){return ba(4,2,e,t)}function vd(e,t){return ba(4,4,e,t)}function Nd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function _d(e,t,i){return i=i!=null?i.concat([e]):null,ba(4,4,Nd.bind(null,t,e),i)}function vc(){}function Od(e,t){var i=Sn();t=t===void 0?null:t;var a=i.memoizedState;return a!==null&&t!==null&&Ac(t,a[1])?a[0]:(i.memoizedState=[e,t],e)}function Md(e,t){var i=Sn();t=t===void 0?null:t;var a=i.memoizedState;return a!==null&&t!==null&&Ac(t,a[1])?a[0]:(e=e(),i.memoizedState=[e,t],e)}function Rd(e,t,i){return oi&21?(Ln(i,t)||(i=Lf(),$e.lanes|=i,si|=i,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Kt=!0),e.memoizedState=i)}function fp(e,t){var i=Le;Le=i!==0&&4>i?i:4,e(!0);var a=Rl.transition;Rl.transition={};try{e(!1),t()}finally{Le=i,Rl.transition=a}}function Dd(){return Sn().memoizedState}function dp(e,t,i){var a=kr(e);if(i={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null},bd(e))Ld(t,i);else if(i=cd(e,t,i,a),i!==null){var c=zt();bn(i,e,a,c),kd(i,t,a)}}function hp(e,t,i){var a=kr(e),c={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null};if(bd(e))Ld(t,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var g=t.lastRenderedState,w=f(g,i);if(c.hasEagerState=!0,c.eagerState=w,Ln(w,g)){var C=t.interleaved;C===null?(c.next=c,mc(t)):(c.next=C.next,C.next=c),t.interleaved=c;return}}catch{}finally{}i=cd(e,t,c,a),i!==null&&(c=zt(),bn(i,e,a,c),kd(i,t,a))}}function bd(e){var t=e.alternate;return e===$e||t!==null&&t===$e}function Ld(e,t){Ro=pa=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function kd(e,t,i){if(i&4194240){var a=t.lanes;a&=e.pendingLanes,i|=a,t.lanes=i,rc(e,i)}}var xa={readContext:An,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useInsertionEffect:bt,useLayoutEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useMutableSource:bt,useSyncExternalStore:bt,useId:bt,unstable_isNewReconciler:!1},gp={readContext:An,useCallback:function(e,t){return Vn().memoizedState=[e,t===void 0?null:t],e},useContext:An,useEffect:r0,useImperativeHandle:function(e,t,i){return i=i!=null?i.concat([e]):null,Ws(4194308,4,Nd.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Ws(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ws(4,2,e,t)},useMemo:function(e,t){var i=Vn();return t=t===void 0?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var a=Vn();return t=i!==void 0?i(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=dp.bind(null,$e,e),[a.memoizedState,e]},useRef:function(e){var t=Vn();return e={current:e},t.memoizedState=e},useState:n0,useDebugValue:vc,useDeferredValue:function(e){return Vn().memoizedState=e},useTransition:function(){var e=n0(!1),t=e[0];return e=fp.bind(null,e[1]),Vn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var a=$e,c=Vn();if(Ze){if(i===void 0)throw Error(X(407));i=i()}else{if(i=t(),At===null)throw Error(X(349));oi&30||yd(a,t,i)}c.memoizedState=i;var f={value:i,getSnapshot:t};return c.queue=f,r0(Cd.bind(null,a,f,e),[e]),a.flags|=2048,qo(9,Ed.bind(null,a,f,i,t),void 0,null),i},useId:function(){var e=Vn(),t=At.identifierPrefix;if(Ze){var i=nr,a=tr;i=(a&~(1<<32-Dn(a)-1)).toString(32)+i,t=":"+t+"R"+i,i=Zo++,0<i&&(t+="H"+i.toString(32)),t+=":"}else i=cp++,t=":"+t+"r"+i.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},pp={readContext:An,useCallback:Od,useContext:An,useEffect:Tc,useImperativeHandle:_d,useInsertionEffect:Td,useLayoutEffect:vd,useMemo:Md,useReducer:Dl,useRef:Id,useState:function(){return Dl(Ko)},useDebugValue:vc,useDeferredValue:function(e){var t=Sn();return Rd(t,xt.memoizedState,e)},useTransition:function(){var e=Dl(Ko)[0],t=Sn().memoizedState;return[e,t]},useMutableSource:md,useSyncExternalStore:wd,useId:Dd,unstable_isNewReconciler:!1},xp={readContext:An,useCallback:Od,useContext:An,useEffect:Tc,useImperativeHandle:_d,useInsertionEffect:Td,useLayoutEffect:vd,useMemo:Md,useReducer:bl,useRef:Id,useState:function(){return bl(Ko)},useDebugValue:vc,useDeferredValue:function(e){var t=Sn();return xt===null?t.memoizedState=e:Rd(t,xt.memoizedState,e)},useTransition:function(){var e=bl(Ko)[0],t=Sn().memoizedState;return[e,t]},useMutableSource:md,useSyncExternalStore:wd,useId:Dd,unstable_isNewReconciler:!1};function Gi(e,t){try{var i="",a=t;do i+=Wg(a),a=a.return;while(a);var c=i}catch(f){c=`
Error generating stack: `+f.message+`
`+f.stack}return{value:e,source:t,stack:c,digest:null}}function Ll(e,t,i){return{value:e,source:null,stack:i??null,digest:t??null}}function Au(e,t){try{console.error(t.value)}catch(i){setTimeout(function(){throw i})}}var mp=typeof WeakMap=="function"?WeakMap:Map;function Bd(e,t,i){i=ir(-1,i),i.tag=3,i.payload={element:null};var a=t.value;return i.callback=function(){wa||(wa=!0,Du=a),Au(e,t)},i}function Pd(e,t,i){i=ir(-1,i),i.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var c=t.value;i.payload=function(){return a(c)},i.callback=function(){Au(e,t)}}var f=e.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(i.callback=function(){Au(e,t),typeof a!="function"&&(Lr===null?Lr=new Set([this]):Lr.add(this));var g=t.stack;this.componentDidCatch(t.value,{componentStack:g!==null?g:""})}),i}function i0(e,t,i){var a=e.pingCache;if(a===null){a=e.pingCache=new mp;var c=new Set;a.set(t,c)}else c=a.get(t),c===void 0&&(c=new Set,a.set(t,c));c.has(i)||(c.add(i),e=Rp.bind(null,e,t,i),t.then(e,e))}function o0(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function s0(e,t,i,a,c){return e.mode&1?(e.flags|=65536,e.lanes=c,e):(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(t=ir(-1,1),t.tag=2,br(i,t,1))),i.lanes|=1),e)}var wp=fr.ReactCurrentOwner,Kt=!1;function Ut(e,t,i,a){t.child=e===null?pd(t,null,i,a):Vi(t,e.child,i,a)}function a0(e,t,i,a,c){i=i.render;var f=t.ref;return Fi(t,c),a=Sc(e,t,i,a,f,c),i=Ic(),e!==null&&!Kt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~c,ur(e,t,c)):(Ze&&i&&fc(t),t.flags|=1,Ut(e,t,a,c),t.child)}function l0(e,t,i,a,c){if(e===null){var f=i.type;return typeof f=="function"&&!Lc(f)&&f.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(t.tag=15,t.type=f,Fd(e,t,f,a,c)):(e=Qs(i.type,null,a,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,!(e.lanes&c)){var g=f.memoizedProps;if(i=i.compare,i=i!==null?i:Vo,i(g,a)&&e.ref===t.ref)return ur(e,t,c)}return t.flags|=1,e=Br(f,a),e.ref=t.ref,e.return=t,t.child=e}function Fd(e,t,i,a,c){if(e!==null){var f=e.memoizedProps;if(Vo(f,a)&&e.ref===t.ref)if(Kt=!1,t.pendingProps=a=f,(e.lanes&c)!==0)e.flags&131072&&(Kt=!0);else return t.lanes=e.lanes,ur(e,t,c)}return Su(e,t,i,a,c)}function Ud(e,t,i){var a=t.pendingProps,c=a.children,f=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(Di,rn),rn|=i;else{if(!(i&1073741824))return e=f!==null?f.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,He(Di,rn),rn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=f!==null?f.baseLanes:i,He(Di,rn),rn|=a}else f!==null?(a=f.baseLanes|i,t.memoizedState=null):a=i,He(Di,rn),rn|=a;return Ut(e,t,c,i),t.child}function zd(e,t){var i=t.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function Su(e,t,i,a,c){var f=Jt(i)?ri:Bt.current;return f=ji(t,f),Fi(t,c),i=Sc(e,t,i,a,f,c),a=Ic(),e!==null&&!Kt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~c,ur(e,t,c)):(Ze&&a&&fc(t),t.flags|=1,Ut(e,t,i,c),t.child)}function u0(e,t,i,a,c){if(Jt(i)){var f=!0;la(t)}else f=!1;if(Fi(t,c),t.stateNode===null)Gs(e,t),hd(t,i,a),Cu(t,i,a,c),a=!0;else if(e===null){var g=t.stateNode,w=t.memoizedProps;g.props=w;var C=g.context,x=i.contextType;typeof x=="object"&&x!==null?x=An(x):(x=Jt(i)?ri:Bt.current,x=ji(t,x));var S=i.getDerivedStateFromProps,I=typeof S=="function"||typeof g.getSnapshotBeforeUpdate=="function";I||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w!==a||C!==x)&&e0(t,g,a,x),Ir=!1;var D=t.memoizedState;g.state=D,ha(t,a,g,c),C=t.memoizedState,w!==a||D!==C||qt.current||Ir?(typeof S=="function"&&(Eu(t,i,S,a),C=t.memoizedState),(w=Ir||$1(t,i,w,a,D,C,x))?(I||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(t.flags|=4194308)):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=C),g.props=a,g.state=C,g.context=x,a=w):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{g=t.stateNode,fd(e,t),w=t.memoizedProps,x=t.type===t.elementType?w:_n(t.type,w),g.props=x,I=t.pendingProps,D=g.context,C=i.contextType,typeof C=="object"&&C!==null?C=An(C):(C=Jt(i)?ri:Bt.current,C=ji(t,C));var z=i.getDerivedStateFromProps;(S=typeof z=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w!==I||D!==C)&&e0(t,g,a,C),Ir=!1,D=t.memoizedState,g.state=D,ha(t,a,g,c);var k=t.memoizedState;w!==I||D!==k||qt.current||Ir?(typeof z=="function"&&(Eu(t,i,z,a),k=t.memoizedState),(x=Ir||$1(t,i,x,a,D,k,C)||!1)?(S||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(a,k,C),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(a,k,C)),typeof g.componentDidUpdate=="function"&&(t.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof g.componentDidUpdate!="function"||w===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=k),g.props=a,g.state=k,g.context=C,a=x):(typeof g.componentDidUpdate!="function"||w===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),a=!1)}return Iu(e,t,i,a,f,c)}function Iu(e,t,i,a,c,f){zd(e,t);var g=(t.flags&128)!==0;if(!a&&!g)return c&&Q1(t,i,!1),ur(e,t,f);a=t.stateNode,wp.current=t;var w=g&&typeof i.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&g?(t.child=Vi(t,e.child,null,f),t.child=Vi(t,null,w,f)):Ut(e,t,w,f),t.memoizedState=a.state,c&&Q1(t,i,!0),t.child}function jd(e){var t=e.stateNode;t.pendingContext?X1(e,t.pendingContext,t.pendingContext!==t.context):t.context&&X1(e,t.context,!1),yc(e,t.containerInfo)}function c0(e,t,i,a,c){return Hi(),hc(c),t.flags|=256,Ut(e,t,i,a),t.child}var Tu={dehydrated:null,treeContext:null,retryLane:0};function vu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Hd(e,t,i){var a=t.pendingProps,c=Je.current,f=!1,g=(t.flags&128)!==0,w;if((w=g)||(w=e!==null&&e.memoizedState===null?!1:(c&2)!==0),w?(f=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(c|=1),He(Je,c&1),e===null)return wu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(g=a.children,e=a.fallback,f?(a=t.mode,f=t.child,g={mode:"hidden",children:g},!(a&1)&&f!==null?(f.childLanes=0,f.pendingProps=g):f=Ba(g,a,0,null),e=ni(e,a,i,null),f.return=t,e.return=t,f.sibling=e,t.child=f,t.child.memoizedState=vu(i),t.memoizedState=Tu,e):Nc(t,g));if(c=e.memoizedState,c!==null&&(w=c.dehydrated,w!==null))return yp(e,t,g,a,w,c,i);if(f){f=a.fallback,g=t.mode,c=e.child,w=c.sibling;var C={mode:"hidden",children:a.children};return!(g&1)&&t.child!==c?(a=t.child,a.childLanes=0,a.pendingProps=C,t.deletions=null):(a=Br(c,C),a.subtreeFlags=c.subtreeFlags&14680064),w!==null?f=Br(w,f):(f=ni(f,g,i,null),f.flags|=2),f.return=t,a.return=t,a.sibling=f,t.child=a,a=f,f=t.child,g=e.child.memoizedState,g=g===null?vu(i):{baseLanes:g.baseLanes|i,cachePool:null,transitions:g.transitions},f.memoizedState=g,f.childLanes=e.childLanes&~i,t.memoizedState=Tu,a}return f=e.child,e=f.sibling,a=Br(f,{mode:"visible",children:a.children}),!(t.mode&1)&&(a.lanes=i),a.return=t,a.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=a,t.memoizedState=null,a}function Nc(e,t){return t=Ba({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function bs(e,t,i,a){return a!==null&&hc(a),Vi(t,e.child,null,i),e=Nc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function yp(e,t,i,a,c,f,g){if(i)return t.flags&256?(t.flags&=-257,a=Ll(Error(X(422))),bs(e,t,g,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(f=a.fallback,c=t.mode,a=Ba({mode:"visible",children:a.children},c,0,null),f=ni(f,c,g,null),f.flags|=2,a.return=t,f.return=t,a.sibling=f,t.child=a,t.mode&1&&Vi(t,e.child,null,g),t.child.memoizedState=vu(g),t.memoizedState=Tu,f);if(!(t.mode&1))return bs(e,t,g,null);if(c.data==="$!"){if(a=c.nextSibling&&c.nextSibling.dataset,a)var w=a.dgst;return a=w,f=Error(X(419)),a=Ll(f,a,void 0),bs(e,t,g,a)}if(w=(g&e.childLanes)!==0,Kt||w){if(a=At,a!==null){switch(g&-g){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=c&(a.suspendedLanes|g)?0:c,c!==0&&c!==f.retryLane&&(f.retryLane=c,lr(e,c),bn(a,e,c,-1))}return bc(),a=Ll(Error(X(421))),bs(e,t,g,a)}return c.data==="$?"?(t.flags|=128,t.child=e.child,t=Dp.bind(null,e),c._reactRetry=t,null):(e=f.treeContext,sn=Dr(c.nextSibling),an=t,Ze=!0,Rn=null,e!==null&&(mn[wn++]=tr,mn[wn++]=nr,mn[wn++]=ii,tr=e.id,nr=e.overflow,ii=t),t=Nc(t,a.children),t.flags|=4096,t)}function f0(e,t,i){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),yu(e.return,t,i)}function kl(e,t,i,a,c){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:i,tailMode:c}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=a,f.tail=i,f.tailMode=c)}function Vd(e,t,i){var a=t.pendingProps,c=a.revealOrder,f=a.tail;if(Ut(e,t,a.children,i),a=Je.current,a&2)a=a&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&f0(e,i,t);else if(e.tag===19)f0(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(He(Je,a),!(t.mode&1))t.memoizedState=null;else switch(c){case"forwards":for(i=t.child,c=null;i!==null;)e=i.alternate,e!==null&&ga(e)===null&&(c=i),i=i.sibling;i=c,i===null?(c=t.child,t.child=null):(c=i.sibling,i.sibling=null),kl(t,!1,c,i,f);break;case"backwards":for(i=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&ga(e)===null){t.child=c;break}e=c.sibling,c.sibling=i,i=c,c=e}kl(t,!0,i,null,f);break;case"together":kl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Gs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ur(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),si|=t.lanes,!(i&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(X(153));if(t.child!==null){for(e=t.child,i=Br(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=Br(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function Ep(e,t,i){switch(t.tag){case 3:jd(t),Hi();break;case 5:xd(t);break;case 1:Jt(t.type)&&la(t);break;case 4:yc(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,c=t.memoizedProps.value;He(fa,a._currentValue),a._currentValue=c;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(He(Je,Je.current&1),t.flags|=128,null):i&t.child.childLanes?Hd(e,t,i):(He(Je,Je.current&1),e=ur(e,t,i),e!==null?e.sibling:null);He(Je,Je.current&1);break;case 19:if(a=(i&t.childLanes)!==0,e.flags&128){if(a)return Vd(e,t,i);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),He(Je,Je.current),a)break;return null;case 22:case 23:return t.lanes=0,Ud(e,t,i)}return ur(e,t,i)}var Wd,Nu,Gd,Yd;Wd=function(e,t){for(var i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};Nu=function(){};Gd=function(e,t,i,a){var c=e.memoizedProps;if(c!==a){e=t.stateNode,ei(Qn.current);var f=null;switch(i){case"input":c=Zl(e,c),a=Zl(e,a),f=[];break;case"select":c=et({},c,{value:void 0}),a=et({},a,{value:void 0}),f=[];break;case"textarea":c=Jl(e,c),a=Jl(e,a),f=[];break;default:typeof c.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=sa)}eu(i,a);var g;i=null;for(x in c)if(!a.hasOwnProperty(x)&&c.hasOwnProperty(x)&&c[x]!=null)if(x==="style"){var w=c[x];for(g in w)w.hasOwnProperty(g)&&(i||(i={}),i[g]="")}else x!=="dangerouslySetInnerHTML"&&x!=="children"&&x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(Bo.hasOwnProperty(x)?f||(f=[]):(f=f||[]).push(x,null));for(x in a){var C=a[x];if(w=c!=null?c[x]:void 0,a.hasOwnProperty(x)&&C!==w&&(C!=null||w!=null))if(x==="style")if(w){for(g in w)!w.hasOwnProperty(g)||C&&C.hasOwnProperty(g)||(i||(i={}),i[g]="");for(g in C)C.hasOwnProperty(g)&&w[g]!==C[g]&&(i||(i={}),i[g]=C[g])}else i||(f||(f=[]),f.push(x,i)),i=C;else x==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,w=w?w.__html:void 0,C!=null&&w!==C&&(f=f||[]).push(x,C)):x==="children"?typeof C!="string"&&typeof C!="number"||(f=f||[]).push(x,""+C):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&(Bo.hasOwnProperty(x)?(C!=null&&x==="onScroll"&&We("scroll",e),f||w===C||(f=[])):(f=f||[]).push(x,C))}i&&(f=f||[]).push("style",i);var x=f;(t.updateQueue=x)&&(t.flags|=4)}};Yd=function(e,t,i,a){i!==a&&(t.flags|=4)};function wo(e,t){if(!Ze)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Lt(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,a=0;if(t)for(var c=e.child;c!==null;)i|=c.lanes|c.childLanes,a|=c.subtreeFlags&14680064,a|=c.flags&14680064,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)i|=c.lanes|c.childLanes,a|=c.subtreeFlags,a|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=a,e.childLanes=i,t}function Cp(e,t,i){var a=t.pendingProps;switch(dc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(t),null;case 1:return Jt(t.type)&&aa(),Lt(t),null;case 3:return a=t.stateNode,Wi(),Ye(qt),Ye(Bt),Cc(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Rs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Rn!==null&&(ku(Rn),Rn=null))),Nu(e,t),Lt(t),null;case 5:Ec(t);var c=ei(Qo.current);if(i=t.type,e!==null&&t.stateNode!=null)Gd(e,t,i,a,c),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(X(166));return Lt(t),null}if(e=ei(Qn.current),Rs(t)){a=t.stateNode,i=t.type;var f=t.memoizedProps;switch(a[Gn]=t,a[Yo]=f,e=(t.mode&1)!==0,i){case"dialog":We("cancel",a),We("close",a);break;case"iframe":case"object":case"embed":We("load",a);break;case"video":case"audio":for(c=0;c<Io.length;c++)We(Io[c],a);break;case"source":We("error",a);break;case"img":case"image":case"link":We("error",a),We("load",a);break;case"details":We("toggle",a);break;case"input":E1(a,f),We("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!f.multiple},We("invalid",a);break;case"textarea":A1(a,f),We("invalid",a)}eu(i,f),c=null;for(var g in f)if(f.hasOwnProperty(g)){var w=f[g];g==="children"?typeof w=="string"?a.textContent!==w&&(f.suppressHydrationWarning!==!0&&Ms(a.textContent,w,e),c=["children",w]):typeof w=="number"&&a.textContent!==""+w&&(f.suppressHydrationWarning!==!0&&Ms(a.textContent,w,e),c=["children",""+w]):Bo.hasOwnProperty(g)&&w!=null&&g==="onScroll"&&We("scroll",a)}switch(i){case"input":As(a),C1(a,f,!0);break;case"textarea":As(a),S1(a);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(a.onclick=sa)}a=c,t.updateQueue=a,a!==null&&(t.flags|=4)}else{g=c.nodeType===9?c:c.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=yf(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=g.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=g.createElement(i,{is:a.is}):(e=g.createElement(i),i==="select"&&(g=e,a.multiple?g.multiple=!0:a.size&&(g.size=a.size))):e=g.createElementNS(e,i),e[Gn]=t,e[Yo]=a,Wd(e,t,!1,!1),t.stateNode=e;e:{switch(g=tu(i,a),i){case"dialog":We("cancel",e),We("close",e),c=a;break;case"iframe":case"object":case"embed":We("load",e),c=a;break;case"video":case"audio":for(c=0;c<Io.length;c++)We(Io[c],e);c=a;break;case"source":We("error",e),c=a;break;case"img":case"image":case"link":We("error",e),We("load",e),c=a;break;case"details":We("toggle",e),c=a;break;case"input":E1(e,a),c=Zl(e,a),We("invalid",e);break;case"option":c=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},c=et({},a,{value:void 0}),We("invalid",e);break;case"textarea":A1(e,a),c=Jl(e,a),We("invalid",e);break;default:c=a}eu(i,c),w=c;for(f in w)if(w.hasOwnProperty(f)){var C=w[f];f==="style"?Af(e,C):f==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,C!=null&&Ef(e,C)):f==="children"?typeof C=="string"?(i!=="textarea"||C!=="")&&Po(e,C):typeof C=="number"&&Po(e,""+C):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(Bo.hasOwnProperty(f)?C!=null&&f==="onScroll"&&We("scroll",e):C!=null&&qu(e,f,C,g))}switch(i){case"input":As(e),C1(e,a,!1);break;case"textarea":As(e),S1(e);break;case"option":a.value!=null&&e.setAttribute("value",""+Pr(a.value));break;case"select":e.multiple=!!a.multiple,f=a.value,f!=null?Li(e,!!a.multiple,f,!1):a.defaultValue!=null&&Li(e,!!a.multiple,a.defaultValue,!0);break;default:typeof c.onClick=="function"&&(e.onclick=sa)}switch(i){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Lt(t),null;case 6:if(e&&t.stateNode!=null)Yd(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(X(166));if(i=ei(Qo.current),ei(Qn.current),Rs(t)){if(a=t.stateNode,i=t.memoizedProps,a[Gn]=t,(f=a.nodeValue!==i)&&(e=an,e!==null))switch(e.tag){case 3:Ms(a.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ms(a.nodeValue,i,(e.mode&1)!==0)}f&&(t.flags|=4)}else a=(i.nodeType===9?i:i.ownerDocument).createTextNode(a),a[Gn]=t,t.stateNode=a}return Lt(t),null;case 13:if(Ye(Je),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ze&&sn!==null&&t.mode&1&&!(t.flags&128))ud(),Hi(),t.flags|=98560,f=!1;else if(f=Rs(t),a!==null&&a.dehydrated!==null){if(e===null){if(!f)throw Error(X(318));if(f=t.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(X(317));f[Gn]=t}else Hi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Lt(t),f=!1}else Rn!==null&&(ku(Rn),Rn=null),f=!0;if(!f)return t.flags&65536?t:null}return t.flags&128?(t.lanes=i,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,t.mode&1&&(e===null||Je.current&1?mt===0&&(mt=3):bc())),t.updateQueue!==null&&(t.flags|=4),Lt(t),null);case 4:return Wi(),Nu(e,t),e===null&&Wo(t.stateNode.containerInfo),Lt(t),null;case 10:return xc(t.type._context),Lt(t),null;case 17:return Jt(t.type)&&aa(),Lt(t),null;case 19:if(Ye(Je),f=t.memoizedState,f===null)return Lt(t),null;if(a=(t.flags&128)!==0,g=f.rendering,g===null)if(a)wo(f,!1);else{if(mt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(g=ga(e),g!==null){for(t.flags|=128,wo(f,!1),a=g.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=i,i=t.child;i!==null;)f=i,e=a,f.flags&=14680066,g=f.alternate,g===null?(f.childLanes=0,f.lanes=e,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=g.childLanes,f.lanes=g.lanes,f.child=g.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=g.memoizedProps,f.memoizedState=g.memoizedState,f.updateQueue=g.updateQueue,f.type=g.type,e=g.dependencies,f.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return He(Je,Je.current&1|2),t.child}e=e.sibling}f.tail!==null&&ut()>Yi&&(t.flags|=128,a=!0,wo(f,!1),t.lanes=4194304)}else{if(!a)if(e=ga(g),e!==null){if(t.flags|=128,a=!0,i=e.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),wo(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!Ze)return Lt(t),null}else 2*ut()-f.renderingStartTime>Yi&&i!==1073741824&&(t.flags|=128,a=!0,wo(f,!1),t.lanes=4194304);f.isBackwards?(g.sibling=t.child,t.child=g):(i=f.last,i!==null?i.sibling=g:t.child=g,f.last=g)}return f.tail!==null?(t=f.tail,f.rendering=t,f.tail=t.sibling,f.renderingStartTime=ut(),t.sibling=null,i=Je.current,He(Je,a?i&1|2:i&1),t):(Lt(t),null);case 22:case 23:return Dc(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&t.mode&1?rn&1073741824&&(Lt(t),t.subtreeFlags&6&&(t.flags|=8192)):Lt(t),null;case 24:return null;case 25:return null}throw Error(X(156,t.tag))}function Ap(e,t){switch(dc(t),t.tag){case 1:return Jt(t.type)&&aa(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Wi(),Ye(qt),Ye(Bt),Cc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ec(t),null;case 13:if(Ye(Je),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(X(340));Hi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ye(Je),null;case 4:return Wi(),null;case 10:return xc(t.type._context),null;case 22:case 23:return Dc(),null;case 24:return null;default:return null}}var Ls=!1,kt=!1,Sp=typeof WeakSet=="function"?WeakSet:Set,re=null;function Ri(e,t){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(a){st(e,t,a)}else i.current=null}function _u(e,t,i){try{i()}catch(a){st(e,t,a)}}var d0=!1;function Ip(e,t){if(fu=ra,e=Kf(),cc(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var a=i.getSelection&&i.getSelection();if(a&&a.rangeCount!==0){i=a.anchorNode;var c=a.anchorOffset,f=a.focusNode;a=a.focusOffset;try{i.nodeType,f.nodeType}catch{i=null;break e}var g=0,w=-1,C=-1,x=0,S=0,I=e,D=null;t:for(;;){for(var z;I!==i||c!==0&&I.nodeType!==3||(w=g+c),I!==f||a!==0&&I.nodeType!==3||(C=g+a),I.nodeType===3&&(g+=I.nodeValue.length),(z=I.firstChild)!==null;)D=I,I=z;for(;;){if(I===e)break t;if(D===i&&++x===c&&(w=g),D===f&&++S===a&&(C=g),(z=I.nextSibling)!==null)break;I=D,D=I.parentNode}I=z}i=w===-1||C===-1?null:{start:w,end:C}}else i=null}i=i||{start:0,end:0}}else i=null;for(du={focusedElem:e,selectionRange:i},ra=!1,re=t;re!==null;)if(t=re,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,re=e;else for(;re!==null;){t=re;try{var k=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var B=k.memoizedProps,ie=k.memoizedState,R=t.stateNode,N=R.getSnapshotBeforeUpdate(t.elementType===t.type?B:_n(t.type,B),ie);R.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(j){st(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,re=e;break}re=t.return}return k=d0,d0=!1,k}function Do(e,t,i){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&e)===e){var f=c.destroy;c.destroy=void 0,f!==void 0&&_u(t,i,f)}c=c.next}while(c!==a)}}function La(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var i=t=t.next;do{if((i.tag&e)===e){var a=i.create;i.destroy=a()}i=i.next}while(i!==t)}}function Ou(e){var t=e.ref;if(t!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof t=="function"?t(e):t.current=e}}function Xd(e){var t=e.alternate;t!==null&&(e.alternate=null,Xd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Gn],delete t[Yo],delete t[pu],delete t[sp],delete t[ap])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Qd(e){return e.tag===5||e.tag===3||e.tag===4}function h0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Qd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Mu(e,t,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?i.nodeType===8?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(i.nodeType===8?(t=i.parentNode,t.insertBefore(e,i)):(t=i,t.appendChild(e)),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=sa));else if(a!==4&&(e=e.child,e!==null))for(Mu(e,t,i),e=e.sibling;e!==null;)Mu(e,t,i),e=e.sibling}function Ru(e,t,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(Ru(e,t,i),e=e.sibling;e!==null;)Ru(e,t,i),e=e.sibling}var _t=null,On=!1;function Er(e,t,i){for(i=i.child;i!==null;)Zd(e,t,i),i=i.sibling}function Zd(e,t,i){if(Xn&&typeof Xn.onCommitFiberUnmount=="function")try{Xn.onCommitFiberUnmount(va,i)}catch{}switch(i.tag){case 5:kt||Ri(i,t);case 6:var a=_t,c=On;_t=null,Er(e,t,i),_t=a,On=c,_t!==null&&(On?(e=_t,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):_t.removeChild(i.stateNode));break;case 18:_t!==null&&(On?(e=_t,i=i.stateNode,e.nodeType===8?_l(e.parentNode,i):e.nodeType===1&&_l(e,i),jo(e)):_l(_t,i.stateNode));break;case 4:a=_t,c=On,_t=i.stateNode.containerInfo,On=!0,Er(e,t,i),_t=a,On=c;break;case 0:case 11:case 14:case 15:if(!kt&&(a=i.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){c=a=a.next;do{var f=c,g=f.destroy;f=f.tag,g!==void 0&&(f&2||f&4)&&_u(i,t,g),c=c.next}while(c!==a)}Er(e,t,i);break;case 1:if(!kt&&(Ri(i,t),a=i.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=i.memoizedProps,a.state=i.memoizedState,a.componentWillUnmount()}catch(w){st(i,t,w)}Er(e,t,i);break;case 21:Er(e,t,i);break;case 22:i.mode&1?(kt=(a=kt)||i.memoizedState!==null,Er(e,t,i),kt=a):Er(e,t,i);break;default:Er(e,t,i)}}function g0(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new Sp),t.forEach(function(a){var c=bp.bind(null,e,a);i.has(a)||(i.add(a),a.then(c,c))})}}function Nn(e,t){var i=t.deletions;if(i!==null)for(var a=0;a<i.length;a++){var c=i[a];try{var f=e,g=t,w=g;e:for(;w!==null;){switch(w.tag){case 5:_t=w.stateNode,On=!1;break e;case 3:_t=w.stateNode.containerInfo,On=!0;break e;case 4:_t=w.stateNode.containerInfo,On=!0;break e}w=w.return}if(_t===null)throw Error(X(160));Zd(f,g,c),_t=null,On=!1;var C=c.alternate;C!==null&&(C.return=null),c.return=null}catch(x){st(c,t,x)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Kd(t,e),t=t.sibling}function Kd(e,t){var i=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Nn(t,e),Hn(e),a&4){try{Do(3,e,e.return),La(3,e)}catch(B){st(e,e.return,B)}try{Do(5,e,e.return)}catch(B){st(e,e.return,B)}}break;case 1:Nn(t,e),Hn(e),a&512&&i!==null&&Ri(i,i.return);break;case 5:if(Nn(t,e),Hn(e),a&512&&i!==null&&Ri(i,i.return),e.flags&32){var c=e.stateNode;try{Po(c,"")}catch(B){st(e,e.return,B)}}if(a&4&&(c=e.stateNode,c!=null)){var f=e.memoizedProps,g=i!==null?i.memoizedProps:f,w=e.type,C=e.updateQueue;if(e.updateQueue=null,C!==null)try{w==="input"&&f.type==="radio"&&f.name!=null&&mf(c,f),tu(w,g);var x=tu(w,f);for(g=0;g<C.length;g+=2){var S=C[g],I=C[g+1];S==="style"?Af(c,I):S==="dangerouslySetInnerHTML"?Ef(c,I):S==="children"?Po(c,I):qu(c,S,I,x)}switch(w){case"input":Kl(c,f);break;case"textarea":wf(c,f);break;case"select":var D=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!f.multiple;var z=f.value;z!=null?Li(c,!!f.multiple,z,!1):D!==!!f.multiple&&(f.defaultValue!=null?Li(c,!!f.multiple,f.defaultValue,!0):Li(c,!!f.multiple,f.multiple?[]:"",!1))}c[Yo]=f}catch(B){st(e,e.return,B)}}break;case 6:if(Nn(t,e),Hn(e),a&4){if(e.stateNode===null)throw Error(X(162));c=e.stateNode,f=e.memoizedProps;try{c.nodeValue=f}catch(B){st(e,e.return,B)}}break;case 3:if(Nn(t,e),Hn(e),a&4&&i!==null&&i.memoizedState.isDehydrated)try{jo(t.containerInfo)}catch(B){st(e,e.return,B)}break;case 4:Nn(t,e),Hn(e);break;case 13:Nn(t,e),Hn(e),c=e.child,c.flags&8192&&(f=c.memoizedState!==null,c.stateNode.isHidden=f,!f||c.alternate!==null&&c.alternate.memoizedState!==null||(Mc=ut())),a&4&&g0(e);break;case 22:if(S=i!==null&&i.memoizedState!==null,e.mode&1?(kt=(x=kt)||S,Nn(t,e),kt=x):Nn(t,e),Hn(e),a&8192){if(x=e.memoizedState!==null,(e.stateNode.isHidden=x)&&!S&&e.mode&1)for(re=e,S=e.child;S!==null;){for(I=re=S;re!==null;){switch(D=re,z=D.child,D.tag){case 0:case 11:case 14:case 15:Do(4,D,D.return);break;case 1:Ri(D,D.return);var k=D.stateNode;if(typeof k.componentWillUnmount=="function"){a=D,i=D.return;try{t=a,k.props=t.memoizedProps,k.state=t.memoizedState,k.componentWillUnmount()}catch(B){st(a,i,B)}}break;case 5:Ri(D,D.return);break;case 22:if(D.memoizedState!==null){x0(I);continue}}z!==null?(z.return=D,re=z):x0(I)}S=S.sibling}e:for(S=null,I=e;;){if(I.tag===5){if(S===null){S=I;try{c=I.stateNode,x?(f=c.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(w=I.stateNode,C=I.memoizedProps.style,g=C!=null&&C.hasOwnProperty("display")?C.display:null,w.style.display=Cf("display",g))}catch(B){st(e,e.return,B)}}}else if(I.tag===6){if(S===null)try{I.stateNode.nodeValue=x?"":I.memoizedProps}catch(B){st(e,e.return,B)}}else if((I.tag!==22&&I.tag!==23||I.memoizedState===null||I===e)&&I.child!==null){I.child.return=I,I=I.child;continue}if(I===e)break e;for(;I.sibling===null;){if(I.return===null||I.return===e)break e;S===I&&(S=null),I=I.return}S===I&&(S=null),I.sibling.return=I.return,I=I.sibling}}break;case 19:Nn(t,e),Hn(e),a&4&&g0(e);break;case 21:break;default:Nn(t,e),Hn(e)}}function Hn(e){var t=e.flags;if(t&2){try{e:{for(var i=e.return;i!==null;){if(Qd(i)){var a=i;break e}i=i.return}throw Error(X(160))}switch(a.tag){case 5:var c=a.stateNode;a.flags&32&&(Po(c,""),a.flags&=-33);var f=h0(e);Ru(e,f,c);break;case 3:case 4:var g=a.stateNode.containerInfo,w=h0(e);Mu(e,w,g);break;default:throw Error(X(161))}}catch(C){st(e,e.return,C)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Tp(e,t,i){re=e,qd(e)}function qd(e,t,i){for(var a=(e.mode&1)!==0;re!==null;){var c=re,f=c.child;if(c.tag===22&&a){var g=c.memoizedState!==null||Ls;if(!g){var w=c.alternate,C=w!==null&&w.memoizedState!==null||kt;w=Ls;var x=kt;if(Ls=g,(kt=C)&&!x)for(re=c;re!==null;)g=re,C=g.child,g.tag===22&&g.memoizedState!==null?m0(c):C!==null?(C.return=g,re=C):m0(c);for(;f!==null;)re=f,qd(f),f=f.sibling;re=c,Ls=w,kt=x}p0(e)}else c.subtreeFlags&8772&&f!==null?(f.return=c,re=f):p0(e)}}function p0(e){for(;re!==null;){var t=re;if(t.flags&8772){var i=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:kt||La(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!kt)if(i===null)a.componentDidMount();else{var c=t.elementType===t.type?i.memoizedProps:_n(t.type,i.memoizedProps);a.componentDidUpdate(c,i.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var f=t.updateQueue;f!==null&&J1(t,f,a);break;case 3:var g=t.updateQueue;if(g!==null){if(i=null,t.child!==null)switch(t.child.tag){case 5:i=t.child.stateNode;break;case 1:i=t.child.stateNode}J1(t,g,i)}break;case 5:var w=t.stateNode;if(i===null&&t.flags&4){i=w;var C=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":C.autoFocus&&i.focus();break;case"img":C.src&&(i.src=C.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var x=t.alternate;if(x!==null){var S=x.memoizedState;if(S!==null){var I=S.dehydrated;I!==null&&jo(I)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}kt||t.flags&512&&Ou(t)}catch(D){st(t,t.return,D)}}if(t===e){re=null;break}if(i=t.sibling,i!==null){i.return=t.return,re=i;break}re=t.return}}function x0(e){for(;re!==null;){var t=re;if(t===e){re=null;break}var i=t.sibling;if(i!==null){i.return=t.return,re=i;break}re=t.return}}function m0(e){for(;re!==null;){var t=re;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{La(4,t)}catch(C){st(t,i,C)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var c=t.return;try{a.componentDidMount()}catch(C){st(t,c,C)}}var f=t.return;try{Ou(t)}catch(C){st(t,f,C)}break;case 5:var g=t.return;try{Ou(t)}catch(C){st(t,g,C)}}}catch(C){st(t,t.return,C)}if(t===e){re=null;break}var w=t.sibling;if(w!==null){w.return=t.return,re=w;break}re=t.return}}var vp=Math.ceil,ma=fr.ReactCurrentDispatcher,_c=fr.ReactCurrentOwner,En=fr.ReactCurrentBatchConfig,_e=0,At=null,ft=null,Ot=0,rn=0,Di=zr(0),mt=0,Jo=null,si=0,ka=0,Oc=0,bo=null,Zt=null,Mc=0,Yi=1/0,qn=null,wa=!1,Du=null,Lr=null,ks=!1,_r=null,ya=0,Lo=0,bu=null,Ys=-1,Xs=0;function zt(){return _e&6?ut():Ys!==-1?Ys:Ys=ut()}function kr(e){return e.mode&1?_e&2&&Ot!==0?Ot&-Ot:up.transition!==null?(Xs===0&&(Xs=Lf()),Xs):(e=Le,e!==0||(e=window.event,e=e===void 0?16:jf(e.type)),e):1}function bn(e,t,i,a){if(50<Lo)throw Lo=0,bu=null,Error(X(185));ts(e,i,a),(!(_e&2)||e!==At)&&(e===At&&(!(_e&2)&&(ka|=i),mt===4&&vr(e,Ot)),$t(e,a),i===1&&_e===0&&!(t.mode&1)&&(Yi=ut()+500,Ra&&jr()))}function $t(e,t){var i=e.callbackNode;u2(e,t);var a=na(e,e===At?Ot:0);if(a===0)i!==null&&v1(i),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(i!=null&&v1(i),t===1)e.tag===0?lp(w0.bind(null,e)):sd(w0.bind(null,e)),ip(function(){!(_e&6)&&jr()}),i=null;else{switch(kf(a)){case 1:i=nc;break;case 4:i=Df;break;case 16:i=ta;break;case 536870912:i=bf;break;default:i=ta}i=oh(i,Jd.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function Jd(e,t){if(Ys=-1,Xs=0,_e&6)throw Error(X(327));var i=e.callbackNode;if(Ui()&&e.callbackNode!==i)return null;var a=na(e,e===At?Ot:0);if(a===0)return null;if(a&30||a&e.expiredLanes||t)t=Ea(e,a);else{t=a;var c=_e;_e|=2;var f=eh();(At!==e||Ot!==t)&&(qn=null,Yi=ut()+500,ti(e,t));do try{Op();break}catch(w){$d(e,w)}while(1);pc(),ma.current=f,_e=c,ft!==null?t=0:(At=null,Ot=0,t=mt)}if(t!==0){if(t===2&&(c=su(e),c!==0&&(a=c,t=Lu(e,c))),t===1)throw i=Jo,ti(e,0),vr(e,a),$t(e,ut()),i;if(t===6)vr(e,a);else{if(c=e.current.alternate,!(a&30)&&!Np(c)&&(t=Ea(e,a),t===2&&(f=su(e),f!==0&&(a=f,t=Lu(e,f))),t===1))throw i=Jo,ti(e,0),vr(e,a),$t(e,ut()),i;switch(e.finishedWork=c,e.finishedLanes=a,t){case 0:case 1:throw Error(X(345));case 2:Kr(e,Zt,qn);break;case 3:if(vr(e,a),(a&130023424)===a&&(t=Mc+500-ut(),10<t)){if(na(e,0)!==0)break;if(c=e.suspendedLanes,(c&a)!==a){zt(),e.pingedLanes|=e.suspendedLanes&c;break}e.timeoutHandle=gu(Kr.bind(null,e,Zt,qn),t);break}Kr(e,Zt,qn);break;case 4:if(vr(e,a),(a&4194240)===a)break;for(t=e.eventTimes,c=-1;0<a;){var g=31-Dn(a);f=1<<g,g=t[g],g>c&&(c=g),a&=~f}if(a=c,a=ut()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*vp(a/1960))-a,10<a){e.timeoutHandle=gu(Kr.bind(null,e,Zt,qn),a);break}Kr(e,Zt,qn);break;case 5:Kr(e,Zt,qn);break;default:throw Error(X(329))}}}return $t(e,ut()),e.callbackNode===i?Jd.bind(null,e):null}function Lu(e,t){var i=bo;return e.current.memoizedState.isDehydrated&&(ti(e,t).flags|=256),e=Ea(e,t),e!==2&&(t=Zt,Zt=i,t!==null&&ku(t)),e}function ku(e){Zt===null?Zt=e:Zt.push.apply(Zt,e)}function Np(e){for(var t=e;;){if(t.flags&16384){var i=t.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var a=0;a<i.length;a++){var c=i[a],f=c.getSnapshot;c=c.value;try{if(!Ln(f(),c))return!1}catch{return!1}}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function vr(e,t){for(t&=~Oc,t&=~ka,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-Dn(t),a=1<<i;e[i]=-1,t&=~a}}function w0(e){if(_e&6)throw Error(X(327));Ui();var t=na(e,0);if(!(t&1))return $t(e,ut()),null;var i=Ea(e,t);if(e.tag!==0&&i===2){var a=su(e);a!==0&&(t=a,i=Lu(e,a))}if(i===1)throw i=Jo,ti(e,0),vr(e,t),$t(e,ut()),i;if(i===6)throw Error(X(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Kr(e,Zt,qn),$t(e,ut()),null}function Rc(e,t){var i=_e;_e|=1;try{return e(t)}finally{_e=i,_e===0&&(Yi=ut()+500,Ra&&jr())}}function ai(e){_r!==null&&_r.tag===0&&!(_e&6)&&Ui();var t=_e;_e|=1;var i=En.transition,a=Le;try{if(En.transition=null,Le=1,e)return e()}finally{Le=a,En.transition=i,_e=t,!(_e&6)&&jr()}}function Dc(){rn=Di.current,Ye(Di)}function ti(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,rp(i)),ft!==null)for(i=ft.return;i!==null;){var a=i;switch(dc(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&aa();break;case 3:Wi(),Ye(qt),Ye(Bt),Cc();break;case 5:Ec(a);break;case 4:Wi();break;case 13:Ye(Je);break;case 19:Ye(Je);break;case 10:xc(a.type._context);break;case 22:case 23:Dc()}i=i.return}if(At=e,ft=e=Br(e.current,null),Ot=rn=t,mt=0,Jo=null,Oc=ka=si=0,Zt=bo=null,$r!==null){for(t=0;t<$r.length;t++)if(i=$r[t],a=i.interleaved,a!==null){i.interleaved=null;var c=a.next,f=i.pending;if(f!==null){var g=f.next;f.next=c,a.next=g}i.pending=a}$r=null}return e}function $d(e,t){do{var i=ft;try{if(pc(),Vs.current=xa,pa){for(var a=$e.memoizedState;a!==null;){var c=a.queue;c!==null&&(c.pending=null),a=a.next}pa=!1}if(oi=0,Ct=xt=$e=null,Ro=!1,Zo=0,_c.current=null,i===null||i.return===null){mt=1,Jo=t,ft=null;break}e:{var f=e,g=i.return,w=i,C=t;if(t=Ot,w.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){var x=C,S=w,I=S.tag;if(!(S.mode&1)&&(I===0||I===11||I===15)){var D=S.alternate;D?(S.updateQueue=D.updateQueue,S.memoizedState=D.memoizedState,S.lanes=D.lanes):(S.updateQueue=null,S.memoizedState=null)}var z=o0(g);if(z!==null){z.flags&=-257,s0(z,g,w,f,t),z.mode&1&&i0(f,x,t),t=z,C=x;var k=t.updateQueue;if(k===null){var B=new Set;B.add(C),t.updateQueue=B}else k.add(C);break e}else{if(!(t&1)){i0(f,x,t),bc();break e}C=Error(X(426))}}else if(Ze&&w.mode&1){var ie=o0(g);if(ie!==null){!(ie.flags&65536)&&(ie.flags|=256),s0(ie,g,w,f,t),hc(Gi(C,w));break e}}f=C=Gi(C,w),mt!==4&&(mt=2),bo===null?bo=[f]:bo.push(f),f=g;do{switch(f.tag){case 3:f.flags|=65536,t&=-t,f.lanes|=t;var R=Bd(f,C,t);q1(f,R);break e;case 1:w=C;var N=f.type,_=f.stateNode;if(!(f.flags&128)&&(typeof N.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Lr===null||!Lr.has(_)))){f.flags|=65536,t&=-t,f.lanes|=t;var j=Pd(f,w,t);q1(f,j);break e}}f=f.return}while(f!==null)}nh(i)}catch($){t=$,ft===i&&i!==null&&(ft=i=i.return);continue}break}while(1)}function eh(){var e=ma.current;return ma.current=xa,e===null?xa:e}function bc(){(mt===0||mt===3||mt===2)&&(mt=4),At===null||!(si&268435455)&&!(ka&268435455)||vr(At,Ot)}function Ea(e,t){var i=_e;_e|=2;var a=eh();(At!==e||Ot!==t)&&(qn=null,ti(e,t));do try{_p();break}catch(c){$d(e,c)}while(1);if(pc(),_e=i,ma.current=a,ft!==null)throw Error(X(261));return At=null,Ot=0,mt}function _p(){for(;ft!==null;)th(ft)}function Op(){for(;ft!==null&&!e2();)th(ft)}function th(e){var t=ih(e.alternate,e,rn);e.memoizedProps=e.pendingProps,t===null?nh(e):ft=t,_c.current=null}function nh(e){var t=e;do{var i=t.alternate;if(e=t.return,t.flags&32768){if(i=Ap(i,t),i!==null){i.flags&=32767,ft=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{mt=6,ft=null;return}}else if(i=Cp(i,t,rn),i!==null){ft=i;return}if(t=t.sibling,t!==null){ft=t;return}ft=t=e}while(t!==null);mt===0&&(mt=5)}function Kr(e,t,i){var a=Le,c=En.transition;try{En.transition=null,Le=1,Mp(e,t,i,a)}finally{En.transition=c,Le=a}return null}function Mp(e,t,i,a){do Ui();while(_r!==null);if(_e&6)throw Error(X(327));i=e.finishedWork;var c=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(X(177));e.callbackNode=null,e.callbackPriority=0;var f=i.lanes|i.childLanes;if(c2(e,f),e===At&&(ft=At=null,Ot=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||ks||(ks=!0,oh(ta,function(){return Ui(),null})),f=(i.flags&15990)!==0,i.subtreeFlags&15990||f){f=En.transition,En.transition=null;var g=Le;Le=1;var w=_e;_e|=4,_c.current=null,Ip(e,i),Kd(i,e),K2(du),ra=!!fu,du=fu=null,e.current=i,Tp(i),t2(),_e=w,Le=g,En.transition=f}else e.current=i;if(ks&&(ks=!1,_r=e,ya=c),f=e.pendingLanes,f===0&&(Lr=null),i2(i.stateNode),$t(e,ut()),t!==null)for(a=e.onRecoverableError,i=0;i<t.length;i++)c=t[i],a(c.value,{componentStack:c.stack,digest:c.digest});if(wa)throw wa=!1,e=Du,Du=null,e;return ya&1&&e.tag!==0&&Ui(),f=e.pendingLanes,f&1?e===bu?Lo++:(Lo=0,bu=e):Lo=0,jr(),null}function Ui(){if(_r!==null){var e=kf(ya),t=En.transition,i=Le;try{if(En.transition=null,Le=16>e?16:e,_r===null)var a=!1;else{if(e=_r,_r=null,ya=0,_e&6)throw Error(X(331));var c=_e;for(_e|=4,re=e.current;re!==null;){var f=re,g=f.child;if(re.flags&16){var w=f.deletions;if(w!==null){for(var C=0;C<w.length;C++){var x=w[C];for(re=x;re!==null;){var S=re;switch(S.tag){case 0:case 11:case 15:Do(8,S,f)}var I=S.child;if(I!==null)I.return=S,re=I;else for(;re!==null;){S=re;var D=S.sibling,z=S.return;if(Xd(S),S===x){re=null;break}if(D!==null){D.return=z,re=D;break}re=z}}}var k=f.alternate;if(k!==null){var B=k.child;if(B!==null){k.child=null;do{var ie=B.sibling;B.sibling=null,B=ie}while(B!==null)}}re=f}}if(f.subtreeFlags&2064&&g!==null)g.return=f,re=g;else e:for(;re!==null;){if(f=re,f.flags&2048)switch(f.tag){case 0:case 11:case 15:Do(9,f,f.return)}var R=f.sibling;if(R!==null){R.return=f.return,re=R;break e}re=f.return}}var N=e.current;for(re=N;re!==null;){g=re;var _=g.child;if(g.subtreeFlags&2064&&_!==null)_.return=g,re=_;else e:for(g=N;re!==null;){if(w=re,w.flags&2048)try{switch(w.tag){case 0:case 11:case 15:La(9,w)}}catch($){st(w,w.return,$)}if(w===g){re=null;break e}var j=w.sibling;if(j!==null){j.return=w.return,re=j;break e}re=w.return}}if(_e=c,jr(),Xn&&typeof Xn.onPostCommitFiberRoot=="function")try{Xn.onPostCommitFiberRoot(va,e)}catch{}a=!0}return a}finally{Le=i,En.transition=t}}return!1}function y0(e,t,i){t=Gi(i,t),t=Bd(e,t,1),e=br(e,t,1),t=zt(),e!==null&&(ts(e,1,t),$t(e,t))}function st(e,t,i){if(e.tag===3)y0(e,e,i);else for(;t!==null;){if(t.tag===3){y0(t,e,i);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Lr===null||!Lr.has(a))){e=Gi(i,e),e=Pd(t,e,1),t=br(t,e,1),e=zt(),t!==null&&(ts(t,1,e),$t(t,e));break}}t=t.return}}function Rp(e,t,i){var a=e.pingCache;a!==null&&a.delete(t),t=zt(),e.pingedLanes|=e.suspendedLanes&i,At===e&&(Ot&i)===i&&(mt===4||mt===3&&(Ot&130023424)===Ot&&500>ut()-Mc?ti(e,0):Oc|=i),$t(e,t)}function rh(e,t){t===0&&(e.mode&1?(t=Ts,Ts<<=1,!(Ts&130023424)&&(Ts=4194304)):t=1);var i=zt();e=lr(e,t),e!==null&&(ts(e,t,i),$t(e,i))}function Dp(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),rh(e,i)}function bp(e,t){var i=0;switch(e.tag){case 13:var a=e.stateNode,c=e.memoizedState;c!==null&&(i=c.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(X(314))}a!==null&&a.delete(t),rh(e,i)}var ih;ih=function(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps||qt.current)Kt=!0;else{if(!(e.lanes&i)&&!(t.flags&128))return Kt=!1,Ep(e,t,i);Kt=!!(e.flags&131072)}else Kt=!1,Ze&&t.flags&1048576&&ad(t,ca,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;Gs(e,t),e=t.pendingProps;var c=ji(t,Bt.current);Fi(t,i),c=Sc(null,t,a,e,c,i);var f=Ic();return t.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Jt(a)?(f=!0,la(t)):f=!1,t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,wc(t),c.updater=Da,t.stateNode=c,c._reactInternals=t,Cu(t,a,e,i),t=Iu(null,t,a,!0,f,i)):(t.tag=0,Ze&&f&&fc(t),Ut(null,t,c,i),t=t.child),t;case 16:a=t.elementType;e:{switch(Gs(e,t),e=t.pendingProps,c=a._init,a=c(a._payload),t.type=a,c=t.tag=kp(a),e=_n(a,e),c){case 0:t=Su(null,t,a,e,i);break e;case 1:t=u0(null,t,a,e,i);break e;case 11:t=a0(null,t,a,e,i);break e;case 14:t=l0(null,t,a,_n(a.type,e),i);break e}throw Error(X(306,a,""))}return t;case 0:return a=t.type,c=t.pendingProps,c=t.elementType===a?c:_n(a,c),Su(e,t,a,c,i);case 1:return a=t.type,c=t.pendingProps,c=t.elementType===a?c:_n(a,c),u0(e,t,a,c,i);case 3:e:{if(jd(t),e===null)throw Error(X(387));a=t.pendingProps,f=t.memoizedState,c=f.element,fd(e,t),ha(t,a,null,i);var g=t.memoizedState;if(a=g.element,f.isDehydrated)if(f={element:a,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){c=Gi(Error(X(423)),t),t=c0(e,t,a,i,c);break e}else if(a!==c){c=Gi(Error(X(424)),t),t=c0(e,t,a,i,c);break e}else for(sn=Dr(t.stateNode.containerInfo.firstChild),an=t,Ze=!0,Rn=null,i=pd(t,null,a,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Hi(),a===c){t=ur(e,t,i);break e}Ut(e,t,a,i)}t=t.child}return t;case 5:return xd(t),e===null&&wu(t),a=t.type,c=t.pendingProps,f=e!==null?e.memoizedProps:null,g=c.children,hu(a,c)?g=null:f!==null&&hu(a,f)&&(t.flags|=32),zd(e,t),Ut(e,t,g,i),t.child;case 6:return e===null&&wu(t),null;case 13:return Hd(e,t,i);case 4:return yc(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Vi(t,null,a,i):Ut(e,t,a,i),t.child;case 11:return a=t.type,c=t.pendingProps,c=t.elementType===a?c:_n(a,c),a0(e,t,a,c,i);case 7:return Ut(e,t,t.pendingProps,i),t.child;case 8:return Ut(e,t,t.pendingProps.children,i),t.child;case 12:return Ut(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(a=t.type._context,c=t.pendingProps,f=t.memoizedProps,g=c.value,He(fa,a._currentValue),a._currentValue=g,f!==null)if(Ln(f.value,g)){if(f.children===c.children&&!qt.current){t=ur(e,t,i);break e}}else for(f=t.child,f!==null&&(f.return=t);f!==null;){var w=f.dependencies;if(w!==null){g=f.child;for(var C=w.firstContext;C!==null;){if(C.context===a){if(f.tag===1){C=ir(-1,i&-i),C.tag=2;var x=f.updateQueue;if(x!==null){x=x.shared;var S=x.pending;S===null?C.next=C:(C.next=S.next,S.next=C),x.pending=C}}f.lanes|=i,C=f.alternate,C!==null&&(C.lanes|=i),yu(f.return,i,t),w.lanes|=i;break}C=C.next}}else if(f.tag===10)g=f.type===t.type?null:f.child;else if(f.tag===18){if(g=f.return,g===null)throw Error(X(341));g.lanes|=i,w=g.alternate,w!==null&&(w.lanes|=i),yu(g,i,t),g=f.sibling}else g=f.child;if(g!==null)g.return=f;else for(g=f;g!==null;){if(g===t){g=null;break}if(f=g.sibling,f!==null){f.return=g.return,g=f;break}g=g.return}f=g}Ut(e,t,c.children,i),t=t.child}return t;case 9:return c=t.type,a=t.pendingProps.children,Fi(t,i),c=An(c),a=a(c),t.flags|=1,Ut(e,t,a,i),t.child;case 14:return a=t.type,c=_n(a,t.pendingProps),c=_n(a.type,c),l0(e,t,a,c,i);case 15:return Fd(e,t,t.type,t.pendingProps,i);case 17:return a=t.type,c=t.pendingProps,c=t.elementType===a?c:_n(a,c),Gs(e,t),t.tag=1,Jt(a)?(e=!0,la(t)):e=!1,Fi(t,i),hd(t,a,c),Cu(t,a,c,i),Iu(null,t,a,!0,e,i);case 19:return Vd(e,t,i);case 22:return Ud(e,t,i)}throw Error(X(156,t.tag))};function oh(e,t){return Rf(e,t)}function Lp(e,t,i,a){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(e,t,i,a){return new Lp(e,t,i,a)}function Lc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function kp(e){if(typeof e=="function")return Lc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===$u)return 11;if(e===ec)return 14}return 2}function Br(e,t){var i=e.alternate;return i===null?(i=yn(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Qs(e,t,i,a,c,f){var g=2;if(a=e,typeof e=="function")Lc(e)&&(g=1);else if(typeof e=="string")g=5;else e:switch(e){case Ai:return ni(i.children,c,f,t);case Ju:g=8,c|=8;break;case Gl:return e=yn(12,i,t,c|2),e.elementType=Gl,e.lanes=f,e;case Yl:return e=yn(13,i,t,c),e.elementType=Yl,e.lanes=f,e;case Xl:return e=yn(19,i,t,c),e.elementType=Xl,e.lanes=f,e;case gf:return Ba(i,c,f,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case df:g=10;break e;case hf:g=9;break e;case $u:g=11;break e;case ec:g=14;break e;case Sr:g=16,a=null;break e}throw Error(X(130,e==null?e:typeof e,""))}return t=yn(g,i,t,c),t.elementType=e,t.type=a,t.lanes=f,t}function ni(e,t,i,a){return e=yn(7,e,a,t),e.lanes=i,e}function Ba(e,t,i,a){return e=yn(22,e,a,t),e.elementType=gf,e.lanes=i,e.stateNode={isHidden:!1},e}function Bl(e,t,i){return e=yn(6,e,null,t),e.lanes=i,e}function Pl(e,t,i){return t=yn(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bp(e,t,i,a,c){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ml(0),this.expirationTimes=ml(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ml(0),this.identifierPrefix=a,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function kc(e,t,i,a,c,f,g,w,C){return e=new Bp(e,t,i,w,C),t===1?(t=1,f===!0&&(t|=8)):t=0,f=yn(3,null,null,t),e.current=f,f.stateNode=e,f.memoizedState={element:a,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},wc(f),e}function Pp(e,t,i){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ci,key:a==null?null:""+a,children:e,containerInfo:t,implementation:i}}function sh(e){if(!e)return Fr;e=e._reactInternals;e:{if(ui(e)!==e||e.tag!==1)throw Error(X(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Jt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(X(171))}if(e.tag===1){var i=e.type;if(Jt(i))return od(e,i,t)}return t}function ah(e,t,i,a,c,f,g,w,C){return e=kc(i,a,!0,e,c,f,g,w,C),e.context=sh(null),i=e.current,a=zt(),c=kr(i),f=ir(a,c),f.callback=t??null,br(i,f,c),e.current.lanes=c,ts(e,c,a),$t(e,a),e}function Pa(e,t,i,a){var c=t.current,f=zt(),g=kr(c);return i=sh(i),t.context===null?t.context=i:t.pendingContext=i,t=ir(f,g),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=br(c,t,g),e!==null&&(bn(e,c,g,f),Hs(e,c,g)),g}function Ca(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function E0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function Bc(e,t){E0(e,t),(e=e.alternate)&&E0(e,t)}function Fp(){return null}var lh=typeof reportError=="function"?reportError:function(e){console.error(e)};function Pc(e){this._internalRoot=e}Fa.prototype.render=Pc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(X(409));Pa(e,t,null,null)};Fa.prototype.unmount=Pc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ai(function(){Pa(null,e,null,null)}),t[ar]=null}};function Fa(e){this._internalRoot=e}Fa.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ff();e={blockedOn:null,target:e,priority:t};for(var i=0;i<Tr.length&&t!==0&&t<Tr[i].priority;i++);Tr.splice(i,0,e),i===0&&zf(e)}};function Fc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ua(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function C0(){}function Up(e,t,i,a,c){if(c){if(typeof a=="function"){var f=a;a=function(){var x=Ca(g);f.call(x)}}var g=ah(t,a,e,0,null,!1,!1,"",C0);return e._reactRootContainer=g,e[ar]=g.current,Wo(e.nodeType===8?e.parentNode:e),ai(),g}for(;c=e.lastChild;)e.removeChild(c);if(typeof a=="function"){var w=a;a=function(){var x=Ca(C);w.call(x)}}var C=kc(e,0,!1,null,null,!1,!1,"",C0);return e._reactRootContainer=C,e[ar]=C.current,Wo(e.nodeType===8?e.parentNode:e),ai(function(){Pa(t,C,i,a)}),C}function za(e,t,i,a,c){var f=i._reactRootContainer;if(f){var g=f;if(typeof c=="function"){var w=c;c=function(){var C=Ca(g);w.call(C)}}Pa(t,g,e,c)}else g=Up(i,t,e,c,a);return Ca(g)}Bf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=So(t.pendingLanes);i!==0&&(rc(t,i|1),$t(t,ut()),!(_e&6)&&(Yi=ut()+500,jr()))}break;case 13:ai(function(){var a=lr(e,1);if(a!==null){var c=zt();bn(a,e,1,c)}}),Bc(e,1)}};ic=function(e){if(e.tag===13){var t=lr(e,134217728);if(t!==null){var i=zt();bn(t,e,134217728,i)}Bc(e,134217728)}};Pf=function(e){if(e.tag===13){var t=kr(e),i=lr(e,t);if(i!==null){var a=zt();bn(i,e,t,a)}Bc(e,t)}};Ff=function(){return Le};Uf=function(e,t){var i=Le;try{return Le=e,t()}finally{Le=i}};ru=function(e,t,i){switch(t){case"input":if(Kl(e,i),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var a=i[t];if(a!==e&&a.form===e.form){var c=Ma(a);if(!c)throw Error(X(90));xf(a),Kl(a,c)}}}break;case"textarea":wf(e,i);break;case"select":t=i.value,t!=null&&Li(e,!!i.multiple,t,!1)}};Tf=Rc;vf=ai;var zp={usingClientEntryPoint:!1,Events:[rs,vi,Ma,Sf,If,Rc]},yo={findFiberByHostInstance:Jr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},jp={bundleType:yo.bundleType,version:yo.version,rendererPackageName:yo.rendererPackageName,rendererConfig:yo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Of(e),e===null?null:e.stateNode},findFiberByHostInstance:yo.findFiberByHostInstance||Fp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bs.isDisabled&&Bs.supportsFiber)try{va=Bs.inject(jp),Xn=Bs}catch{}}un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zp;un.createPortal=function(e,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fc(t))throw Error(X(200));return Pp(e,t,null,i)};un.createRoot=function(e,t){if(!Fc(e))throw Error(X(299));var i=!1,a="",c=lh;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=kc(e,1,!1,null,null,i,!1,a,c),e[ar]=t.current,Wo(e.nodeType===8?e.parentNode:e),new Pc(t)};un.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(X(188)):(e=Object.keys(e).join(","),Error(X(268,e)));return e=Of(t),e=e===null?null:e.stateNode,e};un.flushSync=function(e){return ai(e)};un.hydrate=function(e,t,i){if(!Ua(t))throw Error(X(200));return za(null,e,t,!0,i)};un.hydrateRoot=function(e,t,i){if(!Fc(e))throw Error(X(405));var a=i!=null&&i.hydratedSources||null,c=!1,f="",g=lh;if(i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onRecoverableError!==void 0&&(g=i.onRecoverableError)),t=ah(t,null,e,1,i??null,c,!1,f,g),e[ar]=t.current,Wo(e),a)for(e=0;e<a.length;e++)i=a[e],c=i._getVersion,c=c(i._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[i,c]:t.mutableSourceEagerHydrationData.push(i,c);return new Fa(t)};un.render=function(e,t,i){if(!Ua(t))throw Error(X(200));return za(null,e,t,!1,i)};un.unmountComponentAtNode=function(e){if(!Ua(e))throw Error(X(40));return e._reactRootContainer?(ai(function(){za(null,null,e,!1,function(){e._reactRootContainer=null,e[ar]=null})}),!0):!1};un.unstable_batchedUpdates=Rc;un.unstable_renderSubtreeIntoContainer=function(e,t,i,a){if(!Ua(i))throw Error(X(200));if(e==null||e._reactInternals===void 0)throw Error(X(38));return za(e,t,i,!1,a)};un.version="18.2.0-next-9e3b772b8-20220608";function uh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(uh)}catch(e){console.error(e)}}uh(),af.exports=un;var Hp=af.exports,A0=Hp;Vl.createRoot=A0.createRoot,Vl.hydrateRoot=A0.hydrateRoot;function $n(e){var t=document.getElementById("logReadTag");t.innerHTML="",t.innerHTML+=e+`
`}function qr(e){var t=document.getElementById("logReadTagTest");t.innerHTML="",t.innerHTML+=e+`
`}function ch(e,t){return function(){return e.apply(t,arguments)}}const{toString:Vp}=Object.prototype,{getPrototypeOf:Uc}=Object,ja=(e=>t=>{const i=Vp.call(t);return e[i]||(e[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),Zn=e=>(e=e.toLowerCase(),t=>ja(t)===e),Ha=e=>t=>typeof t===e,{isArray:qi}=Array,$o=Ha("undefined");function Wp(e){return e!==null&&!$o(e)&&e.constructor!==null&&!$o(e.constructor)&&Cn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const fh=Zn("ArrayBuffer");function Gp(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&fh(e.buffer),t}const Yp=Ha("string"),Cn=Ha("function"),dh=Ha("number"),Va=e=>e!==null&&typeof e=="object",Xp=e=>e===!0||e===!1,Zs=e=>{if(ja(e)!=="object")return!1;const t=Uc(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Qp=Zn("Date"),Zp=Zn("File"),Kp=Zn("Blob"),qp=Zn("FileList"),Jp=e=>Va(e)&&Cn(e.pipe),$p=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Cn(e.append)&&((t=ja(e))==="formdata"||t==="object"&&Cn(e.toString)&&e.toString()==="[object FormData]"))},ex=Zn("URLSearchParams"),tx=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function os(e,t,{allOwnKeys:i=!1}={}){if(e===null||typeof e>"u")return;let a,c;if(typeof e!="object"&&(e=[e]),qi(e))for(a=0,c=e.length;a<c;a++)t.call(null,e[a],a,e);else{const f=i?Object.getOwnPropertyNames(e):Object.keys(e),g=f.length;let w;for(a=0;a<g;a++)w=f[a],t.call(null,e[w],w,e)}}function hh(e,t){t=t.toLowerCase();const i=Object.keys(e);let a=i.length,c;for(;a-- >0;)if(c=i[a],t===c.toLowerCase())return c;return null}const gh=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),ph=e=>!$o(e)&&e!==gh;function Bu(){const{caseless:e}=ph(this)&&this||{},t={},i=(a,c)=>{const f=e&&hh(t,c)||c;Zs(t[f])&&Zs(a)?t[f]=Bu(t[f],a):Zs(a)?t[f]=Bu({},a):qi(a)?t[f]=a.slice():t[f]=a};for(let a=0,c=arguments.length;a<c;a++)arguments[a]&&os(arguments[a],i);return t}const nx=(e,t,i,{allOwnKeys:a}={})=>(os(t,(c,f)=>{i&&Cn(c)?e[f]=ch(c,i):e[f]=c},{allOwnKeys:a}),e),rx=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),ix=(e,t,i,a)=>{e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),i&&Object.assign(e.prototype,i)},ox=(e,t,i,a)=>{let c,f,g;const w={};if(t=t||{},e==null)return t;do{for(c=Object.getOwnPropertyNames(e),f=c.length;f-- >0;)g=c[f],(!a||a(g,e,t))&&!w[g]&&(t[g]=e[g],w[g]=!0);e=i!==!1&&Uc(e)}while(e&&(!i||i(e,t))&&e!==Object.prototype);return t},sx=(e,t,i)=>{e=String(e),(i===void 0||i>e.length)&&(i=e.length),i-=t.length;const a=e.indexOf(t,i);return a!==-1&&a===i},ax=e=>{if(!e)return null;if(qi(e))return e;let t=e.length;if(!dh(t))return null;const i=new Array(t);for(;t-- >0;)i[t]=e[t];return i},lx=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Uc(Uint8Array)),ux=(e,t)=>{const a=(e&&e[Symbol.iterator]).call(e);let c;for(;(c=a.next())&&!c.done;){const f=c.value;t.call(e,f[0],f[1])}},cx=(e,t)=>{let i;const a=[];for(;(i=e.exec(t))!==null;)a.push(i);return a},fx=Zn("HTMLFormElement"),dx=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(i,a,c){return a.toUpperCase()+c}),S0=(({hasOwnProperty:e})=>(t,i)=>e.call(t,i))(Object.prototype),hx=Zn("RegExp"),xh=(e,t)=>{const i=Object.getOwnPropertyDescriptors(e),a={};os(i,(c,f)=>{let g;(g=t(c,f,e))!==!1&&(a[f]=g||c)}),Object.defineProperties(e,a)},gx=e=>{xh(e,(t,i)=>{if(Cn(e)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const a=e[i];if(Cn(a)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},px=(e,t)=>{const i={},a=c=>{c.forEach(f=>{i[f]=!0})};return qi(e)?a(e):a(String(e).split(t)),i},xx=()=>{},mx=(e,t)=>(e=+e,Number.isFinite(e)?e:t),Fl="abcdefghijklmnopqrstuvwxyz",I0="0123456789",mh={DIGIT:I0,ALPHA:Fl,ALPHA_DIGIT:Fl+Fl.toUpperCase()+I0},wx=(e=16,t=mh.ALPHA_DIGIT)=>{let i="";const{length:a}=t;for(;e--;)i+=t[Math.random()*a|0];return i};function yx(e){return!!(e&&Cn(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const Ex=e=>{const t=new Array(10),i=(a,c)=>{if(Va(a)){if(t.indexOf(a)>=0)return;if(!("toJSON"in a)){t[c]=a;const f=qi(a)?[]:{};return os(a,(g,w)=>{const C=i(g,c+1);!$o(C)&&(f[w]=C)}),t[c]=void 0,f}}return a};return i(e,0)},Cx=Zn("AsyncFunction"),Ax=e=>e&&(Va(e)||Cn(e))&&Cn(e.then)&&Cn(e.catch),V={isArray:qi,isArrayBuffer:fh,isBuffer:Wp,isFormData:$p,isArrayBufferView:Gp,isString:Yp,isNumber:dh,isBoolean:Xp,isObject:Va,isPlainObject:Zs,isUndefined:$o,isDate:Qp,isFile:Zp,isBlob:Kp,isRegExp:hx,isFunction:Cn,isStream:Jp,isURLSearchParams:ex,isTypedArray:lx,isFileList:qp,forEach:os,merge:Bu,extend:nx,trim:tx,stripBOM:rx,inherits:ix,toFlatObject:ox,kindOf:ja,kindOfTest:Zn,endsWith:sx,toArray:ax,forEachEntry:ux,matchAll:cx,isHTMLForm:fx,hasOwnProperty:S0,hasOwnProp:S0,reduceDescriptors:xh,freezeMethods:gx,toObjectSet:px,toCamelCase:dx,noop:xx,toFiniteNumber:mx,findKey:hh,global:gh,isContextDefined:ph,ALPHABET:mh,generateString:wx,isSpecCompliantForm:yx,toJSONObject:Ex,isAsyncFn:Cx,isThenable:Ax};function Te(e,t,i,a,c){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),i&&(this.config=i),a&&(this.request=a),c&&(this.response=c)}V.inherits(Te,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:V.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const wh=Te.prototype,yh={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{yh[e]={value:e}});Object.defineProperties(Te,yh);Object.defineProperty(wh,"isAxiosError",{value:!0});Te.from=(e,t,i,a,c,f)=>{const g=Object.create(wh);return V.toFlatObject(e,g,function(C){return C!==Error.prototype},w=>w!=="isAxiosError"),Te.call(g,e.message,t,i,a,c),g.cause=e,g.name=e.name,f&&Object.assign(g,f),g};const Sx=null;function Pu(e){return V.isPlainObject(e)||V.isArray(e)}function Eh(e){return V.endsWith(e,"[]")?e.slice(0,-2):e}function T0(e,t,i){return e?e.concat(t).map(function(c,f){return c=Eh(c),!i&&f?"["+c+"]":c}).join(i?".":""):t}function Ix(e){return V.isArray(e)&&!e.some(Pu)}const Tx=V.toFlatObject(V,{},null,function(t){return/^is[A-Z]/.test(t)});function Wa(e,t,i){if(!V.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,i=V.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(B,ie){return!V.isUndefined(ie[B])});const a=i.metaTokens,c=i.visitor||S,f=i.dots,g=i.indexes,C=(i.Blob||typeof Blob<"u"&&Blob)&&V.isSpecCompliantForm(t);if(!V.isFunction(c))throw new TypeError("visitor must be a function");function x(k){if(k===null)return"";if(V.isDate(k))return k.toISOString();if(!C&&V.isBlob(k))throw new Te("Blob is not supported. Use a Buffer instead.");return V.isArrayBuffer(k)||V.isTypedArray(k)?C&&typeof Blob=="function"?new Blob([k]):Buffer.from(k):k}function S(k,B,ie){let R=k;if(k&&!ie&&typeof k=="object"){if(V.endsWith(B,"{}"))B=a?B:B.slice(0,-2),k=JSON.stringify(k);else if(V.isArray(k)&&Ix(k)||(V.isFileList(k)||V.endsWith(B,"[]"))&&(R=V.toArray(k)))return B=Eh(B),R.forEach(function(_,j){!(V.isUndefined(_)||_===null)&&t.append(g===!0?T0([B],j,f):g===null?B:B+"[]",x(_))}),!1}return Pu(k)?!0:(t.append(T0(ie,B,f),x(k)),!1)}const I=[],D=Object.assign(Tx,{defaultVisitor:S,convertValue:x,isVisitable:Pu});function z(k,B){if(!V.isUndefined(k)){if(I.indexOf(k)!==-1)throw Error("Circular reference detected in "+B.join("."));I.push(k),V.forEach(k,function(R,N){(!(V.isUndefined(R)||R===null)&&c.call(t,R,V.isString(N)?N.trim():N,B,D))===!0&&z(R,B?B.concat(N):[N])}),I.pop()}}if(!V.isObject(e))throw new TypeError("data must be an object");return z(e),t}function v0(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return t[a]})}function zc(e,t){this._pairs=[],e&&Wa(e,this,t)}const Ch=zc.prototype;Ch.append=function(t,i){this._pairs.push([t,i])};Ch.toString=function(t){const i=t?function(a){return t.call(this,a,v0)}:v0;return this._pairs.map(function(c){return i(c[0])+"="+i(c[1])},"").join("&")};function vx(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ah(e,t,i){if(!t)return e;const a=i&&i.encode||vx,c=i&&i.serialize;let f;if(c?f=c(t,i):f=V.isURLSearchParams(t)?t.toString():new zc(t,i).toString(a),f){const g=e.indexOf("#");g!==-1&&(e=e.slice(0,g)),e+=(e.indexOf("?")===-1?"?":"&")+f}return e}class Nx{constructor(){this.handlers=[]}use(t,i,a){return this.handlers.push({fulfilled:t,rejected:i,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){V.forEach(this.handlers,function(a){a!==null&&t(a)})}}const N0=Nx,Sh={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},_x=typeof URLSearchParams<"u"?URLSearchParams:zc,Ox=typeof FormData<"u"?FormData:null,Mx=typeof Blob<"u"?Blob:null,Rx=(()=>{let e;return typeof navigator<"u"&&((e=navigator.product)==="ReactNative"||e==="NativeScript"||e==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),Dx=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Yn={isBrowser:!0,classes:{URLSearchParams:_x,FormData:Ox,Blob:Mx},isStandardBrowserEnv:Rx,isStandardBrowserWebWorkerEnv:Dx,protocols:["http","https","file","blob","url","data"]};function bx(e,t){return Wa(e,new Yn.classes.URLSearchParams,Object.assign({visitor:function(i,a,c,f){return Yn.isNode&&V.isBuffer(i)?(this.append(a,i.toString("base64")),!1):f.defaultVisitor.apply(this,arguments)}},t))}function Lx(e){return V.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function kx(e){const t={},i=Object.keys(e);let a;const c=i.length;let f;for(a=0;a<c;a++)f=i[a],t[f]=e[f];return t}function Ih(e){function t(i,a,c,f){let g=i[f++];const w=Number.isFinite(+g),C=f>=i.length;return g=!g&&V.isArray(c)?c.length:g,C?(V.hasOwnProp(c,g)?c[g]=[c[g],a]:c[g]=a,!w):((!c[g]||!V.isObject(c[g]))&&(c[g]=[]),t(i,a,c[g],f)&&V.isArray(c[g])&&(c[g]=kx(c[g])),!w)}if(V.isFormData(e)&&V.isFunction(e.entries)){const i={};return V.forEachEntry(e,(a,c)=>{t(Lx(a),c,i,0)}),i}return null}function Bx(e,t,i){if(V.isString(e))try{return(t||JSON.parse)(e),V.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(i||JSON.stringify)(e)}const jc={transitional:Sh,adapter:["xhr","http"],transformRequest:[function(t,i){const a=i.getContentType()||"",c=a.indexOf("application/json")>-1,f=V.isObject(t);if(f&&V.isHTMLForm(t)&&(t=new FormData(t)),V.isFormData(t))return c&&c?JSON.stringify(Ih(t)):t;if(V.isArrayBuffer(t)||V.isBuffer(t)||V.isStream(t)||V.isFile(t)||V.isBlob(t))return t;if(V.isArrayBufferView(t))return t.buffer;if(V.isURLSearchParams(t))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let w;if(f){if(a.indexOf("application/x-www-form-urlencoded")>-1)return bx(t,this.formSerializer).toString();if((w=V.isFileList(t))||a.indexOf("multipart/form-data")>-1){const C=this.env&&this.env.FormData;return Wa(w?{"files[]":t}:t,C&&new C,this.formSerializer)}}return f||c?(i.setContentType("application/json",!1),Bx(t)):t}],transformResponse:[function(t){const i=this.transitional||jc.transitional,a=i&&i.forcedJSONParsing,c=this.responseType==="json";if(t&&V.isString(t)&&(a&&!this.responseType||c)){const g=!(i&&i.silentJSONParsing)&&c;try{return JSON.parse(t)}catch(w){if(g)throw w.name==="SyntaxError"?Te.from(w,Te.ERR_BAD_RESPONSE,this,null,this.response):w}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Yn.classes.FormData,Blob:Yn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};V.forEach(["delete","get","head","post","put","patch"],e=>{jc.headers[e]={}});const Hc=jc,Px=V.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Fx=e=>{const t={};let i,a,c;return e&&e.split(`
`).forEach(function(g){c=g.indexOf(":"),i=g.substring(0,c).trim().toLowerCase(),a=g.substring(c+1).trim(),!(!i||t[i]&&Px[i])&&(i==="set-cookie"?t[i]?t[i].push(a):t[i]=[a]:t[i]=t[i]?t[i]+", "+a:a)}),t},_0=Symbol("internals");function Eo(e){return e&&String(e).trim().toLowerCase()}function Ks(e){return e===!1||e==null?e:V.isArray(e)?e.map(Ks):String(e)}function Ux(e){const t=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=i.exec(e);)t[a[1]]=a[2];return t}const zx=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Ul(e,t,i,a,c){if(V.isFunction(a))return a.call(this,t,i);if(c&&(t=i),!!V.isString(t)){if(V.isString(a))return t.indexOf(a)!==-1;if(V.isRegExp(a))return a.test(t)}}function jx(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,i,a)=>i.toUpperCase()+a)}function Hx(e,t){const i=V.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+i,{value:function(c,f,g){return this[a].call(this,t,c,f,g)},configurable:!0})})}class Ga{constructor(t){t&&this.set(t)}set(t,i,a){const c=this;function f(w,C,x){const S=Eo(C);if(!S)throw new Error("header name must be a non-empty string");const I=V.findKey(c,S);(!I||c[I]===void 0||x===!0||x===void 0&&c[I]!==!1)&&(c[I||C]=Ks(w))}const g=(w,C)=>V.forEach(w,(x,S)=>f(x,S,C));return V.isPlainObject(t)||t instanceof this.constructor?g(t,i):V.isString(t)&&(t=t.trim())&&!zx(t)?g(Fx(t),i):t!=null&&f(i,t,a),this}get(t,i){if(t=Eo(t),t){const a=V.findKey(this,t);if(a){const c=this[a];if(!i)return c;if(i===!0)return Ux(c);if(V.isFunction(i))return i.call(this,c,a);if(V.isRegExp(i))return i.exec(c);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,i){if(t=Eo(t),t){const a=V.findKey(this,t);return!!(a&&this[a]!==void 0&&(!i||Ul(this,this[a],a,i)))}return!1}delete(t,i){const a=this;let c=!1;function f(g){if(g=Eo(g),g){const w=V.findKey(a,g);w&&(!i||Ul(a,a[w],w,i))&&(delete a[w],c=!0)}}return V.isArray(t)?t.forEach(f):f(t),c}clear(t){const i=Object.keys(this);let a=i.length,c=!1;for(;a--;){const f=i[a];(!t||Ul(this,this[f],f,t,!0))&&(delete this[f],c=!0)}return c}normalize(t){const i=this,a={};return V.forEach(this,(c,f)=>{const g=V.findKey(a,f);if(g){i[g]=Ks(c),delete i[f];return}const w=t?jx(f):String(f).trim();w!==f&&delete i[f],i[w]=Ks(c),a[w]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const i=Object.create(null);return V.forEach(this,(a,c)=>{a!=null&&a!==!1&&(i[c]=t&&V.isArray(a)?a.join(", "):a)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,i])=>t+": "+i).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...i){const a=new this(t);return i.forEach(c=>a.set(c)),a}static accessor(t){const a=(this[_0]=this[_0]={accessors:{}}).accessors,c=this.prototype;function f(g){const w=Eo(g);a[w]||(Hx(c,g),a[w]=!0)}return V.isArray(t)?t.forEach(f):f(t),this}}Ga.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);V.reduceDescriptors(Ga.prototype,({value:e},t)=>{let i=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(a){this[i]=a}}});V.freezeMethods(Ga);const or=Ga;function zl(e,t){const i=this||Hc,a=t||i,c=or.from(a.headers);let f=a.data;return V.forEach(e,function(w){f=w.call(i,f,c.normalize(),t?t.status:void 0)}),c.normalize(),f}function Th(e){return!!(e&&e.__CANCEL__)}function ss(e,t,i){Te.call(this,e??"canceled",Te.ERR_CANCELED,t,i),this.name="CanceledError"}V.inherits(ss,Te,{__CANCEL__:!0});function Vx(e,t,i){const a=i.config.validateStatus;!i.status||!a||a(i.status)?e(i):t(new Te("Request failed with status code "+i.status,[Te.ERR_BAD_REQUEST,Te.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}const Wx=Yn.isStandardBrowserEnv?function(){return{write:function(i,a,c,f,g,w){const C=[];C.push(i+"="+encodeURIComponent(a)),V.isNumber(c)&&C.push("expires="+new Date(c).toGMTString()),V.isString(f)&&C.push("path="+f),V.isString(g)&&C.push("domain="+g),w===!0&&C.push("secure"),document.cookie=C.join("; ")},read:function(i){const a=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return a?decodeURIComponent(a[3]):null},remove:function(i){this.write(i,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function Gx(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Yx(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function vh(e,t){return e&&!Gx(t)?Yx(e,t):t}const Xx=Yn.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");let a;function c(f){let g=f;return t&&(i.setAttribute("href",g),g=i.href),i.setAttribute("href",g),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:i.pathname.charAt(0)==="/"?i.pathname:"/"+i.pathname}}return a=c(window.location.href),function(g){const w=V.isString(g)?c(g):g;return w.protocol===a.protocol&&w.host===a.host}}():function(){return function(){return!0}}();function Qx(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Zx(e,t){e=e||10;const i=new Array(e),a=new Array(e);let c=0,f=0,g;return t=t!==void 0?t:1e3,function(C){const x=Date.now(),S=a[f];g||(g=x),i[c]=C,a[c]=x;let I=f,D=0;for(;I!==c;)D+=i[I++],I=I%e;if(c=(c+1)%e,c===f&&(f=(f+1)%e),x-g<t)return;const z=S&&x-S;return z?Math.round(D*1e3/z):void 0}}function O0(e,t){let i=0;const a=Zx(50,250);return c=>{const f=c.loaded,g=c.lengthComputable?c.total:void 0,w=f-i,C=a(w),x=f<=g;i=f;const S={loaded:f,total:g,progress:g?f/g:void 0,bytes:w,rate:C||void 0,estimated:C&&g&&x?(g-f)/C:void 0,event:c};S[t?"download":"upload"]=!0,e(S)}}const Kx=typeof XMLHttpRequest<"u",qx=Kx&&function(e){return new Promise(function(i,a){let c=e.data;const f=or.from(e.headers).normalize(),g=e.responseType;let w;function C(){e.cancelToken&&e.cancelToken.unsubscribe(w),e.signal&&e.signal.removeEventListener("abort",w)}let x;V.isFormData(c)&&(Yn.isStandardBrowserEnv||Yn.isStandardBrowserWebWorkerEnv?f.setContentType(!1):f.getContentType(/^\s*multipart\/form-data/)?V.isString(x=f.getContentType())&&f.setContentType(x.replace(/^\s*(multipart\/form-data);+/,"$1")):f.setContentType("multipart/form-data"));let S=new XMLHttpRequest;if(e.auth){const k=e.auth.username||"",B=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";f.set("Authorization","Basic "+btoa(k+":"+B))}const I=vh(e.baseURL,e.url);S.open(e.method.toUpperCase(),Ah(I,e.params,e.paramsSerializer),!0),S.timeout=e.timeout;function D(){if(!S)return;const k=or.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),ie={data:!g||g==="text"||g==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:k,config:e,request:S};Vx(function(N){i(N),C()},function(N){a(N),C()},ie),S=null}if("onloadend"in S?S.onloadend=D:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(D)},S.onabort=function(){S&&(a(new Te("Request aborted",Te.ECONNABORTED,e,S)),S=null)},S.onerror=function(){a(new Te("Network Error",Te.ERR_NETWORK,e,S)),S=null},S.ontimeout=function(){let B=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const ie=e.transitional||Sh;e.timeoutErrorMessage&&(B=e.timeoutErrorMessage),a(new Te(B,ie.clarifyTimeoutError?Te.ETIMEDOUT:Te.ECONNABORTED,e,S)),S=null},Yn.isStandardBrowserEnv){const k=Xx(I)&&e.xsrfCookieName&&Wx.read(e.xsrfCookieName);k&&f.set(e.xsrfHeaderName,k)}c===void 0&&f.setContentType(null),"setRequestHeader"in S&&V.forEach(f.toJSON(),function(B,ie){S.setRequestHeader(ie,B)}),V.isUndefined(e.withCredentials)||(S.withCredentials=!!e.withCredentials),g&&g!=="json"&&(S.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&S.addEventListener("progress",O0(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&S.upload&&S.upload.addEventListener("progress",O0(e.onUploadProgress)),(e.cancelToken||e.signal)&&(w=k=>{S&&(a(!k||k.type?new ss(null,e,S):k),S.abort(),S=null)},e.cancelToken&&e.cancelToken.subscribe(w),e.signal&&(e.signal.aborted?w():e.signal.addEventListener("abort",w)));const z=Qx(I);if(z&&Yn.protocols.indexOf(z)===-1){a(new Te("Unsupported protocol "+z+":",Te.ERR_BAD_REQUEST,e));return}S.send(c||null)})},Fu={http:Sx,xhr:qx};V.forEach(Fu,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const M0=e=>`- ${e}`,Jx=e=>V.isFunction(e)||e===null||e===!1,Nh={getAdapter:e=>{e=V.isArray(e)?e:[e];const{length:t}=e;let i,a;const c={};for(let f=0;f<t;f++){i=e[f];let g;if(a=i,!Jx(i)&&(a=Fu[(g=String(i)).toLowerCase()],a===void 0))throw new Te(`Unknown adapter '${g}'`);if(a)break;c[g||"#"+f]=a}if(!a){const f=Object.entries(c).map(([w,C])=>`adapter ${w} `+(C===!1?"is not supported by the environment":"is not available in the build"));let g=t?f.length>1?`since :
`+f.map(M0).join(`
`):" "+M0(f[0]):"as no adapter specified";throw new Te("There is no suitable adapter to dispatch the request "+g,"ERR_NOT_SUPPORT")}return a},adapters:Fu};function jl(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ss(null,e)}function R0(e){return jl(e),e.headers=or.from(e.headers),e.data=zl.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Nh.getAdapter(e.adapter||Hc.adapter)(e).then(function(a){return jl(e),a.data=zl.call(e,e.transformResponse,a),a.headers=or.from(a.headers),a},function(a){return Th(a)||(jl(e),a&&a.response&&(a.response.data=zl.call(e,e.transformResponse,a.response),a.response.headers=or.from(a.response.headers))),Promise.reject(a)})}const D0=e=>e instanceof or?e.toJSON():e;function Xi(e,t){t=t||{};const i={};function a(x,S,I){return V.isPlainObject(x)&&V.isPlainObject(S)?V.merge.call({caseless:I},x,S):V.isPlainObject(S)?V.merge({},S):V.isArray(S)?S.slice():S}function c(x,S,I){if(V.isUndefined(S)){if(!V.isUndefined(x))return a(void 0,x,I)}else return a(x,S,I)}function f(x,S){if(!V.isUndefined(S))return a(void 0,S)}function g(x,S){if(V.isUndefined(S)){if(!V.isUndefined(x))return a(void 0,x)}else return a(void 0,S)}function w(x,S,I){if(I in t)return a(x,S);if(I in e)return a(void 0,x)}const C={url:f,method:f,data:f,baseURL:g,transformRequest:g,transformResponse:g,paramsSerializer:g,timeout:g,timeoutMessage:g,withCredentials:g,adapter:g,responseType:g,xsrfCookieName:g,xsrfHeaderName:g,onUploadProgress:g,onDownloadProgress:g,decompress:g,maxContentLength:g,maxBodyLength:g,beforeRedirect:g,transport:g,httpAgent:g,httpsAgent:g,cancelToken:g,socketPath:g,responseEncoding:g,validateStatus:w,headers:(x,S)=>c(D0(x),D0(S),!0)};return V.forEach(Object.keys(Object.assign({},e,t)),function(S){const I=C[S]||c,D=I(e[S],t[S],S);V.isUndefined(D)&&I!==w||(i[S]=D)}),i}const _h="1.6.0",Vc={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Vc[e]=function(a){return typeof a===e||"a"+(t<1?"n ":" ")+e}});const b0={};Vc.transitional=function(t,i,a){function c(f,g){return"[Axios v"+_h+"] Transitional option '"+f+"'"+g+(a?". "+a:"")}return(f,g,w)=>{if(t===!1)throw new Te(c(g," has been removed"+(i?" in "+i:"")),Te.ERR_DEPRECATED);return i&&!b0[g]&&(b0[g]=!0,console.warn(c(g," has been deprecated since v"+i+" and will be removed in the near future"))),t?t(f,g,w):!0}};function $x(e,t,i){if(typeof e!="object")throw new Te("options must be an object",Te.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let c=a.length;for(;c-- >0;){const f=a[c],g=t[f];if(g){const w=e[f],C=w===void 0||g(w,f,e);if(C!==!0)throw new Te("option "+f+" must be "+C,Te.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new Te("Unknown option "+f,Te.ERR_BAD_OPTION)}}const Uu={assertOptions:$x,validators:Vc},Cr=Uu.validators;class Aa{constructor(t){this.defaults=t,this.interceptors={request:new N0,response:new N0}}request(t,i){typeof t=="string"?(i=i||{},i.url=t):i=t||{},i=Xi(this.defaults,i);const{transitional:a,paramsSerializer:c,headers:f}=i;a!==void 0&&Uu.assertOptions(a,{silentJSONParsing:Cr.transitional(Cr.boolean),forcedJSONParsing:Cr.transitional(Cr.boolean),clarifyTimeoutError:Cr.transitional(Cr.boolean)},!1),c!=null&&(V.isFunction(c)?i.paramsSerializer={serialize:c}:Uu.assertOptions(c,{encode:Cr.function,serialize:Cr.function},!0)),i.method=(i.method||this.defaults.method||"get").toLowerCase();let g=f&&V.merge(f.common,f[i.method]);f&&V.forEach(["delete","get","head","post","put","patch","common"],k=>{delete f[k]}),i.headers=or.concat(g,f);const w=[];let C=!0;this.interceptors.request.forEach(function(B){typeof B.runWhen=="function"&&B.runWhen(i)===!1||(C=C&&B.synchronous,w.unshift(B.fulfilled,B.rejected))});const x=[];this.interceptors.response.forEach(function(B){x.push(B.fulfilled,B.rejected)});let S,I=0,D;if(!C){const k=[R0.bind(this),void 0];for(k.unshift.apply(k,w),k.push.apply(k,x),D=k.length,S=Promise.resolve(i);I<D;)S=S.then(k[I++],k[I++]);return S}D=w.length;let z=i;for(I=0;I<D;){const k=w[I++],B=w[I++];try{z=k(z)}catch(ie){B.call(this,ie);break}}try{S=R0.call(this,z)}catch(k){return Promise.reject(k)}for(I=0,D=x.length;I<D;)S=S.then(x[I++],x[I++]);return S}getUri(t){t=Xi(this.defaults,t);const i=vh(t.baseURL,t.url);return Ah(i,t.params,t.paramsSerializer)}}V.forEach(["delete","get","head","options"],function(t){Aa.prototype[t]=function(i,a){return this.request(Xi(a||{},{method:t,url:i,data:(a||{}).data}))}});V.forEach(["post","put","patch"],function(t){function i(a){return function(f,g,w){return this.request(Xi(w||{},{method:t,headers:a?{"Content-Type":"multipart/form-data"}:{},url:f,data:g}))}}Aa.prototype[t]=i(),Aa.prototype[t+"Form"]=i(!0)});const qs=Aa;class Wc{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(f){i=f});const a=this;this.promise.then(c=>{if(!a._listeners)return;let f=a._listeners.length;for(;f-- >0;)a._listeners[f](c);a._listeners=null}),this.promise.then=c=>{let f;const g=new Promise(w=>{a.subscribe(w),f=w}).then(c);return g.cancel=function(){a.unsubscribe(f)},g},t(function(f,g,w){a.reason||(a.reason=new ss(f,g,w),i(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const i=this._listeners.indexOf(t);i!==-1&&this._listeners.splice(i,1)}static source(){let t;return{token:new Wc(function(c){t=c}),cancel:t}}}const em=Wc;function tm(e){return function(i){return e.apply(null,i)}}function nm(e){return V.isObject(e)&&e.isAxiosError===!0}const zu={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(zu).forEach(([e,t])=>{zu[t]=e});const rm=zu;function Oh(e){const t=new qs(e),i=ch(qs.prototype.request,t);return V.extend(i,qs.prototype,t,{allOwnKeys:!0}),V.extend(i,t,null,{allOwnKeys:!0}),i.create=function(c){return Oh(Xi(e,c))},i}const dt=Oh(Hc);dt.Axios=qs;dt.CanceledError=ss;dt.CancelToken=em;dt.isCancel=Th;dt.VERSION=_h;dt.toFormData=Wa;dt.AxiosError=Te;dt.Cancel=dt.CanceledError;dt.all=function(t){return Promise.all(t)};dt.spread=tm;dt.isAxiosError=nm;dt.mergeConfig=Xi;dt.AxiosHeaders=or;dt.formToJSON=e=>Ih(V.isHTMLForm(e)?new FormData(e):e);dt.getAdapter=Nh.getAdapter;dt.HttpStatusCode=rm;dt.default=dt;const im=dt,To=im.create({baseURL:{}.API_URL||"https://node-nfc-db.onrender.com/api"});function ko(){var e=new Date,t=e.getDate()+"-"+(e.getMonth()+1)+"-"+e.getFullYear(),i=e.getHours()+":"+e.getMinutes()+":"+e.getSeconds();return t+" "+i}async function om(e){const t=new TextDecoder;qr("Reading tag... Step[2/3]");for(const a of e.message.records){var i=ko();To.get("/nfcs/"+t.decode(a.data)).then(function(c){c.data.batchNumber!=null?(qr("Success!"),c.data.index!=null?$n(`Product information:
`+c.data.info.toString()+`
Index: `+c.data.index.toString()+`
Batch number: `+c.data.batchNumber.toString()+`
Tagged at: `+c.data.timeStamp.toString()+`
Read at: `+i):$n(`Product information:
`+c.data.info.toString()+`
Batch number: `+c.data.batchNumber.toString()+`
Tagged at: `+c.data.timeStamp.toString()+`
Read at: `+i)):(qr("Success!"),c.data.index!=null?$n(`Product information:
`+c.data.info.toString()+`
Index: `+c.data.index.toString()+`
Tagged at: `+c.data.timeStamp.toString()+`
Read at: `+i):$n(`Product information:
`+c.data.info.toString()+`
Tagged at: `+c.data.timeStamp.toString()+`
Read at: `+i))}).catch(c=>{c.name=="TypeError"?(qr("Oops!"),$n("This tag is no longer in our database.")):(qr("This tag is not defined in our database."),$n(`Message saved on this tag:
`+t.decode(a.data)))})}}async function sm(){if("NDEFReader"in window){const e=new NDEFReader;qr("Bring the tag near the reader.  Step[1/3]"),$n("");try{return new Promise((t,i)=>{const a=new AbortController;a.signal.onabort=i,e.addEventListener("reading",c=>{a.abort(),t(c)},{once:!0}),e.scan({signal:a.signal}).catch(c=>i(c)),e.onreading=c=>{om(c)}}).catch(t=>{console.log("NFC reading stopped...")})}catch(t){t instanceof Error&&t.name==="AbortError"||$n(t)}}else qr("Oops!"),$n("WebNFC API isn't supported in this browser.")}function am(){return oe.jsxs("div",{className:"row",children:[oe.jsx("label",{className:"labl-read",children:"READ NFC"}),oe.jsx("button",{onClick:()=>sm(),className:"btn",children:"Read"}),oe.jsxs("div",{className:"log-read-div",children:[oe.jsx("pre",{className:"log-test",id:"logReadTagTest"}),oe.jsx("pre",{className:"log",id:"logReadTag"})]})]})}const lm="/scanify-worker/assets/logoK6-3fd61044.png";function um(){function e(){document.querySelector("body").setAttribute("scrollAbb","on")}function t(){document.querySelector("body").setAttribute("scrollAbb","off")}const i=C=>{C.target.checked?t():e()};function a(){document.querySelector("body").setAttribute("theme","dark"),localStorage.setItem("selectedTheme","dark")}function c(){document.querySelector("body").setAttribute("theme","light"),localStorage.setItem("selectedTheme","light")}const f=C=>{C.target.checked?c():a()},g=localStorage.getItem("selectedTheme");g==="light"&&c();function w(){document.body.scrollTop=0,document.documentElement.scrollTop=0}return oe.jsxs("nav",{className:"nav",children:[oe.jsx("image",{className:"site-logo",children:oe.jsx("img",{src:lm,className:"logo"})}),oe.jsx("input",{onChange:f,className:"checkbox-theme",type:"checkbox",defaultChecked:g==="light"}),oe.jsxs("label",{className:"checkbox-theme-label",children:[oe.jsxs("svg",{className:"sun-icon",width:"800px",height:"800px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[oe.jsx("path",{className:"sun-icon-color",d:"M18 12C18 15.3137 15.3137 18 12 18C8.68629 18 6 15.3137 6 12C6 8.68629 8.68629 6 12 6C15.3137 6 18 8.68629 18 12Z",fill:"#1C274C"}),oe.jsx("path",{className:"sun-icon-color",fillRule:"evenodd",clipRule:"evenodd",d:"M12 1.25C12.4142 1.25 12.75 1.58579 12.75 2V3C12.75 3.41421 12.4142 3.75 12 3.75C11.5858 3.75 11.25 3.41421 11.25 3V2C11.25 1.58579 11.5858 1.25 12 1.25ZM4.39861 4.39861C4.6915 4.10572 5.16638 4.10572 5.45927 4.39861L5.85211 4.79145C6.145 5.08434 6.145 5.55921 5.85211 5.85211C5.55921 6.145 5.08434 6.145 4.79145 5.85211L4.39861 5.45927C4.10572 5.16638 4.10572 4.6915 4.39861 4.39861ZM19.6011 4.39887C19.894 4.69176 19.894 5.16664 19.6011 5.45953L19.2083 5.85237C18.9154 6.14526 18.4405 6.14526 18.1476 5.85237C17.8547 5.55947 17.8547 5.0846 18.1476 4.79171L18.5405 4.39887C18.8334 4.10598 19.3082 4.10598 19.6011 4.39887ZM1.25 12C1.25 11.5858 1.58579 11.25 2 11.25H3C3.41421 11.25 3.75 11.5858 3.75 12C3.75 12.4142 3.41421 12.75 3 12.75H2C1.58579 12.75 1.25 12.4142 1.25 12ZM20.25 12C20.25 11.5858 20.5858 11.25 21 11.25H22C22.4142 11.25 22.75 11.5858 22.75 12C22.75 12.4142 22.4142 12.75 22 12.75H21C20.5858 12.75 20.25 12.4142 20.25 12ZM18.1476 18.1476C18.4405 17.8547 18.9154 17.8547 19.2083 18.1476L19.6011 18.5405C19.894 18.8334 19.894 19.3082 19.6011 19.6011C19.3082 19.894 18.8334 19.894 18.5405 19.6011L18.1476 19.2083C17.8547 18.9154 17.8547 18.4405 18.1476 18.1476ZM5.85211 18.1479C6.145 18.4408 6.145 18.9157 5.85211 19.2086L5.45927 19.6014C5.16638 19.8943 4.6915 19.8943 4.39861 19.6014C4.10572 19.3085 4.10572 18.8336 4.39861 18.5407L4.79145 18.1479C5.08434 17.855 5.55921 17.855 5.85211 18.1479ZM12 20.25C12.4142 20.25 12.75 20.5858 12.75 21V22C12.75 22.4142 12.4142 22.75 12 22.75C11.5858 22.75 11.25 22.4142 11.25 22V21C11.25 20.5858 11.5858 20.25 12 20.25Z",fill:"#1C274C"})]}),oe.jsx("svg",{className:"moon-icon",width:"800px",height:"800px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:oe.jsx("path",{className:"moon-icon-color",d:"M12 22C17.5228 22 22 17.5228 22 12C22 11.5373 21.3065 11.4608 21.0672 11.8568C19.9289 13.7406 17.8615 15 15.5 15C11.9101 15 9 12.0899 9 8.5C9 6.13845 10.2594 4.07105 12.1432 2.93276C12.5392 2.69347 12.4627 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",fill:"#1C274C"})})]}),oe.jsx("input",{onClick:w,onChange:i,className:"chbox",type:"checkbox",id:"active"}),oe.jsx("label",{htmlFor:"active",className:"menu-btn",children:oe.jsx("span",{})}),oe.jsx("label",{htmlFor:"active",className:"close-btn"}),oe.jsx("div",{className:"wrapper",children:oe.jsxs("ul",{children:[oe.jsx("li",{children:oe.jsx("a",{href:"https://nokerr21.github.io/scanify-worker-manual/",children:"Manual"})}),oe.jsx("li",{children:oe.jsx("a",{href:"https://nokerr21.github.io/scanify-about/",children:"About"})}),oe.jsx("li",{children:oe.jsx("a",{href:"https://nokerr21.github.io/scanify-contact/",children:"Contact"})})]})})]})}function cm({id:e,title:t,batchNumber:i,writeTag:a,deleteQr:c,logSelectedQr:f,disableButtons:g,setQrs:w}){return oe.jsxs("li",{children:[oe.jsx("pre",{className:"litem",children:t}),oe.jsxs("div",{className:"button-row",children:[oe.jsx("button",{onClick:()=>c({id:e,setQrs:w}),className:"btn-delete",children:"Delete"}),oe.jsx("button",{id:"writeButtonList",onClick:()=>{f(t),a(t,i),g()},className:"btn-list-write",children:"Write to NFC"})]})]})}function ju(){var e=new Date,t=e.getDate().toString()+(e.getMonth()+1).toString()+(e.getYear()-100).toString()+"-"+e.getHours().toString()+e.getMinutes().toString();return t}function fm(e){var t=document.getElementById("logBatchNumber"),i=document.getElementById("batchCheck");t.innerHTML="",i.checked==!0?t.innerHTML+="<span style='font-family: Ubuntu, Arial, Helvetica, sans-serif; font-weight: bold; font-size: 17.5px;'>Current batch number:</span> "+e+`
`:t.innerHTML=""}function Mh(){var e=document.querySelectorAll("ul.list-qrs button"),t=document.getElementById("btn-write"),i=document.getElementById("indexCheck");e.forEach(a=>{a.disabled=!1}),t.disabled=!1,i.disabled=!1}function Rh(){var e=document.querySelectorAll("ul.list-qrs button"),t=document.getElementById("batchCheck"),i=document.getElementById("indexCheck"),a=document.getElementById("btn-write");t.checked==!0&&(e.forEach(c=>{c.disabled=!0}),a.disabled=!0,i.disabled=!0)}function xn(e){var t=document.getElementById("logWriteTag");t.innerHTML="",t.innerHTML+=e+`
`}function Nt(e){var t=document.getElementById("logWriteTagTest");t.innerHTML="",t.innerHTML+=e+`
`}function Hu(e){return new Promise(t=>setTimeout(t,e))}function Hl(){var e="";const t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let a=0;a<10;a++){let c=Math.floor(Math.random()*t.length);e+=t.charAt(c)}return e}async function Gc(e,t,i=2){var a=document.getElementById("batchCheck"),c=document.getElementById("indexCheck");if("NDEFReader"in window){i==2&&xn("");const x=new NDEFReader;if(e===void 0)Nt("Oops!"),xn("Scan the QR code first.");else try{var f=ko();if(c.checked==!0){var g=Hl();if(a.checked==!0)for(;a.checked==!0;)if(Nt("Bring the tag near the reader.  Step[1/4]"),await x.write("isAccess"),a.checked==!0){Nt("Writing tag... Step[2/4]"),f=ko(),g=Hl();var w=await To.post("/nfcs",{info:e,timeStamp:f,index:g,batchNumber:t}),C=w.data._id.toString();Nt("Writing tag... Step[3/4]"),await x.write(C),Nt("Success!"),xn(`Written information:
`+e+`
Index: `+g+`
Batch number: `+t+`
Written at: `+f),await Hu(1e3)}else Nt(""),xn("");else{var w=await To.post("/nfcs",{info:e,timeStamp:f,index:g}),C=w.data._id.toString();Nt("Bring the tag near the reader.  Step[1/2]"),await x.write(C),Nt("Success!"),xn(`Written information:
`+e+`
Index: `+g+`
Written at: `+f)}}else if(a.checked==!0)for(;a.checked==!0;)if(Nt("Bring the tag near the reader.  Step[1/4]"),await x.write("isAccess"),a.checked==!0){Nt("Writing tag... Step[2/4]"),f=ko(),g=Hl();var w=await To.post("/nfcs",{info:e,timeStamp:f,batchNumber:t}),C=w.data._id.toString();console.log(C),Nt("Writing tag... Step[3/4]"),await x.write(C),Nt("Success!"),xn(`Written information:
`+e+`
Batch number: `+t+`
Written at: `+f),await Hu(1e3)}else Nt(""),xn("");else{var w=await To.post("/nfcs",{info:e,timeStamp:f}),C=w.data._id.toString();console.log(C),Nt("Bring the tag near the reader.  Step[1/2]"),await x.write(C),Nt("Success!"),xn(`Written information:
`+e+`
Written at: `+f)}}catch(S){if(i>0&&S.name!="AbortError")return i==2?(xn(`A tag writing issue occurred! 
Try `+i+" more times."),console.log(S)):(xn(`A tag writing issue occurred. 
Try `+i+" more time."),console.log(S)),await Gc(e,t,i-1);i==0&&S.name!="AbortError"&&(Nt("Oops!"),xn("Can't write this tag!"),Mh())}}else Nt("Oops!"),xn("WebNFC API isn't supported in this browser.")}function dm(e){var t=document.getElementById("logSelectedQr");t.innerHTML="",t.innerHTML+="<span style='font-family: Ubuntu, Arial, Helvetica, sans-serif;  font-weight: bold; font-size: 17.5px;'>Selected QR code:</span> "+e+`
`}function hm({id:e,setQrs:t}){t(i=>i.filter(a=>a.id!==e))}function gm({qrs:e,setQrs:t,setBatchNumber:i,batchNumber:a}){return oe.jsxs("div",{className:"row-list",children:[oe.jsx("label",{className:"labl-list",children:"SCANNED QR CODES"}),oe.jsxs("div",{className:"checkBoxes-div",children:[oe.jsxs("label",{className:"serial-label",children:[oe.jsx("input",{className:"checkbox-serial",type:"checkbox",id:"batchCheck",onClick:()=>{i(ju()),Mh(),fm(ju())}}),"SERIAL WRITING"]}),oe.jsxs("label",{className:"index-label",children:[oe.jsx("input",{className:"checkbox-index",type:"checkbox",id:"indexCheck"}),"INDEXING"]})]}),oe.jsx("pre",{className:"log-info",id:"logSelectedQr"}),oe.jsx("pre",{className:"log-info",id:"logBatchNumber"}),oe.jsxs("ul",{className:"list-qrs",children:[e.length===0&&"No QR codes stored",e.map(c=>er.createElement(cm,{...c,key:c.id,batchNumber:a,writeTag:Gc,setQrs:t,deleteQr:hm,logSelectedQr:dm,disableButtons:Rh}))]})]})}var ne;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ne||(ne={}));var L0=new Map([[ne.QR_CODE,"QR_CODE"],[ne.AZTEC,"AZTEC"],[ne.CODABAR,"CODABAR"],[ne.CODE_39,"CODE_39"],[ne.CODE_93,"CODE_93"],[ne.CODE_128,"CODE_128"],[ne.DATA_MATRIX,"DATA_MATRIX"],[ne.MAXICODE,"MAXICODE"],[ne.ITF,"ITF"],[ne.EAN_13,"EAN_13"],[ne.EAN_8,"EAN_8"],[ne.PDF_417,"PDF_417"],[ne.RSS_14,"RSS_14"],[ne.RSS_EXPANDED,"RSS_EXPANDED"],[ne.UPC_A,"UPC_A"],[ne.UPC_E,"UPC_E"],[ne.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),k0;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(k0||(k0={}));function pm(e){return Object.values(ne).includes(e)}var cr;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(cr||(cr={}));var Mn=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[cr.SCAN_TYPE_CAMERA,cr.SCAN_TYPE_FILE],e}(),Dh=function(){function e(t,i){this.format=t,this.formatName=i}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!L0.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,L0.get(t))},e}(),B0=function(){function e(){}return e.createFromText=function(t){var i={text:t};return{decodedText:t,result:i}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),Vu;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Vu||(Vu={}));var bh=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:Vu.UNKWOWN_ERROR}},e}(),Lh=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,i){(this.verbose||i===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function Wn(e){return typeof e>"u"||e===null}function xm(e,t,i){return e>i?i:e<t?t:e}var bi=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),be=function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(t){return"Last Match: ".concat(t)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e}(),P0=function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e}(),kh=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,i){if(typeof t!="object"){var a=typeof t;return i.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(a,"."),!0),!1}for(var c=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],f=new Set(c),g=Object.keys(t),w=0,C=g;w<C.length;w++){var x=C[w];if(f.has(x))return i.logError("".concat(x," is not supported videoConstaints."),!0),!1}return!0},e}(),Wu={exports:{}};(function(e,t){(function(i,a){a(t)})(co,function(i){function a(y){return y==null}var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,n){y.__proto__=n}||function(y,n){for(var r in n)n.hasOwnProperty(r)&&(y[r]=n[r])};function f(y,n){c(y,n);function r(){this.constructor=y}y.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}function g(y,n){var r=Object.setPrototypeOf;r?r(y,n):y.__proto__=n}function w(y,n){n===void 0&&(n=y.constructor);var r=Error.captureStackTrace;r&&r(y,n)}var C=function(y){f(n,y);function n(r){var o=this.constructor,s=y.call(this,r)||this;return Object.defineProperty(s,"name",{value:o.name,enumerable:!1}),g(s,o.prototype),w(s),s}return n}(Error);class x extends C{constructor(n=void 0){super(n),this.message=n}getKind(){return this.constructor.kind}}x.kind="Exception";class S extends x{}S.kind="ArgumentException";class I extends x{}I.kind="IllegalArgumentException";class D{constructor(n){if(this.binarizer=n,n===null)throw new I("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(n,r){return this.binarizer.getBlackRow(n,r)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(n,r,o,s){const l=this.binarizer.getLuminanceSource().crop(n,r,o,s);return new D(this.binarizer.createBinarizer(l))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const n=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new D(this.binarizer.createBinarizer(n))}rotateCounterClockwise45(){const n=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new D(this.binarizer.createBinarizer(n))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class z extends x{static getChecksumInstance(){return new z}}z.kind="ChecksumException";class k{constructor(n){this.source=n}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class B{static arraycopy(n,r,o,s,l){for(;l--;)o[s++]=n[r++]}static currentTimeMillis(){return Date.now()}}class ie extends x{}ie.kind="IndexOutOfBoundsException";class R extends ie{constructor(n=void 0,r=void 0){super(r),this.index=n,this.message=r}}R.kind="ArrayIndexOutOfBoundsException";class N{static fill(n,r){for(let o=0,s=n.length;o<s;o++)n[o]=r}static fillWithin(n,r,o,s){N.rangeCheck(n.length,r,o);for(let l=r;l<o;l++)n[l]=s}static rangeCheck(n,r,o){if(r>o)throw new I("fromIndex("+r+") > toIndex("+o+")");if(r<0)throw new R(r);if(o>n)throw new R(o)}static asList(...n){return n}static create(n,r,o){return Array.from({length:n}).map(l=>Array.from({length:r}).fill(o))}static createInt32Array(n,r,o){return Array.from({length:n}).map(l=>Int32Array.from({length:r}).fill(o))}static equals(n,r){if(!n||!r||!n.length||!r.length||n.length!==r.length)return!1;for(let o=0,s=n.length;o<s;o++)if(n[o]!==r[o])return!1;return!0}static hashCode(n){if(n===null)return 0;let r=1;for(const o of n)r=31*r+o;return r}static fillUint8Array(n,r){for(let o=0;o!==n.length;o++)n[o]=r}static copyOf(n,r){return n.slice(0,r)}static copyOfUint8Array(n,r){if(n.length<=r){const o=new Uint8Array(r);return o.set(n),o}return n.slice(0,r)}static copyOfRange(n,r,o){const s=o-r,l=new Int32Array(s);return B.arraycopy(n,r,l,0,s),l}static binarySearch(n,r,o){o===void 0&&(o=N.numberComparator);let s=0,l=n.length-1;for(;s<=l;){const u=l+s>>1,d=o(r,n[u]);if(d>0)s=u+1;else if(d<0)l=u-1;else return u}return-s-1}static numberComparator(n,r){return n-r}}class _{static numberOfTrailingZeros(n){let r;if(n===0)return 32;let o=31;return r=n<<16,r!==0&&(o-=16,n=r),r=n<<8,r!==0&&(o-=8,n=r),r=n<<4,r!==0&&(o-=4,n=r),r=n<<2,r!==0&&(o-=2,n=r),o-(n<<1>>>31)}static numberOfLeadingZeros(n){if(n===0)return 32;let r=1;return n>>>16||(r+=16,n<<=16),n>>>24||(r+=8,n<<=8),n>>>28||(r+=4,n<<=4),n>>>30||(r+=2,n<<=2),r-=n>>>31,r}static toHexString(n){return n.toString(16)}static toBinaryString(n){return String(parseInt(String(n),2))}static bitCount(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),n=n+(n>>>4)&252645135,n=n+(n>>>8),n=n+(n>>>16),n&63}static truncDivision(n,r){return Math.trunc(n/r)}static parseInt(n,r=void 0){return parseInt(n,r)}}_.MIN_VALUE_32_BITS=-2147483648,_.MAX_VALUE=Number.MAX_SAFE_INTEGER;class j{constructor(n,r){n===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=n,r==null?this.bits=j.makeArray(n):this.bits=r)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(n){if(n>this.bits.length*32){const r=j.makeArray(n);B.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}}get(n){return(this.bits[Math.floor(n/32)]&1<<(n&31))!==0}set(n){this.bits[Math.floor(n/32)]|=1<<(n&31)}flip(n){this.bits[Math.floor(n/32)]^=1<<(n&31)}getNextSet(n){const r=this.size;if(n>=r)return r;const o=this.bits;let s=Math.floor(n/32),l=o[s];l&=~((1<<(n&31))-1);const u=o.length;for(;l===0;){if(++s===u)return r;l=o[s]}const d=s*32+_.numberOfTrailingZeros(l);return d>r?r:d}getNextUnset(n){const r=this.size;if(n>=r)return r;const o=this.bits;let s=Math.floor(n/32),l=~o[s];l&=~((1<<(n&31))-1);const u=o.length;for(;l===0;){if(++s===u)return r;l=~o[s]}const d=s*32+_.numberOfTrailingZeros(l);return d>r?r:d}setBulk(n,r){this.bits[Math.floor(n/32)]=r}setRange(n,r){if(r<n||n<0||r>this.size)throw new I;if(r===n)return;r--;const o=Math.floor(n/32),s=Math.floor(r/32),l=this.bits;for(let u=o;u<=s;u++){const d=u>o?0:n&31,p=(2<<(u<s?31:r&31))-(1<<d);l[u]|=p}}clear(){const n=this.bits.length,r=this.bits;for(let o=0;o<n;o++)r[o]=0}isRange(n,r,o){if(r<n||n<0||r>this.size)throw new I;if(r===n)return!0;r--;const s=Math.floor(n/32),l=Math.floor(r/32),u=this.bits;for(let d=s;d<=l;d++){const h=d>s?0:n&31,m=(2<<(d<l?31:r&31))-(1<<h)&4294967295;if((u[d]&m)!==(o?m:0))return!1}return!0}appendBit(n){this.ensureCapacity(this.size+1),n&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(n,r){if(r<0||r>32)throw new I("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(let o=r;o>0;o--)this.appendBit((n>>o-1&1)===1)}appendBitArray(n){const r=n.size;this.ensureCapacity(this.size+r);for(let o=0;o<r;o++)this.appendBit(n.get(o))}xor(n){if(this.size!==n.size)throw new I("Sizes don't match");const r=this.bits;for(let o=0,s=r.length;o<s;o++)r[o]^=n.bits[o]}toBytes(n,r,o,s){for(let l=0;l<s;l++){let u=0;for(let d=0;d<8;d++)this.get(n)&&(u|=1<<7-d),n++;r[o+l]=u}}getBitArray(){return this.bits}reverse(){const n=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),o=r+1,s=this.bits;for(let l=0;l<o;l++){let u=s[l];u=u>>1&1431655765|(u&1431655765)<<1,u=u>>2&858993459|(u&858993459)<<2,u=u>>4&252645135|(u&252645135)<<4,u=u>>8&16711935|(u&16711935)<<8,u=u>>16&65535|(u&65535)<<16,n[r-l]=u}if(this.size!==o*32){const l=o*32-this.size;let u=n[0]>>>l;for(let d=1;d<o;d++){const h=n[d];u|=h<<32-l,n[d-1]=u,u=h>>>l}n[o-1]=u}this.bits=n}static makeArray(n){return new Int32Array(Math.floor((n+31)/32))}equals(n){if(!(n instanceof j))return!1;const r=n;return this.size===r.size&&N.equals(this.bits,r.bits)}hashCode(){return 31*this.size+N.hashCode(this.bits)}toString(){let n="";for(let r=0,o=this.size;r<o;r++)r&7||(n+=" "),n+=this.get(r)?"X":".";return n}clone(){return new j(this.size,this.bits.slice())}}var $;(function(y){y[y.OTHER=0]="OTHER",y[y.PURE_BARCODE=1]="PURE_BARCODE",y[y.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",y[y.TRY_HARDER=3]="TRY_HARDER",y[y.CHARACTER_SET=4]="CHARACTER_SET",y[y.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",y[y.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",y[y.ASSUME_GS1=7]="ASSUME_GS1",y[y.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",y[y.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",y[y.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})($||($={}));var K=$;class U extends x{static getFormatInstance(){return new U}}U.kind="FormatException";var q;(function(y){y[y.Cp437=0]="Cp437",y[y.ISO8859_1=1]="ISO8859_1",y[y.ISO8859_2=2]="ISO8859_2",y[y.ISO8859_3=3]="ISO8859_3",y[y.ISO8859_4=4]="ISO8859_4",y[y.ISO8859_5=5]="ISO8859_5",y[y.ISO8859_6=6]="ISO8859_6",y[y.ISO8859_7=7]="ISO8859_7",y[y.ISO8859_8=8]="ISO8859_8",y[y.ISO8859_9=9]="ISO8859_9",y[y.ISO8859_10=10]="ISO8859_10",y[y.ISO8859_11=11]="ISO8859_11",y[y.ISO8859_13=12]="ISO8859_13",y[y.ISO8859_14=13]="ISO8859_14",y[y.ISO8859_15=14]="ISO8859_15",y[y.ISO8859_16=15]="ISO8859_16",y[y.SJIS=16]="SJIS",y[y.Cp1250=17]="Cp1250",y[y.Cp1251=18]="Cp1251",y[y.Cp1252=19]="Cp1252",y[y.Cp1256=20]="Cp1256",y[y.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",y[y.UTF8=22]="UTF8",y[y.ASCII=23]="ASCII",y[y.Big5=24]="Big5",y[y.GB18030=25]="GB18030",y[y.EUC_KR=26]="EUC_KR"})(q||(q={}));class W{constructor(n,r,o,...s){this.valueIdentifier=n,this.name=o,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=s,W.VALUE_IDENTIFIER_TO_ECI.set(n,this),W.NAME_TO_ECI.set(o,this);const l=this.values;for(let u=0,d=l.length;u!==d;u++){const h=l[u];W.VALUES_TO_ECI.set(h,this)}for(const u of s)W.NAME_TO_ECI.set(u,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(n){if(n<0||n>=900)throw new U("incorect value");const r=W.VALUES_TO_ECI.get(n);if(r===void 0)throw new U("incorect value");return r}static getCharacterSetECIByName(n){const r=W.NAME_TO_ECI.get(n);if(r===void 0)throw new U("incorect value");return r}equals(n){if(!(n instanceof W))return!1;const r=n;return this.getName()===r.getName()}}W.VALUE_IDENTIFIER_TO_ECI=new Map,W.VALUES_TO_ECI=new Map,W.NAME_TO_ECI=new Map,W.Cp437=new W(q.Cp437,Int32Array.from([0,2]),"Cp437"),W.ISO8859_1=new W(q.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),W.ISO8859_2=new W(q.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),W.ISO8859_3=new W(q.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),W.ISO8859_4=new W(q.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),W.ISO8859_5=new W(q.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),W.ISO8859_6=new W(q.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),W.ISO8859_7=new W(q.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),W.ISO8859_8=new W(q.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),W.ISO8859_9=new W(q.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),W.ISO8859_10=new W(q.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),W.ISO8859_11=new W(q.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),W.ISO8859_13=new W(q.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),W.ISO8859_14=new W(q.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),W.ISO8859_15=new W(q.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),W.ISO8859_16=new W(q.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),W.SJIS=new W(q.SJIS,20,"SJIS","Shift_JIS"),W.Cp1250=new W(q.Cp1250,21,"Cp1250","windows-1250"),W.Cp1251=new W(q.Cp1251,22,"Cp1251","windows-1251"),W.Cp1252=new W(q.Cp1252,23,"Cp1252","windows-1252"),W.Cp1256=new W(q.Cp1256,24,"Cp1256","windows-1256"),W.UnicodeBigUnmarked=new W(q.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),W.UTF8=new W(q.UTF8,26,"UTF8","UTF-8"),W.ASCII=new W(q.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),W.Big5=new W(q.Big5,28,"Big5"),W.GB18030=new W(q.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),W.EUC_KR=new W(q.EUC_KR,30,"EUC_KR","EUC-KR");class xe extends x{}xe.kind="UnsupportedOperationException";class Ue{static decode(n,r){const o=this.encodingName(r);return this.customDecoder?this.customDecoder(n,o):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(o)?this.decodeFallback(n,o):new TextDecoder(o).decode(n)}static shouldDecodeOnFallback(n){return!Ue.isBrowser()&&n==="ISO-8859-1"}static encode(n,r){const o=this.encodingName(r);return this.customEncoder?this.customEncoder(n,o):typeof TextEncoder>"u"?this.encodeFallback(n):new TextEncoder().encode(n)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(n){return typeof n=="string"?n:n.getName()}static encodingCharacterSet(n){return n instanceof W?n:W.getCharacterSetECIByName(n)}static decodeFallback(n,r){const o=this.encodingCharacterSet(r);if(Ue.isDecodeFallbackSupported(o)){let s="";for(let l=0,u=n.length;l<u;l++){let d=n[l].toString(16);d.length<2&&(d="0"+d),s+="%"+d}return decodeURIComponent(s)}if(o.equals(W.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(n.buffer));throw new xe(`Encoding ${this.encodingName(r)} not supported by fallback.`)}static isDecodeFallbackSupported(n){return n.equals(W.UTF8)||n.equals(W.ISO8859_1)||n.equals(W.ASCII)}static encodeFallback(n){const o=btoa(unescape(encodeURIComponent(n))).split(""),s=[];for(let l=0;l<o.length;l++)s.push(o[l].charCodeAt(0));return new Uint8Array(s)}}class ce{static castAsNonUtf8Char(n,r=null){const o=r?r.getName():this.ISO88591;return Ue.decode(new Uint8Array([n]),o)}static guessEncoding(n,r){if(r!=null&&r.get(K.CHARACTER_SET)!==void 0)return r.get(K.CHARACTER_SET).toString();const o=n.length;let s=!0,l=!0,u=!0,d=0,h=0,p=0,m=0,E=0,A=0,v=0,O=0,M=0,b=0,F=0;const Q=n.length>3&&n[0]===239&&n[1]===187&&n[2]===191;for(let Z=0;Z<o&&(s||l||u);Z++){const Y=n[Z]&255;u&&(d>0?Y&128?d--:u=!1:Y&128&&(Y&64?(d++,Y&32?(d++,Y&16?(d++,Y&8?u=!1:m++):p++):h++):u=!1)),s&&(Y>127&&Y<160?s=!1:Y>159&&(Y<192||Y===215||Y===247)&&F++),l&&(E>0?Y<64||Y===127||Y>252?l=!1:E--:Y===128||Y===160||Y>239?l=!1:Y>160&&Y<224?(A++,O=0,v++,v>M&&(M=v)):Y>127?(E++,v=0,O++,O>b&&(b=O)):(v=0,O=0))}return u&&d>0&&(u=!1),l&&E>0&&(l=!1),u&&(Q||h+p+m>0)?ce.UTF8:l&&(ce.ASSUME_SHIFT_JIS||M>=3||b>=3)?ce.SHIFT_JIS:s&&l?M===2&&A===2||F*10>=o?ce.SHIFT_JIS:ce.ISO88591:s?ce.ISO88591:l?ce.SHIFT_JIS:u?ce.UTF8:ce.PLATFORM_DEFAULT_ENCODING}static format(n,...r){let o=-1;function s(u,d,h,p,m,E){if(u==="%%")return"%";if(r[++o]===void 0)return;u=p?parseInt(p.substr(1)):void 0;let A=m?parseInt(m.substr(1)):void 0,v;switch(E){case"s":v=r[o];break;case"c":v=r[o][0];break;case"f":v=parseFloat(r[o]).toFixed(u);break;case"p":v=parseFloat(r[o]).toPrecision(u);break;case"e":v=parseFloat(r[o]).toExponential(u);break;case"x":v=parseInt(r[o]).toString(A||16);break;case"d":v=parseFloat(parseInt(r[o],A||10).toPrecision(u)).toFixed(0);break}v=typeof v=="object"?JSON.stringify(v):(+v).toString(A);let O=parseInt(h),M=h&&h[0]+""=="0"?"0":" ";for(;v.length<O;)v=d!==void 0?v+M:M+v;return v}let l=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return n.replace(l,s)}static getBytes(n,r){return Ue.encode(n,r)}static getCharCode(n,r=0){return n.charCodeAt(r)}static getCharAt(n){return String.fromCharCode(n)}}ce.SHIFT_JIS=W.SJIS.getName(),ce.GB2312="GB2312",ce.ISO88591=W.ISO8859_1.getName(),ce.EUC_JP="EUC_JP",ce.UTF8=W.UTF8.getName(),ce.PLATFORM_DEFAULT_ENCODING=ce.UTF8,ce.ASSUME_SHIFT_JIS=!1;class Se{constructor(n=""){this.value=n}enableDecoding(n){return this.encoding=n,this}append(n){return typeof n=="string"?this.value+=n.toString():this.encoding?this.value+=ce.castAsNonUtf8Char(n,this.encoding):this.value+=String.fromCharCode(n),this}appendChars(n,r,o){for(let s=r;r<r+o;s++)this.append(n[s]);return this}length(){return this.value.length}charAt(n){return this.value.charAt(n)}deleteCharAt(n){this.value=this.value.substr(0,n)+this.value.substring(n+1)}setCharAt(n,r){this.value=this.value.substr(0,n)+r+this.value.substr(n+1)}substring(n,r){return this.value.substring(n,r)}setLengthToZero(){this.value=""}toString(){return this.value}insert(n,r){this.value=this.value.substr(0,n)+r+this.value.substr(n+r.length)}}class at{constructor(n,r,o,s){if(this.width=n,this.height=r,this.rowSize=o,this.bits=s,r==null&&(r=n),this.height=r,n<1||r<1)throw new I("Both dimensions must be greater than 0");o==null&&(o=Math.floor((n+31)/32)),this.rowSize=o,s==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(n){const r=n.length,o=n[0].length,s=new at(o,r);for(let l=0;l<r;l++){const u=n[l];for(let d=0;d<o;d++)u[d]&&s.set(d,l)}return s}static parseFromString(n,r,o){if(n===null)throw new I("stringRepresentation cannot be null");const s=new Array(n.length);let l=0,u=0,d=-1,h=0,p=0;for(;p<n.length;)if(n.charAt(p)===`
`||n.charAt(p)==="\r"){if(l>u){if(d===-1)d=l-u;else if(l-u!==d)throw new I("row lengths do not match");u=l,h++}p++}else if(n.substring(p,p+r.length)===r)p+=r.length,s[l]=!0,l++;else if(n.substring(p,p+o.length)===o)p+=o.length,s[l]=!1,l++;else throw new I("illegal character encountered: "+n.substring(p));if(l>u){if(d===-1)d=l-u;else if(l-u!==d)throw new I("row lengths do not match");h++}const m=new at(d,h);for(let E=0;E<l;E++)s[E]&&m.set(Math.floor(E%d),Math.floor(E/d));return m}get(n,r){const o=r*this.rowSize+Math.floor(n/32);return(this.bits[o]>>>(n&31)&1)!==0}set(n,r){const o=r*this.rowSize+Math.floor(n/32);this.bits[o]|=1<<(n&31)&4294967295}unset(n,r){const o=r*this.rowSize+Math.floor(n/32);this.bits[o]&=~(1<<(n&31)&4294967295)}flip(n,r){const o=r*this.rowSize+Math.floor(n/32);this.bits[o]^=1<<(n&31)&4294967295}xor(n){if(this.width!==n.getWidth()||this.height!==n.getHeight()||this.rowSize!==n.getRowSize())throw new I("input matrix dimensions do not match");const r=new j(Math.floor(this.width/32)+1),o=this.rowSize,s=this.bits;for(let l=0,u=this.height;l<u;l++){const d=l*o,h=n.getRow(l,r).getBitArray();for(let p=0;p<o;p++)s[d+p]^=h[p]}}clear(){const n=this.bits,r=n.length;for(let o=0;o<r;o++)n[o]=0}setRegion(n,r,o,s){if(r<0||n<0)throw new I("Left and top must be nonnegative");if(s<1||o<1)throw new I("Height and width must be at least 1");const l=n+o,u=r+s;if(u>this.height||l>this.width)throw new I("The region must fit inside the matrix");const d=this.rowSize,h=this.bits;for(let p=r;p<u;p++){const m=p*d;for(let E=n;E<l;E++)h[m+Math.floor(E/32)]|=1<<(E&31)&4294967295}}getRow(n,r){r==null||r.getSize()<this.width?r=new j(this.width):r.clear();const o=this.rowSize,s=this.bits,l=n*o;for(let u=0;u<o;u++)r.setBulk(u*32,s[l+u]);return r}setRow(n,r){B.arraycopy(r.getBitArray(),0,this.bits,n*this.rowSize,this.rowSize)}rotate180(){const n=this.getWidth(),r=this.getHeight();let o=new j(n),s=new j(n);for(let l=0,u=Math.floor((r+1)/2);l<u;l++)o=this.getRow(l,o),s=this.getRow(r-1-l,s),o.reverse(),s.reverse(),this.setRow(l,s),this.setRow(r-1-l,o)}getEnclosingRectangle(){const n=this.width,r=this.height,o=this.rowSize,s=this.bits;let l=n,u=r,d=-1,h=-1;for(let p=0;p<r;p++)for(let m=0;m<o;m++){const E=s[p*o+m];if(E!==0){if(p<u&&(u=p),p>h&&(h=p),m*32<l){let A=0;for(;!(E<<31-A&4294967295);)A++;m*32+A<l&&(l=m*32+A)}if(m*32+31>d){let A=31;for(;!(E>>>A);)A--;m*32+A>d&&(d=m*32+A)}}}return d<l||h<u?null:Int32Array.from([l,u,d-l+1,h-u+1])}getTopLeftOnBit(){const n=this.rowSize,r=this.bits;let o=0;for(;o<r.length&&r[o]===0;)o++;if(o===r.length)return null;const s=o/n;let l=o%n*32;const u=r[o];let d=0;for(;!(u<<31-d&4294967295);)d++;return l+=d,Int32Array.from([l,s])}getBottomRightOnBit(){const n=this.rowSize,r=this.bits;let o=r.length-1;for(;o>=0&&r[o]===0;)o--;if(o<0)return null;const s=Math.floor(o/n);let l=Math.floor(o%n)*32;const u=r[o];let d=31;for(;!(u>>>d);)d--;return l+=d,Int32Array.from([l,s])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(n){if(!(n instanceof at))return!1;const r=n;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&N.equals(this.bits,r.bits)}hashCode(){let n=this.width;return n=31*n+this.width,n=31*n+this.height,n=31*n+this.rowSize,n=31*n+N.hashCode(this.bits),n}toString(n="X ",r="  ",o=`
`){return this.buildToString(n,r,o)}buildToString(n,r,o){let s=new Se;for(let l=0,u=this.height;l<u;l++){for(let d=0,h=this.width;d<h;d++)s.append(this.get(d,l)?n:r);s.append(o)}return s.toString()}clone(){return new at(this.width,this.height,this.rowSize,this.bits.slice())}}class H extends x{static getNotFoundInstance(){return new H}}H.kind="NotFoundException";class tt extends k{constructor(n){super(n),this.luminances=tt.EMPTY,this.buckets=new Int32Array(tt.LUMINANCE_BUCKETS)}getBlackRow(n,r){const o=this.getLuminanceSource(),s=o.getWidth();r==null||r.getSize()<s?r=new j(s):r.clear(),this.initArrays(s);const l=o.getRow(n,this.luminances),u=this.buckets;for(let h=0;h<s;h++)u[(l[h]&255)>>tt.LUMINANCE_SHIFT]++;const d=tt.estimateBlackPoint(u);if(s<3)for(let h=0;h<s;h++)(l[h]&255)<d&&r.set(h);else{let h=l[0]&255,p=l[1]&255;for(let m=1;m<s-1;m++){const E=l[m+1]&255;(p*4-h-E)/2<d&&r.set(m),h=p,p=E}}return r}getBlackMatrix(){const n=this.getLuminanceSource(),r=n.getWidth(),o=n.getHeight(),s=new at(r,o);this.initArrays(r);const l=this.buckets;for(let h=1;h<5;h++){const p=Math.floor(o*h/5),m=n.getRow(p,this.luminances),E=Math.floor(r*4/5);for(let A=Math.floor(r/5);A<E;A++){const v=m[A]&255;l[v>>tt.LUMINANCE_SHIFT]++}}const u=tt.estimateBlackPoint(l),d=n.getMatrix();for(let h=0;h<o;h++){const p=h*r;for(let m=0;m<r;m++)(d[p+m]&255)<u&&s.set(m,h)}return s}createBinarizer(n){return new tt(n)}initArrays(n){this.luminances.length<n&&(this.luminances=new Uint8ClampedArray(n));const r=this.buckets;for(let o=0;o<tt.LUMINANCE_BUCKETS;o++)r[o]=0}static estimateBlackPoint(n){const r=n.length;let o=0,s=0,l=0;for(let m=0;m<r;m++)n[m]>l&&(s=m,l=n[m]),n[m]>o&&(o=n[m]);let u=0,d=0;for(let m=0;m<r;m++){const E=m-s,A=n[m]*E*E;A>d&&(u=m,d=A)}if(s>u){const m=s;s=u,u=m}if(u-s<=r/16)throw new H;let h=u-1,p=-1;for(let m=u-1;m>s;m--){const E=m-s,A=E*E*(u-m)*(o-n[m]);A>p&&(h=m,p=A)}return h<<tt.LUMINANCE_SHIFT}}tt.LUMINANCE_BITS=5,tt.LUMINANCE_SHIFT=8-tt.LUMINANCE_BITS,tt.LUMINANCE_BUCKETS=1<<tt.LUMINANCE_BITS,tt.EMPTY=Uint8ClampedArray.from([0]);class pe extends tt{constructor(n){super(n),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const n=this.getLuminanceSource(),r=n.getWidth(),o=n.getHeight();if(r>=pe.MINIMUM_DIMENSION&&o>=pe.MINIMUM_DIMENSION){const s=n.getMatrix();let l=r>>pe.BLOCK_SIZE_POWER;r&pe.BLOCK_SIZE_MASK&&l++;let u=o>>pe.BLOCK_SIZE_POWER;o&pe.BLOCK_SIZE_MASK&&u++;const d=pe.calculateBlackPoints(s,l,u,r,o),h=new at(r,o);pe.calculateThresholdForBlock(s,l,u,r,o,d,h),this.matrix=h}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(n){return new pe(n)}static calculateThresholdForBlock(n,r,o,s,l,u,d){const h=l-pe.BLOCK_SIZE,p=s-pe.BLOCK_SIZE;for(let m=0;m<o;m++){let E=m<<pe.BLOCK_SIZE_POWER;E>h&&(E=h);const A=pe.cap(m,2,o-3);for(let v=0;v<r;v++){let O=v<<pe.BLOCK_SIZE_POWER;O>p&&(O=p);const M=pe.cap(v,2,r-3);let b=0;for(let Q=-2;Q<=2;Q++){const Z=u[A+Q];b+=Z[M-2]+Z[M-1]+Z[M]+Z[M+1]+Z[M+2]}const F=b/25;pe.thresholdBlock(n,O,E,F,s,d)}}}static cap(n,r,o){return n<r?r:n>o?o:n}static thresholdBlock(n,r,o,s,l,u){for(let d=0,h=o*l+r;d<pe.BLOCK_SIZE;d++,h+=l)for(let p=0;p<pe.BLOCK_SIZE;p++)(n[h+p]&255)<=s&&u.set(r+p,o+d)}static calculateBlackPoints(n,r,o,s,l){const u=l-pe.BLOCK_SIZE,d=s-pe.BLOCK_SIZE,h=new Array(o);for(let p=0;p<o;p++){h[p]=new Int32Array(r);let m=p<<pe.BLOCK_SIZE_POWER;m>u&&(m=u);for(let E=0;E<r;E++){let A=E<<pe.BLOCK_SIZE_POWER;A>d&&(A=d);let v=0,O=255,M=0;for(let F=0,Q=m*s+A;F<pe.BLOCK_SIZE;F++,Q+=s){for(let Z=0;Z<pe.BLOCK_SIZE;Z++){const Y=n[Q+Z]&255;v+=Y,Y<O&&(O=Y),Y>M&&(M=Y)}if(M-O>pe.MIN_DYNAMIC_RANGE)for(F++,Q+=s;F<pe.BLOCK_SIZE;F++,Q+=s)for(let Z=0;Z<pe.BLOCK_SIZE;Z++)v+=n[Q+Z]&255}let b=v>>pe.BLOCK_SIZE_POWER*2;if(M-O<=pe.MIN_DYNAMIC_RANGE&&(b=O/2,p>0&&E>0)){const F=(h[p-1][E]+2*h[p][E-1]+h[p-1][E-1])/4;O<F&&(b=F)}h[p][E]=b}}return h}}pe.BLOCK_SIZE_POWER=3,pe.BLOCK_SIZE=1<<pe.BLOCK_SIZE_POWER,pe.BLOCK_SIZE_MASK=pe.BLOCK_SIZE-1,pe.MINIMUM_DIMENSION=pe.BLOCK_SIZE*5,pe.MIN_DYNAMIC_RANGE=24;class ee{constructor(n,r){this.width=n,this.height=r}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(n,r,o,s){throw new xe("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new xe("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new xe("This luminance source does not support rotation by 45 degrees.")}toString(){const n=new Uint8ClampedArray(this.width);let r=new Se;for(let o=0;o<this.height;o++){const s=this.getRow(o,n);for(let l=0;l<this.width;l++){const u=s[l]&255;let d;u<64?d="#":u<128?d="+":u<192?d=".":d=" ",r.append(d)}r.append(`
`)}return r.toString()}}class de extends ee{constructor(n){super(n.getWidth(),n.getHeight()),this.delegate=n}getRow(n,r){const o=this.delegate.getRow(n,r),s=this.getWidth();for(let l=0;l<s;l++)o[l]=255-(o[l]&255);return o}getMatrix(){const n=this.delegate.getMatrix(),r=this.getWidth()*this.getHeight(),o=new Uint8ClampedArray(r);for(let s=0;s<r;s++)o[s]=255-(n[s]&255);return o}isCropSupported(){return this.delegate.isCropSupported()}crop(n,r,o,s){return new de(this.delegate.crop(n,r,o,s))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new de(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new de(this.delegate.rotateCounterClockwise45())}}class ge extends ee{constructor(n){super(n.width,n.height),this.canvas=n,this.tempCanvasElement=null,this.buffer=ge.makeBufferFromCanvasImageData(n)}static makeBufferFromCanvasImageData(n){const r=n.getContext("2d").getImageData(0,0,n.width,n.height);return ge.toGrayscaleBuffer(r.data,n.width,n.height)}static toGrayscaleBuffer(n,r,o){const s=new Uint8ClampedArray(r*o);for(let l=0,u=0,d=n.length;l<d;l+=4,u++){let h;if(n[l+3]===0)h=255;else{const m=n[l],E=n[l+1],A=n[l+2];h=306*m+601*E+117*A+512>>10}s[u]=h}return s}getRow(n,r){if(n<0||n>=this.getHeight())throw new I("Requested row is outside the image: "+n);const o=this.getWidth(),s=n*o;return r===null?r=this.buffer.slice(s,s+o):(r.length<o&&(r=new Uint8ClampedArray(o)),r.set(this.buffer.slice(s,s+o))),r}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(n,r,o,s){return super.crop(n,r,o,s),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const n=this.canvas.ownerDocument.createElement("canvas");n.width=this.canvas.width,n.height=this.canvas.height,this.tempCanvasElement=n}return this.tempCanvasElement}rotate(n){const r=this.getTempCanvasElement(),o=r.getContext("2d"),s=n*ge.DEGREE_TO_RADIANS,l=this.canvas.width,u=this.canvas.height,d=Math.ceil(Math.abs(Math.cos(s))*l+Math.abs(Math.sin(s))*u),h=Math.ceil(Math.abs(Math.sin(s))*l+Math.abs(Math.cos(s))*u);return r.width=d,r.height=h,o.translate(d/2,h/2),o.rotate(s),o.drawImage(this.canvas,l/-2,u/-2),this.buffer=ge.makeBufferFromCanvasImageData(r),this}invert(){return new de(this)}}ge.DEGREE_TO_RADIANS=Math.PI/180;class Xe{constructor(n,r,o){this.deviceId=n,this.label=r,this.kind="videoinput",this.groupId=o||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Ie=(globalThis||co||self||window||void 0)&&(globalThis||co||self||window||void 0).__awaiter||function(y,n,r,o){function s(l){return l instanceof r?l:new r(function(u){u(l)})}return new(r||(r=Promise))(function(l,u){function d(m){try{p(o.next(m))}catch(E){u(E)}}function h(m){try{p(o.throw(m))}catch(E){u(E)}}function p(m){m.done?l(m.value):s(m.value).then(d,h)}p((o=o.apply(y,n||[])).next())})};class fn{constructor(n,r=500,o){this.reader=n,this.timeBetweenScansMillis=r,this._hints=o,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(n){this._timeBetweenDecodingAttempts=n<0?0:n}set hints(n){this._hints=n||null}get hints(){return this._hints}listVideoInputDevices(){return Ie(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const n=yield navigator.mediaDevices.enumerateDevices(),r=[];for(const o of n){const s=o.kind==="video"?"videoinput":o.kind;if(s!=="videoinput")continue;const l=o.deviceId||o.id,u=o.label||`Video device ${r.length+1}`,d=o.groupId,h={deviceId:l,label:u,kind:s,groupId:d};r.push(h)}return r})}getVideoInputDevices(){return Ie(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(r=>new Xe(r.deviceId,r.label))})}findDeviceById(n){return Ie(this,void 0,void 0,function*(){const r=yield this.listVideoInputDevices();return r?r.find(o=>o.deviceId===n):null})}decodeFromInputVideoDevice(n,r){return Ie(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(n,r)})}decodeOnceFromVideoDevice(n,r){return Ie(this,void 0,void 0,function*(){this.reset();let o;n?o={deviceId:{exact:n}}:o={facingMode:"environment"};const s={video:o};return yield this.decodeOnceFromConstraints(s,r)})}decodeOnceFromConstraints(n,r){return Ie(this,void 0,void 0,function*(){const o=yield navigator.mediaDevices.getUserMedia(n);return yield this.decodeOnceFromStream(o,r)})}decodeOnceFromStream(n,r){return Ie(this,void 0,void 0,function*(){this.reset();const o=yield this.attachStreamToVideo(n,r);return yield this.decodeOnce(o)})}decodeFromInputVideoDeviceContinuously(n,r,o){return Ie(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(n,r,o)})}decodeFromVideoDevice(n,r,o){return Ie(this,void 0,void 0,function*(){let s;n?s={deviceId:{exact:n}}:s={facingMode:"environment"};const l={video:s};return yield this.decodeFromConstraints(l,r,o)})}decodeFromConstraints(n,r,o){return Ie(this,void 0,void 0,function*(){const s=yield navigator.mediaDevices.getUserMedia(n);return yield this.decodeFromStream(s,r,o)})}decodeFromStream(n,r,o){return Ie(this,void 0,void 0,function*(){this.reset();const s=yield this.attachStreamToVideo(n,r);return yield this.decodeContinuously(s,o)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(n,r){return Ie(this,void 0,void 0,function*(){const o=this.prepareVideoElement(r);return this.addVideoSource(o,n),this.videoElement=o,this.stream=n,yield this.playVideoOnLoadAsync(o),o})}playVideoOnLoadAsync(n){return new Promise((r,o)=>this.playVideoOnLoad(n,()=>r()))}playVideoOnLoad(n,r){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(n),n.addEventListener("ended",this.videoEndedListener),n.addEventListener("canplay",this.videoCanPlayListener),n.addEventListener("playing",r),this.tryPlayVideo(n)}isVideoPlaying(n){return n.currentTime>0&&!n.paused&&!n.ended&&n.readyState>2}tryPlayVideo(n){return Ie(this,void 0,void 0,function*(){if(this.isVideoPlaying(n)){console.warn("Trying to play video that is already playing.");return}try{yield n.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(n,r){const o=document.getElementById(n);if(!o)throw new S(`element with id '${n}' not found`);if(o.nodeName.toLowerCase()!==r.toLowerCase())throw new S(`element with id '${n}' must be an ${r} element`);return o}decodeFromImage(n,r){if(!n&&!r)throw new S("either imageElement with a src set or an url must be provided");return r&&!n?this.decodeFromImageUrl(r):this.decodeFromImageElement(n)}decodeFromVideo(n,r){if(!n&&!r)throw new S("Either an element with a src set or an URL must be provided");return r&&!n?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(n)}decodeFromVideoContinuously(n,r,o){if(n===void 0&&r===void 0)throw new S("Either an element with a src set or an URL must be provided");return r&&!n?this.decodeFromVideoUrlContinuously(r,o):this.decodeFromVideoElementContinuously(n,o)}decodeFromImageElement(n){if(!n)throw new S("An image element must be provided.");this.reset();const r=this.prepareImageElement(n);this.imageElement=r;let o;return this.isImageLoaded(r)?o=this.decodeOnce(r,!1,!0):o=this._decodeOnLoadImage(r),o}decodeFromVideoElement(n){const r=this._decodeFromVideoElementSetup(n);return this._decodeOnLoadVideo(r)}decodeFromVideoElementContinuously(n,r){const o=this._decodeFromVideoElementSetup(n);return this._decodeOnLoadVideoContinuously(o,r)}_decodeFromVideoElementSetup(n){if(!n)throw new S("A video element must be provided.");this.reset();const r=this.prepareVideoElement(n);return this.videoElement=r,r}decodeFromImageUrl(n){if(!n)throw new S("An URL must be provided.");this.reset();const r=this.prepareImageElement();this.imageElement=r;const o=this._decodeOnLoadImage(r);return r.src=n,o}decodeFromVideoUrl(n){if(!n)throw new S("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),o=this.decodeFromVideoElement(r);return r.src=n,o}decodeFromVideoUrlContinuously(n,r){if(!n)throw new S("An URL must be provided.");this.reset();const o=this.prepareVideoElement(),s=this.decodeFromVideoElementContinuously(o,r);return o.src=n,s}_decodeOnLoadImage(n){return new Promise((r,o)=>{this.imageLoadedListener=()=>this.decodeOnce(n,!1,!0).then(r,o),n.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(n){return Ie(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(n),yield this.decodeOnce(n)})}_decodeOnLoadVideoContinuously(n,r){return Ie(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(n),this.decodeContinuously(n,r)})}isImageLoaded(n){return!(!n.complete||n.naturalWidth===0)}prepareImageElement(n){let r;return typeof n>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof n=="string"&&(r=this.getMediaElement(n,"img")),n instanceof HTMLImageElement&&(r=n),r}prepareVideoElement(n){let r;return!n&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof n=="string"&&(r=this.getMediaElement(n,"video")),n instanceof HTMLVideoElement&&(r=n),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r}decodeOnce(n,r=!0,o=!0){this._stopAsyncDecode=!1;const s=(l,u)=>{if(this._stopAsyncDecode){u(new H("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const d=this.decode(n);l(d)}catch(d){const h=r&&d instanceof H,m=(d instanceof z||d instanceof U)&&o;if(h||m)return setTimeout(s,this._timeBetweenDecodingAttempts,l,u);u(d)}};return new Promise((l,u)=>s(l,u))}decodeContinuously(n,r){this._stopContinuousDecode=!1;const o=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const s=this.decode(n);r(s,null),setTimeout(o,this.timeBetweenScansMillis)}catch(s){r(null,s);const l=s instanceof z||s instanceof U,u=s instanceof H;(l||u)&&setTimeout(o,this._timeBetweenDecodingAttempts)}};o()}decode(n){const r=this.createBinaryBitmap(n);return this.decodeBitmap(r)}_isHTMLVideoElement(n){return n.videoWidth!==0}drawFrameOnCanvas(n,r,o){r||(r={sx:0,sy:0,sWidth:n.videoWidth,sHeight:n.videoHeight,dx:0,dy:0,dWidth:n.videoWidth,dHeight:n.videoHeight}),o||(o=this.captureCanvasContext),o.drawImage(n,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}drawImageOnCanvas(n,r,o=this.captureCanvasContext){r||(r={sx:0,sy:0,sWidth:n.naturalWidth,sHeight:n.naturalHeight,dx:0,dy:0,dWidth:n.naturalWidth,dHeight:n.naturalHeight}),o||(o=this.captureCanvasContext),o.drawImage(n,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}createBinaryBitmap(n){this.getCaptureCanvasContext(n),this._isHTMLVideoElement(n)?this.drawFrameOnCanvas(n):this.drawImageOnCanvas(n);const r=this.getCaptureCanvas(n),o=new ge(r),s=new pe(o);return new D(s)}getCaptureCanvasContext(n){if(!this.captureCanvasContext){const o=this.getCaptureCanvas(n).getContext("2d");this.captureCanvasContext=o}return this.captureCanvasContext}getCaptureCanvas(n){if(!this.captureCanvas){const r=this.createCaptureCanvas(n);this.captureCanvas=r}return this.captureCanvas}decodeBitmap(n){return this.reader.decode(n,this._hints)}createCaptureCanvas(n){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const r=document.createElement("canvas");let o,s;return typeof n<"u"&&(n instanceof HTMLVideoElement?(o=n.videoWidth,s=n.videoHeight):n instanceof HTMLImageElement&&(o=n.naturalWidth||n.width,s=n.naturalHeight||n.height)),r.style.width=o+"px",r.style.height=s+"px",r.width=o,r.height=s,r}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(n=>n.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(n,r){try{n.srcObject=r}catch{n.src=URL.createObjectURL(r)}}cleanVideoSource(n){try{n.srcObject=null}catch{n.src=""}this.videoElement.removeAttribute("src")}}class Ke{constructor(n,r,o=r==null?0:8*r.length,s,l,u=B.currentTimeMillis()){this.text=n,this.rawBytes=r,this.numBits=o,this.resultPoints=s,this.format=l,this.timestamp=u,this.text=n,this.rawBytes=r,o==null?this.numBits=r==null?0:8*r.length:this.numBits=o,this.resultPoints=s,this.format=l,this.resultMetadata=null,u==null?this.timestamp=B.currentTimeMillis():this.timestamp=u}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(n,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(n,r)}putAllMetadata(n){n!==null&&(this.resultMetadata===null?this.resultMetadata=n:this.resultMetadata=new Map(n))}addResultPoints(n){const r=this.resultPoints;if(r===null)this.resultPoints=n;else if(n!==null&&n.length>0){const o=new Array(r.length+n.length);B.arraycopy(r,0,o,0,r.length),B.arraycopy(n,0,o,r.length,n.length),this.resultPoints=o}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Hr;(function(y){y[y.AZTEC=0]="AZTEC",y[y.CODABAR=1]="CODABAR",y[y.CODE_39=2]="CODE_39",y[y.CODE_93=3]="CODE_93",y[y.CODE_128=4]="CODE_128",y[y.DATA_MATRIX=5]="DATA_MATRIX",y[y.EAN_8=6]="EAN_8",y[y.EAN_13=7]="EAN_13",y[y.ITF=8]="ITF",y[y.MAXICODE=9]="MAXICODE",y[y.PDF_417=10]="PDF_417",y[y.QR_CODE=11]="QR_CODE",y[y.RSS_14=12]="RSS_14",y[y.RSS_EXPANDED=13]="RSS_EXPANDED",y[y.UPC_A=14]="UPC_A",y[y.UPC_E=15]="UPC_E",y[y.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Hr||(Hr={}));var ae=Hr,dr;(function(y){y[y.OTHER=0]="OTHER",y[y.ORIENTATION=1]="ORIENTATION",y[y.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",y[y.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",y[y.ISSUE_NUMBER=4]="ISSUE_NUMBER",y[y.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",y[y.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",y[y.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",y[y.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",y[y.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",y[y.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(dr||(dr={}));var wt=dr;class Ji{constructor(n,r,o,s,l=-1,u=-1){this.rawBytes=n,this.text=r,this.byteSegments=o,this.ecLevel=s,this.structuredAppendSequenceNumber=l,this.structuredAppendParity=u,this.numBits=n==null?0:8*n.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(n){this.numBits=n}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(n){this.errorsCorrected=n}getErasures(){return this.erasures}setErasures(n){this.erasures=n}getOther(){return this.other}setOther(n){this.other=n}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class $i{exp(n){return this.expTable[n]}log(n){if(n===0)throw new I;return this.logTable[n]}static addOrSubtract(n,r){return n^r}}class Vt{constructor(n,r){if(r.length===0)throw new I;this.field=n;const o=r.length;if(o>1&&r[0]===0){let s=1;for(;s<o&&r[s]===0;)s++;s===o?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(o-s),B.arraycopy(r,s,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(n){return this.coefficients[this.coefficients.length-1-n]}evaluateAt(n){if(n===0)return this.getCoefficient(0);const r=this.coefficients;let o;if(n===1){o=0;for(let u=0,d=r.length;u!==d;u++){const h=r[u];o=$i.addOrSubtract(o,h)}return o}o=r[0];const s=r.length,l=this.field;for(let u=1;u<s;u++)o=$i.addOrSubtract(l.multiply(n,o),r[u]);return o}addOrSubtract(n){if(!this.field.equals(n.field))throw new I("GenericGFPolys do not have same GenericGF field");if(this.isZero())return n;if(n.isZero())return this;let r=this.coefficients,o=n.coefficients;if(r.length>o.length){const u=r;r=o,o=u}let s=new Int32Array(o.length);const l=o.length-r.length;B.arraycopy(o,0,s,0,l);for(let u=l;u<o.length;u++)s[u]=$i.addOrSubtract(r[u-l],o[u]);return new Vt(this.field,s)}multiply(n){if(!this.field.equals(n.field))throw new I("GenericGFPolys do not have same GenericGF field");if(this.isZero()||n.isZero())return this.field.getZero();const r=this.coefficients,o=r.length,s=n.coefficients,l=s.length,u=new Int32Array(o+l-1),d=this.field;for(let h=0;h<o;h++){const p=r[h];for(let m=0;m<l;m++)u[h+m]=$i.addOrSubtract(u[h+m],d.multiply(p,s[m]))}return new Vt(d,u)}multiplyScalar(n){if(n===0)return this.field.getZero();if(n===1)return this;const r=this.coefficients.length,o=this.field,s=new Int32Array(r),l=this.coefficients;for(let u=0;u<r;u++)s[u]=o.multiply(l[u],n);return new Vt(o,s)}multiplyByMonomial(n,r){if(n<0)throw new I;if(r===0)return this.field.getZero();const o=this.coefficients,s=o.length,l=new Int32Array(s+n),u=this.field;for(let d=0;d<s;d++)l[d]=u.multiply(o[d],r);return new Vt(u,l)}divide(n){if(!this.field.equals(n.field))throw new I("GenericGFPolys do not have same GenericGF field");if(n.isZero())throw new I("Divide by 0");const r=this.field;let o=r.getZero(),s=this;const l=n.getCoefficient(n.getDegree()),u=r.inverse(l);for(;s.getDegree()>=n.getDegree()&&!s.isZero();){const d=s.getDegree()-n.getDegree(),h=r.multiply(s.getCoefficient(s.getDegree()),u),p=n.multiplyByMonomial(d,h),m=r.buildMonomial(d,h);o=o.addOrSubtract(m),s=s.addOrSubtract(p)}return[o,s]}toString(){let n="";for(let r=this.getDegree();r>=0;r--){let o=this.getCoefficient(r);if(o!==0){if(o<0?(n+=" - ",o=-o):n.length>0&&(n+=" + "),r===0||o!==1){const s=this.field.log(o);s===0?n+="1":s===1?n+="a":(n+="a^",n+=s)}r!==0&&(r===1?n+="x":(n+="x^",n+=r))}}return n}}class as extends x{}as.kind="ArithmeticException";class Oe extends $i{constructor(n,r,o){super(),this.primitive=n,this.size=r,this.generatorBase=o;const s=new Int32Array(r);let l=1;for(let d=0;d<r;d++)s[d]=l,l*=2,l>=r&&(l^=n,l&=r-1);this.expTable=s;const u=new Int32Array(r);for(let d=0;d<r-1;d++)u[s[d]]=d;this.logTable=u,this.zero=new Vt(this,Int32Array.from([0])),this.one=new Vt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(n,r){if(n<0)throw new I;if(r===0)return this.zero;const o=new Int32Array(n+1);return o[0]=r,new Vt(this,o)}inverse(n){if(n===0)throw new as;return this.expTable[this.size-this.logTable[n]-1]}multiply(n,r){return n===0||r===0?0:this.expTable[(this.logTable[n]+this.logTable[r])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+_.toHexString(this.primitive)+","+this.size+")"}equals(n){return n===this}}Oe.AZTEC_DATA_12=new Oe(4201,4096,1),Oe.AZTEC_DATA_10=new Oe(1033,1024,1),Oe.AZTEC_DATA_6=new Oe(67,64,1),Oe.AZTEC_PARAM=new Oe(19,16,1),Oe.QR_CODE_FIELD_256=new Oe(285,256,0),Oe.DATA_MATRIX_FIELD_256=new Oe(301,256,1),Oe.AZTEC_DATA_8=Oe.DATA_MATRIX_FIELD_256,Oe.MAXICODE_FIELD_64=Oe.AZTEC_DATA_6;class ci extends x{}ci.kind="ReedSolomonException";class kn extends x{}kn.kind="IllegalStateException";class eo{constructor(n){this.field=n}decode(n,r){const o=this.field,s=new Vt(o,n),l=new Int32Array(r);let u=!0;for(let v=0;v<r;v++){const O=s.evaluateAt(o.exp(v+o.getGeneratorBase()));l[l.length-1-v]=O,O!==0&&(u=!1)}if(u)return;const d=new Vt(o,l),h=this.runEuclideanAlgorithm(o.buildMonomial(r,1),d,r),p=h[0],m=h[1],E=this.findErrorLocations(p),A=this.findErrorMagnitudes(m,E);for(let v=0;v<E.length;v++){const O=n.length-1-o.log(E[v]);if(O<0)throw new ci("Bad error location");n[O]=Oe.addOrSubtract(n[O],A[v])}}runEuclideanAlgorithm(n,r,o){if(n.getDegree()<r.getDegree()){const v=n;n=r,r=v}const s=this.field;let l=n,u=r,d=s.getZero(),h=s.getOne();for(;u.getDegree()>=(o/2|0);){let v=l,O=d;if(l=u,d=h,l.isZero())throw new ci("r_{i-1} was zero");u=v;let M=s.getZero();const b=l.getCoefficient(l.getDegree()),F=s.inverse(b);for(;u.getDegree()>=l.getDegree()&&!u.isZero();){const Q=u.getDegree()-l.getDegree(),Z=s.multiply(u.getCoefficient(u.getDegree()),F);M=M.addOrSubtract(s.buildMonomial(Q,Z)),u=u.addOrSubtract(l.multiplyByMonomial(Q,Z))}if(h=M.multiply(d).addOrSubtract(O),u.getDegree()>=l.getDegree())throw new kn("Division algorithm failed to reduce polynomial?")}const p=h.getCoefficient(0);if(p===0)throw new ci("sigmaTilde(0) was zero");const m=s.inverse(p),E=h.multiplyScalar(m),A=u.multiplyScalar(m);return[E,A]}findErrorLocations(n){const r=n.getDegree();if(r===1)return Int32Array.from([n.getCoefficient(1)]);const o=new Int32Array(r);let s=0;const l=this.field;for(let u=1;u<l.getSize()&&s<r;u++)n.evaluateAt(u)===0&&(o[s]=l.inverse(u),s++);if(s!==r)throw new ci("Error locator degree does not match number of roots");return o}findErrorMagnitudes(n,r){const o=r.length,s=new Int32Array(o),l=this.field;for(let u=0;u<o;u++){const d=l.inverse(r[u]);let h=1;for(let p=0;p<o;p++)if(u!==p){const m=l.multiply(r[p],d),E=m&1?m&-2:m|1;h=l.multiply(h,E)}s[u]=l.multiply(n.evaluateAt(d),l.inverse(h)),l.getGeneratorBase()!==0&&(s[u]=l.multiply(s[u],d))}return s}}var St;(function(y){y[y.UPPER=0]="UPPER",y[y.LOWER=1]="LOWER",y[y.MIXED=2]="MIXED",y[y.DIGIT=3]="DIGIT",y[y.PUNCT=4]="PUNCT",y[y.BINARY=5]="BINARY"})(St||(St={}));class ze{decode(n){this.ddata=n;let r=n.getBits(),o=this.extractBits(r),s=this.correctBits(o),l=ze.convertBoolArrayToByteArray(s),u=ze.getEncodedData(s),d=new Ji(l,u,null,null);return d.setNumBits(s.length),d}static highLevelDecode(n){return this.getEncodedData(n)}static getEncodedData(n){let r=n.length,o=St.UPPER,s=St.UPPER,l="",u=0;for(;u<r;)if(s===St.BINARY){if(r-u<5)break;let d=ze.readCode(n,u,5);if(u+=5,d===0){if(r-u<11)break;d=ze.readCode(n,u,11)+31,u+=11}for(let h=0;h<d;h++){if(r-u<8){u=r;break}const p=ze.readCode(n,u,8);l+=ce.castAsNonUtf8Char(p),u+=8}s=o}else{let d=s===St.DIGIT?4:5;if(r-u<d)break;let h=ze.readCode(n,u,d);u+=d;let p=ze.getCharacter(s,h);p.startsWith("CTRL_")?(o=s,s=ze.getTable(p.charAt(5)),p.charAt(6)==="L"&&(o=s)):(l+=p,s=o)}return l}static getTable(n){switch(n){case"L":return St.LOWER;case"P":return St.PUNCT;case"M":return St.MIXED;case"D":return St.DIGIT;case"B":return St.BINARY;case"U":default:return St.UPPER}}static getCharacter(n,r){switch(n){case St.UPPER:return ze.UPPER_TABLE[r];case St.LOWER:return ze.LOWER_TABLE[r];case St.MIXED:return ze.MIXED_TABLE[r];case St.PUNCT:return ze.PUNCT_TABLE[r];case St.DIGIT:return ze.DIGIT_TABLE[r];default:throw new kn("Bad table")}}correctBits(n){let r,o;this.ddata.getNbLayers()<=2?(o=6,r=Oe.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(o=8,r=Oe.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(o=10,r=Oe.AZTEC_DATA_10):(o=12,r=Oe.AZTEC_DATA_12);let s=this.ddata.getNbDatablocks(),l=n.length/o;if(l<s)throw new U;let u=n.length%o,d=new Int32Array(l);for(let A=0;A<l;A++,u+=o)d[A]=ze.readCode(n,u,o);try{new eo(r).decode(d,l-s)}catch(A){throw new U(A)}let h=(1<<o)-1,p=0;for(let A=0;A<s;A++){let v=d[A];if(v===0||v===h)throw new U;(v===1||v===h-1)&&p++}let m=new Array(s*o-p),E=0;for(let A=0;A<s;A++){let v=d[A];if(v===1||v===h-1)m.fill(v>1,E,E+o-1),E+=o-1;else for(let O=o-1;O>=0;--O)m[E++]=(v&1<<O)!==0}return m}extractBits(n){let r=this.ddata.isCompact(),o=this.ddata.getNbLayers(),s=(r?11:14)+o*4,l=new Int32Array(s),u=new Array(this.totalBitsInLayer(o,r));if(r)for(let d=0;d<l.length;d++)l[d]=d;else{let d=s+1+2*_.truncDivision(_.truncDivision(s,2)-1,15),h=s/2,p=_.truncDivision(d,2);for(let m=0;m<h;m++){let E=m+_.truncDivision(m,15);l[h-m-1]=p-E-1,l[h+m]=p+E+1}}for(let d=0,h=0;d<o;d++){let p=(o-d)*4+(r?9:12),m=d*2,E=s-1-m;for(let A=0;A<p;A++){let v=A*2;for(let O=0;O<2;O++)u[h+v+O]=n.get(l[m+O],l[m+A]),u[h+2*p+v+O]=n.get(l[m+A],l[E-O]),u[h+4*p+v+O]=n.get(l[E-O],l[E-A]),u[h+6*p+v+O]=n.get(l[E-A],l[m+O])}h+=p*8}return u}static readCode(n,r,o){let s=0;for(let l=r;l<r+o;l++)s<<=1,n[l]&&(s|=1);return s}static readByte(n,r){let o=n.length-r;return o>=8?ze.readCode(n,r,8):ze.readCode(n,r,o)<<8-o}static convertBoolArrayToByteArray(n){let r=new Uint8Array((n.length+7)/8);for(let o=0;o<r.length;o++)r[o]=ze.readByte(n,8*o);return r}totalBitsInLayer(n,r){return((r?88:112)+16*n)*n}}ze.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],ze.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],ze.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],ze.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],ze.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class ve{constructor(){}static round(n){return n===NaN?0:n<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:n>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:n+(n<0?-.5:.5)|0}static distance(n,r,o,s){const l=n-o,u=r-s;return Math.sqrt(l*l+u*u)}static sum(n){let r=0;for(let o=0,s=n.length;o!==s;o++){const l=n[o];r+=l}return r}}class ls{static floatToIntBits(n){return n}}ls.MAX_VALUE=Number.MAX_SAFE_INTEGER;class se{constructor(n,r){this.x=n,this.y=r}getX(){return this.x}getY(){return this.y}equals(n){if(n instanceof se){const r=n;return this.x===r.x&&this.y===r.y}return!1}hashCode(){return 31*ls.floatToIntBits(this.x)+ls.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(n){const r=this.distance(n[0],n[1]),o=this.distance(n[1],n[2]),s=this.distance(n[0],n[2]);let l,u,d;if(o>=r&&o>=s?(u=n[0],l=n[1],d=n[2]):s>=o&&s>=r?(u=n[1],l=n[0],d=n[2]):(u=n[2],l=n[0],d=n[1]),this.crossProductZ(l,u,d)<0){const h=l;l=d,d=h}n[0]=l,n[1]=u,n[2]=d}static distance(n,r){return ve.distance(n.x,n.y,r.x,r.y)}static crossProductZ(n,r,o){const s=r.x,l=r.y;return(o.x-s)*(n.y-l)-(o.y-l)*(n.x-s)}}class us{constructor(n,r){this.bits=n,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class Qc extends us{constructor(n,r,o,s,l){super(n,r),this.compact=o,this.nbDatablocks=s,this.nbLayers=l}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Kn{constructor(n,r,o,s){this.image=n,this.height=n.getHeight(),this.width=n.getWidth(),r==null&&(r=Kn.INIT_SIZE),o==null&&(o=n.getWidth()/2|0),s==null&&(s=n.getHeight()/2|0);const l=r/2|0;if(this.leftInit=o-l,this.rightInit=o+l,this.upInit=s-l,this.downInit=s+l,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new H}detect(){let n=this.leftInit,r=this.rightInit,o=this.upInit,s=this.downInit,l=!1,u=!0,d=!1,h=!1,p=!1,m=!1,E=!1;const A=this.width,v=this.height;for(;u;){u=!1;let O=!0;for(;(O||!h)&&r<A;)O=this.containsBlackPoint(o,s,r,!1),O?(r++,u=!0,h=!0):h||r++;if(r>=A){l=!0;break}let M=!0;for(;(M||!p)&&s<v;)M=this.containsBlackPoint(n,r,s,!0),M?(s++,u=!0,p=!0):p||s++;if(s>=v){l=!0;break}let b=!0;for(;(b||!m)&&n>=0;)b=this.containsBlackPoint(o,s,n,!1),b?(n--,u=!0,m=!0):m||n--;if(n<0){l=!0;break}let F=!0;for(;(F||!E)&&o>=0;)F=this.containsBlackPoint(n,r,o,!0),F?(o--,u=!0,E=!0):E||o--;if(o<0){l=!0;break}u&&(d=!0)}if(!l&&d){const O=r-n;let M=null;for(let Z=1;M===null&&Z<O;Z++)M=this.getBlackPointOnSegment(n,s-Z,n+Z,s);if(M==null)throw new H;let b=null;for(let Z=1;b===null&&Z<O;Z++)b=this.getBlackPointOnSegment(n,o+Z,n+Z,o);if(b==null)throw new H;let F=null;for(let Z=1;F===null&&Z<O;Z++)F=this.getBlackPointOnSegment(r,o+Z,r-Z,o);if(F==null)throw new H;let Q=null;for(let Z=1;Q===null&&Z<O;Z++)Q=this.getBlackPointOnSegment(r,s-Z,r-Z,s);if(Q==null)throw new H;return this.centerEdges(Q,M,F,b)}else throw new H}getBlackPointOnSegment(n,r,o,s){const l=ve.round(ve.distance(n,r,o,s)),u=(o-n)/l,d=(s-r)/l,h=this.image;for(let p=0;p<l;p++){const m=ve.round(n+p*u),E=ve.round(r+p*d);if(h.get(m,E))return new se(m,E)}return null}centerEdges(n,r,o,s){const l=n.getX(),u=n.getY(),d=r.getX(),h=r.getY(),p=o.getX(),m=o.getY(),E=s.getX(),A=s.getY(),v=Kn.CORR;return l<this.width/2?[new se(E-v,A+v),new se(d+v,h+v),new se(p-v,m-v),new se(l+v,u-v)]:[new se(E+v,A+v),new se(d+v,h-v),new se(p-v,m+v),new se(l-v,u-v)]}containsBlackPoint(n,r,o,s){const l=this.image;if(s){for(let u=n;u<=r;u++)if(l.get(u,o))return!0}else for(let u=n;u<=r;u++)if(l.get(o,u))return!0;return!1}}Kn.INIT_SIZE=10,Kn.CORR=1;class Ya{static checkAndNudgePoints(n,r){const o=n.getWidth(),s=n.getHeight();let l=!0;for(let u=0;u<r.length&&l;u+=2){const d=Math.floor(r[u]),h=Math.floor(r[u+1]);if(d<-1||d>o||h<-1||h>s)throw new H;l=!1,d===-1?(r[u]=0,l=!0):d===o&&(r[u]=o-1,l=!0),h===-1?(r[u+1]=0,l=!0):h===s&&(r[u+1]=s-1,l=!0)}l=!0;for(let u=r.length-2;u>=0&&l;u-=2){const d=Math.floor(r[u]),h=Math.floor(r[u+1]);if(d<-1||d>o||h<-1||h>s)throw new H;l=!1,d===-1?(r[u]=0,l=!0):d===o&&(r[u]=o-1,l=!0),h===-1?(r[u+1]=0,l=!0):h===s&&(r[u+1]=s-1,l=!0)}}}class In{constructor(n,r,o,s,l,u,d,h,p){this.a11=n,this.a21=r,this.a31=o,this.a12=s,this.a22=l,this.a32=u,this.a13=d,this.a23=h,this.a33=p}static quadrilateralToQuadrilateral(n,r,o,s,l,u,d,h,p,m,E,A,v,O,M,b){const F=In.quadrilateralToSquare(n,r,o,s,l,u,d,h);return In.squareToQuadrilateral(p,m,E,A,v,O,M,b).times(F)}transformPoints(n){const r=n.length,o=this.a11,s=this.a12,l=this.a13,u=this.a21,d=this.a22,h=this.a23,p=this.a31,m=this.a32,E=this.a33;for(let A=0;A<r;A+=2){const v=n[A],O=n[A+1],M=l*v+h*O+E;n[A]=(o*v+u*O+p)/M,n[A+1]=(s*v+d*O+m)/M}}transformPointsWithValues(n,r){const o=this.a11,s=this.a12,l=this.a13,u=this.a21,d=this.a22,h=this.a23,p=this.a31,m=this.a32,E=this.a33,A=n.length;for(let v=0;v<A;v++){const O=n[v],M=r[v],b=l*O+h*M+E;n[v]=(o*O+u*M+p)/b,r[v]=(s*O+d*M+m)/b}}static squareToQuadrilateral(n,r,o,s,l,u,d,h){const p=n-o+l-d,m=r-s+u-h;if(p===0&&m===0)return new In(o-n,l-o,n,s-r,u-s,r,0,0,1);{const E=o-l,A=d-l,v=s-u,O=h-u,M=E*O-A*v,b=(p*O-A*m)/M,F=(E*m-p*v)/M;return new In(o-n+b*o,d-n+F*d,n,s-r+b*s,h-r+F*h,r,b,F,1)}}static quadrilateralToSquare(n,r,o,s,l,u,d,h){return In.squareToQuadrilateral(n,r,o,s,l,u,d,h).buildAdjoint()}buildAdjoint(){return new In(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(n){return new In(this.a11*n.a11+this.a21*n.a12+this.a31*n.a13,this.a11*n.a21+this.a21*n.a22+this.a31*n.a23,this.a11*n.a31+this.a21*n.a32+this.a31*n.a33,this.a12*n.a11+this.a22*n.a12+this.a32*n.a13,this.a12*n.a21+this.a22*n.a22+this.a32*n.a23,this.a12*n.a31+this.a22*n.a32+this.a32*n.a33,this.a13*n.a11+this.a23*n.a12+this.a33*n.a13,this.a13*n.a21+this.a23*n.a22+this.a33*n.a23,this.a13*n.a31+this.a23*n.a32+this.a33*n.a33)}}class Zc extends Ya{sampleGrid(n,r,o,s,l,u,d,h,p,m,E,A,v,O,M,b,F,Q,Z){const Y=In.quadrilateralToQuadrilateral(s,l,u,d,h,p,m,E,A,v,O,M,b,F,Q,Z);return this.sampleGridWithTransform(n,r,o,Y)}sampleGridWithTransform(n,r,o,s){if(r<=0||o<=0)throw new H;const l=new at(r,o),u=new Float32Array(2*r);for(let d=0;d<o;d++){const h=u.length,p=d+.5;for(let m=0;m<h;m+=2)u[m]=m/2+.5,u[m+1]=p;s.transformPoints(u),Ya.checkAndNudgePoints(n,u);try{for(let m=0;m<h;m+=2)n.get(Math.floor(u[m]),Math.floor(u[m+1]))&&l.set(m/2,d)}catch{throw new H}}return l}}class hr{static setGridSampler(n){hr.gridSampler=n}static getInstance(){return hr.gridSampler}}hr.gridSampler=new Zc;class Pt{constructor(n,r){this.x=n,this.y=r}toResultPoint(){return new se(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Kc{constructor(n){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=n}detect(){return this.detectMirror(!1)}detectMirror(n){let r=this.getMatrixCenter(),o=this.getBullsEyeCorners(r);if(n){let u=o[0];o[0]=o[2],o[2]=u}this.extractParameters(o);let s=this.sampleGrid(this.image,o[this.shift%4],o[(this.shift+1)%4],o[(this.shift+2)%4],o[(this.shift+3)%4]),l=this.getMatrixCornerPoints(o);return new Qc(s,l,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(n){if(!this.isValidPoint(n[0])||!this.isValidPoint(n[1])||!this.isValidPoint(n[2])||!this.isValidPoint(n[3]))throw new H;let r=2*this.nbCenterLayers,o=new Int32Array([this.sampleLine(n[0],n[1],r),this.sampleLine(n[1],n[2],r),this.sampleLine(n[2],n[3],r),this.sampleLine(n[3],n[0],r)]);this.shift=this.getRotation(o,r);let s=0;for(let u=0;u<4;u++){let d=o[(this.shift+u)%4];this.compact?(s<<=7,s+=d>>1&127):(s<<=10,s+=(d>>2&992)+(d>>1&31))}let l=this.getCorrectedParameterData(s,this.compact);this.compact?(this.nbLayers=(l>>6)+1,this.nbDataBlocks=(l&63)+1):(this.nbLayers=(l>>11)+1,this.nbDataBlocks=(l&2047)+1)}getRotation(n,r){let o=0;n.forEach((s,l,u)=>{let d=(s>>r-2<<1)+(s&1);o=(o<<3)+d}),o=((o&1)<<11)+(o>>1);for(let s=0;s<4;s++)if(_.bitCount(o^this.EXPECTED_CORNER_BITS[s])<=2)return s;throw new H}getCorrectedParameterData(n,r){let o,s;r?(o=7,s=2):(o=10,s=4);let l=o-s,u=new Int32Array(o);for(let h=o-1;h>=0;--h)u[h]=n&15,n>>=4;try{new eo(Oe.AZTEC_PARAM).decode(u,l)}catch{throw new H}let d=0;for(let h=0;h<s;h++)d=(d<<4)+u[h];return d}getBullsEyeCorners(n){let r=n,o=n,s=n,l=n,u=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let E=this.getFirstDifferent(r,u,1,-1),A=this.getFirstDifferent(o,u,1,1),v=this.getFirstDifferent(s,u,-1,1),O=this.getFirstDifferent(l,u,-1,-1);if(this.nbCenterLayers>2){let M=this.distancePoint(O,E)*this.nbCenterLayers/(this.distancePoint(l,r)*(this.nbCenterLayers+2));if(M<.75||M>1.25||!this.isWhiteOrBlackRectangle(E,A,v,O))break}r=E,o=A,s=v,l=O,u=!u}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new H;this.compact=this.nbCenterLayers===5;let d=new se(r.getX()+.5,r.getY()-.5),h=new se(o.getX()+.5,o.getY()+.5),p=new se(s.getX()-.5,s.getY()+.5),m=new se(l.getX()-.5,l.getY()-.5);return this.expandSquare([d,h,p,m],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let n,r,o,s;try{let d=new Kn(this.image).detect();n=d[0],r=d[1],o=d[2],s=d[3]}catch{let h=this.image.getWidth()/2,p=this.image.getHeight()/2;n=this.getFirstDifferent(new Pt(h+7,p-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new Pt(h+7,p+7),!1,1,1).toResultPoint(),o=this.getFirstDifferent(new Pt(h-7,p+7),!1,-1,1).toResultPoint(),s=this.getFirstDifferent(new Pt(h-7,p-7),!1,-1,-1).toResultPoint()}let l=ve.round((n.getX()+s.getX()+r.getX()+o.getX())/4),u=ve.round((n.getY()+s.getY()+r.getY()+o.getY())/4);try{let d=new Kn(this.image,15,l,u).detect();n=d[0],r=d[1],o=d[2],s=d[3]}catch{n=this.getFirstDifferent(new Pt(l+7,u-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new Pt(l+7,u+7),!1,1,1).toResultPoint(),o=this.getFirstDifferent(new Pt(l-7,u+7),!1,-1,1).toResultPoint(),s=this.getFirstDifferent(new Pt(l-7,u-7),!1,-1,-1).toResultPoint()}return l=ve.round((n.getX()+s.getX()+r.getX()+o.getX())/4),u=ve.round((n.getY()+s.getY()+r.getY()+o.getY())/4),new Pt(l,u)}getMatrixCornerPoints(n){return this.expandSquare(n,2*this.nbCenterLayers,this.getDimension())}sampleGrid(n,r,o,s,l){let u=hr.getInstance(),d=this.getDimension(),h=d/2-this.nbCenterLayers,p=d/2+this.nbCenterLayers;return u.sampleGrid(n,d,d,h,h,p,h,p,p,h,p,r.getX(),r.getY(),o.getX(),o.getY(),s.getX(),s.getY(),l.getX(),l.getY())}sampleLine(n,r,o){let s=0,l=this.distanceResultPoint(n,r),u=l/o,d=n.getX(),h=n.getY(),p=u*(r.getX()-n.getX())/l,m=u*(r.getY()-n.getY())/l;for(let E=0;E<o;E++)this.image.get(ve.round(d+E*p),ve.round(h+E*m))&&(s|=1<<o-E-1);return s}isWhiteOrBlackRectangle(n,r,o,s){let l=3;n=new Pt(n.getX()-l,n.getY()+l),r=new Pt(r.getX()-l,r.getY()-l),o=new Pt(o.getX()+l,o.getY()-l),s=new Pt(s.getX()+l,s.getY()+l);let u=this.getColor(s,n);if(u===0)return!1;let d=this.getColor(n,r);return d!==u||(d=this.getColor(r,o),d!==u)?!1:(d=this.getColor(o,s),d===u)}getColor(n,r){let o=this.distancePoint(n,r),s=(r.getX()-n.getX())/o,l=(r.getY()-n.getY())/o,u=0,d=n.getX(),h=n.getY(),p=this.image.get(n.getX(),n.getY()),m=Math.ceil(o);for(let A=0;A<m;A++)d+=s,h+=l,this.image.get(ve.round(d),ve.round(h))!==p&&u++;let E=u/o;return E>.1&&E<.9?0:E<=.1===p?1:-1}getFirstDifferent(n,r,o,s){let l=n.getX()+o,u=n.getY()+s;for(;this.isValid(l,u)&&this.image.get(l,u)===r;)l+=o,u+=s;for(l-=o,u-=s;this.isValid(l,u)&&this.image.get(l,u)===r;)l+=o;for(l-=o;this.isValid(l,u)&&this.image.get(l,u)===r;)u+=s;return u-=s,new Pt(l,u)}expandSquare(n,r,o){let s=o/(2*r),l=n[0].getX()-n[2].getX(),u=n[0].getY()-n[2].getY(),d=(n[0].getX()+n[2].getX())/2,h=(n[0].getY()+n[2].getY())/2,p=new se(d+s*l,h+s*u),m=new se(d-s*l,h-s*u);l=n[1].getX()-n[3].getX(),u=n[1].getY()-n[3].getY(),d=(n[1].getX()+n[3].getX())/2,h=(n[1].getY()+n[3].getY())/2;let E=new se(d+s*l,h+s*u),A=new se(d-s*l,h-s*u);return[p,E,m,A]}isValid(n,r){return n>=0&&n<this.image.getWidth()&&r>0&&r<this.image.getHeight()}isValidPoint(n){let r=ve.round(n.getX()),o=ve.round(n.getY());return this.isValid(r,o)}distancePoint(n,r){return ve.distance(n.getX(),n.getY(),r.getX(),r.getY())}distanceResultPoint(n,r){return ve.distance(n.getX(),n.getY(),r.getX(),r.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(_.truncDivision(this.nbLayers-4,8)+1)+15}}class cs{decode(n,r=null){let o=null,s=new Kc(n.getBlackMatrix()),l=null,u=null;try{let m=s.detectMirror(!1);l=m.getPoints(),this.reportFoundResultPoints(r,l),u=new ze().decode(m)}catch(m){o=m}if(u==null)try{let m=s.detectMirror(!0);l=m.getPoints(),this.reportFoundResultPoints(r,l),u=new ze().decode(m)}catch(m){throw o??m}let d=new Ke(u.getText(),u.getRawBytes(),u.getNumBits(),l,ae.AZTEC,B.currentTimeMillis()),h=u.getByteSegments();h!=null&&d.putMetadata(wt.BYTE_SEGMENTS,h);let p=u.getECLevel();return p!=null&&d.putMetadata(wt.ERROR_CORRECTION_LEVEL,p),d}reportFoundResultPoints(n,r){if(n!=null){let o=n.get(K.NEED_RESULT_POINT_CALLBACK);o!=null&&r.forEach((s,l,u)=>{o.foundPossibleResultPoint(s)})}}reset(){}}class Uh extends fn{constructor(n=500){super(new cs,n)}}class ct{decode(n,r){try{return this.doDecode(n,r)}catch{if(r&&r.get(K.TRY_HARDER)===!0&&n.isRotateSupported()){const l=n.rotateCounterClockwise(),u=this.doDecode(l,r),d=u.getResultMetadata();let h=270;d!==null&&d.get(wt.ORIENTATION)===!0&&(h=h+d.get(wt.ORIENTATION)%360),u.putMetadata(wt.ORIENTATION,h);const p=u.getResultPoints();if(p!==null){const m=l.getHeight();for(let E=0;E<p.length;E++)p[E]=new se(m-p[E].getY()-1,p[E].getX())}return u}else throw new H}}reset(){}doDecode(n,r){const o=n.getWidth(),s=n.getHeight();let l=new j(o);const u=r&&r.get(K.TRY_HARDER)===!0,d=Math.max(1,s>>(u?8:5));let h;u?h=s:h=15;const p=Math.trunc(s/2);for(let m=0;m<h;m++){const E=Math.trunc((m+1)/2),A=(m&1)===0,v=p+d*(A?E:-E);if(v<0||v>=s)break;try{l=n.getBlackRow(v,l)}catch{continue}for(let O=0;O<2;O++){if(O===1&&(l.reverse(),r&&r.get(K.NEED_RESULT_POINT_CALLBACK)===!0)){const M=new Map;r.forEach((b,F)=>M.set(F,b)),M.delete(K.NEED_RESULT_POINT_CALLBACK),r=M}try{const M=this.decodeRow(v,l,r);if(O===1){M.putMetadata(wt.ORIENTATION,180);const b=M.getResultPoints();b!==null&&(b[0]=new se(o-b[0].getX()-1,b[0].getY()),b[1]=new se(o-b[1].getX()-1,b[1].getY()))}return M}catch{}}}throw new H}static recordPattern(n,r,o){const s=o.length;for(let p=0;p<s;p++)o[p]=0;const l=n.getSize();if(r>=l)throw new H;let u=!n.get(r),d=0,h=r;for(;h<l;){if(n.get(h)!==u)o[d]++;else{if(++d===s)break;o[d]=1,u=!u}h++}if(!(d===s||d===s-1&&h===l))throw new H}static recordPatternInReverse(n,r,o){let s=o.length,l=n.get(r);for(;r>0&&s>=0;)n.get(--r)!==l&&(s--,l=!l);if(s>=0)throw new H;ct.recordPattern(n,r+1,o)}static patternMatchVariance(n,r,o){const s=n.length;let l=0,u=0;for(let p=0;p<s;p++)l+=n[p],u+=r[p];if(l<u)return Number.POSITIVE_INFINITY;const d=l/u;o*=d;let h=0;for(let p=0;p<s;p++){const m=n[p],E=r[p]*d,A=m>E?m-E:E-m;if(A>o)return Number.POSITIVE_INFINITY;h+=A}return h/l}}class J extends ct{static findStartPattern(n){const r=n.getSize(),o=n.getNextSet(0);let s=0,l=Int32Array.from([0,0,0,0,0,0]),u=o,d=!1;const h=6;for(let p=o;p<r;p++)if(n.get(p)!==d)l[s]++;else{if(s===h-1){let m=J.MAX_AVG_VARIANCE,E=-1;for(let A=J.CODE_START_A;A<=J.CODE_START_C;A++){const v=ct.patternMatchVariance(l,J.CODE_PATTERNS[A],J.MAX_INDIVIDUAL_VARIANCE);v<m&&(m=v,E=A)}if(E>=0&&n.isRange(Math.max(0,u-(p-u)/2),u,!1))return Int32Array.from([u,p,E]);u+=l[0]+l[1],l=l.slice(2,l.length-1),l[s-1]=0,l[s]=0,s--}else s++;l[s]=1,d=!d}throw new H}static decodeCode(n,r,o){ct.recordPattern(n,o,r);let s=J.MAX_AVG_VARIANCE,l=-1;for(let u=0;u<J.CODE_PATTERNS.length;u++){const d=J.CODE_PATTERNS[u],h=this.patternMatchVariance(r,d,J.MAX_INDIVIDUAL_VARIANCE);h<s&&(s=h,l=u)}if(l>=0)return l;throw new H}decodeRow(n,r,o){const s=o&&o.get(K.ASSUME_GS1)===!0,l=J.findStartPattern(r),u=l[2];let d=0;const h=new Uint8Array(20);h[d++]=u;let p;switch(u){case J.CODE_START_A:p=J.CODE_CODE_A;break;case J.CODE_START_B:p=J.CODE_CODE_B;break;case J.CODE_START_C:p=J.CODE_CODE_C;break;default:throw new U}let m=!1,E=!1,A="",v=l[0],O=l[1];const M=Int32Array.from([0,0,0,0,0,0]);let b=0,F=0,Q=u,Z=0,Y=!0,Ee=!1,me=!1;for(;!m;){const yi=E;switch(E=!1,b=F,F=J.decodeCode(r,M,O),h[d++]=F,F!==J.CODE_STOP&&(Y=!0),F!==J.CODE_STOP&&(Z++,Q+=Z*F),v=O,O+=M.reduce((gg,pg)=>gg+pg,0),F){case J.CODE_START_A:case J.CODE_START_B:case J.CODE_START_C:throw new U}switch(p){case J.CODE_CODE_A:if(F<64)me===Ee?A+=String.fromCharCode(" ".charCodeAt(0)+F):A+=String.fromCharCode(" ".charCodeAt(0)+F+128),me=!1;else if(F<96)me===Ee?A+=String.fromCharCode(F-64):A+=String.fromCharCode(F+64),me=!1;else switch(F!==J.CODE_STOP&&(Y=!1),F){case J.CODE_FNC_1:s&&(A.length===0?A+="]C1":A+=String.fromCharCode(29));break;case J.CODE_FNC_2:case J.CODE_FNC_3:break;case J.CODE_FNC_4_A:!Ee&&me?(Ee=!0,me=!1):Ee&&me?(Ee=!1,me=!1):me=!0;break;case J.CODE_SHIFT:E=!0,p=J.CODE_CODE_B;break;case J.CODE_CODE_B:p=J.CODE_CODE_B;break;case J.CODE_CODE_C:p=J.CODE_CODE_C;break;case J.CODE_STOP:m=!0;break}break;case J.CODE_CODE_B:if(F<96)me===Ee?A+=String.fromCharCode(" ".charCodeAt(0)+F):A+=String.fromCharCode(" ".charCodeAt(0)+F+128),me=!1;else switch(F!==J.CODE_STOP&&(Y=!1),F){case J.CODE_FNC_1:s&&(A.length===0?A+="]C1":A+=String.fromCharCode(29));break;case J.CODE_FNC_2:case J.CODE_FNC_3:break;case J.CODE_FNC_4_B:!Ee&&me?(Ee=!0,me=!1):Ee&&me?(Ee=!1,me=!1):me=!0;break;case J.CODE_SHIFT:E=!0,p=J.CODE_CODE_A;break;case J.CODE_CODE_A:p=J.CODE_CODE_A;break;case J.CODE_CODE_C:p=J.CODE_CODE_C;break;case J.CODE_STOP:m=!0;break}break;case J.CODE_CODE_C:if(F<100)F<10&&(A+="0"),A+=F;else switch(F!==J.CODE_STOP&&(Y=!1),F){case J.CODE_FNC_1:s&&(A.length===0?A+="]C1":A+=String.fromCharCode(29));break;case J.CODE_CODE_A:p=J.CODE_CODE_A;break;case J.CODE_CODE_B:p=J.CODE_CODE_B;break;case J.CODE_STOP:m=!0;break}break}yi&&(p=p===J.CODE_CODE_A?J.CODE_CODE_B:J.CODE_CODE_A)}const Xt=O-v;if(O=r.getNextUnset(O),!r.isRange(O,Math.min(r.getSize(),O+(O-v)/2),!1))throw new H;if(Q-=Z*b,Q%103!==b)throw new z;const vn=A.length;if(vn===0)throw new H;vn>0&&Y&&(p===J.CODE_CODE_C?A=A.substring(0,vn-2):A=A.substring(0,vn-1));const Qt=(l[1]+l[0])/2,Fe=v+Xt/2,vt=h.length,en=new Uint8Array(vt);for(let yi=0;yi<vt;yi++)en[yi]=h[yi];const wi=[new se(Qt,n),new se(Fe,n)];return new Ke(A,en,0,wi,ae.CODE_128,new Date().getTime())}}J.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],J.MAX_AVG_VARIANCE=.25,J.MAX_INDIVIDUAL_VARIANCE=.7,J.CODE_SHIFT=98,J.CODE_CODE_C=99,J.CODE_CODE_B=100,J.CODE_CODE_A=101,J.CODE_FNC_1=102,J.CODE_FNC_2=97,J.CODE_FNC_3=96,J.CODE_FNC_4_A=101,J.CODE_FNC_4_B=100,J.CODE_START_A=103,J.CODE_START_B=104,J.CODE_START_C=105,J.CODE_STOP=106;class ht extends ct{constructor(n=!1,r=!1){super(),this.usingCheckDigit=n,this.extendedMode=r,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(n,r,o){let s=this.counters;s.fill(0),this.decodeRowResult="";let l=ht.findAsteriskPattern(r,s),u=r.getNextSet(l[1]),d=r.getSize(),h,p;do{ht.recordPattern(r,u,s);let M=ht.toNarrowWidePattern(s);if(M<0)throw new H;h=ht.patternToChar(M),this.decodeRowResult+=h,p=u;for(let b of s)u+=b;u=r.getNextSet(u)}while(h!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let m=0;for(let M of s)m+=M;let E=u-p-m;if(u!==d&&E*2<m)throw new H;if(this.usingCheckDigit){let M=this.decodeRowResult.length-1,b=0;for(let F=0;F<M;F++)b+=ht.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(F));if(this.decodeRowResult.charAt(M)!==ht.ALPHABET_STRING.charAt(b%43))throw new z;this.decodeRowResult=this.decodeRowResult.substring(0,M)}if(this.decodeRowResult.length===0)throw new H;let A;this.extendedMode?A=ht.decodeExtended(this.decodeRowResult):A=this.decodeRowResult;let v=(l[1]+l[0])/2,O=p+m/2;return new Ke(A,null,0,[new se(v,n),new se(O,n)],ae.CODE_39,new Date().getTime())}static findAsteriskPattern(n,r){let o=n.getSize(),s=n.getNextSet(0),l=0,u=s,d=!1,h=r.length;for(let p=s;p<o;p++)if(n.get(p)!==d)r[l]++;else{if(l===h-1){if(this.toNarrowWidePattern(r)===ht.ASTERISK_ENCODING&&n.isRange(Math.max(0,u-Math.floor((p-u)/2)),u,!1))return[u,p];u+=r[0]+r[1],r.copyWithin(0,2,2+l-1),r[l-1]=0,r[l]=0,l--}else l++;r[l]=1,d=!d}throw new H}static toNarrowWidePattern(n){let r=n.length,o=0,s;do{let l=2147483647;for(let h of n)h<l&&h>o&&(l=h);o=l,s=0;let u=0,d=0;for(let h=0;h<r;h++){let p=n[h];p>o&&(d|=1<<r-1-h,s++,u+=p)}if(s===3){for(let h=0;h<r&&s>0;h++){let p=n[h];if(p>o&&(s--,p*2>=u))return-1}return d}}while(s>3);return-1}static patternToChar(n){for(let r=0;r<ht.CHARACTER_ENCODINGS.length;r++)if(ht.CHARACTER_ENCODINGS[r]===n)return ht.ALPHABET_STRING.charAt(r);if(n===ht.ASTERISK_ENCODING)return"*";throw new H}static decodeExtended(n){let r=n.length,o="";for(let s=0;s<r;s++){let l=n.charAt(s);if(l==="+"||l==="$"||l==="%"||l==="/"){let u=n.charAt(s+1),d="\0";switch(l){case"+":if(u>="A"&&u<="Z")d=String.fromCharCode(u.charCodeAt(0)+32);else throw new U;break;case"$":if(u>="A"&&u<="Z")d=String.fromCharCode(u.charCodeAt(0)-64);else throw new U;break;case"%":if(u>="A"&&u<="E")d=String.fromCharCode(u.charCodeAt(0)-38);else if(u>="F"&&u<="J")d=String.fromCharCode(u.charCodeAt(0)-11);else if(u>="K"&&u<="O")d=String.fromCharCode(u.charCodeAt(0)+16);else if(u>="P"&&u<="T")d=String.fromCharCode(u.charCodeAt(0)+43);else if(u==="U")d="\0";else if(u==="V")d="@";else if(u==="W")d="`";else if(u==="X"||u==="Y"||u==="Z")d="";else throw new U;break;case"/":if(u>="A"&&u<="O")d=String.fromCharCode(u.charCodeAt(0)-32);else if(u==="Z")d=":";else throw new U;break}o+=d,s++}else o+=l}return o}}ht.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",ht.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],ht.ASTERISK_ENCODING=148;class Be extends ct{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(n,r,o){let s=this.decodeStart(r),l=this.decodeEnd(r),u=new Se;Be.decodeMiddle(r,s[1],l[0],u);let d=u.toString(),h=null;o!=null&&(h=o.get(K.ALLOWED_LENGTHS)),h==null&&(h=Be.DEFAULT_ALLOWED_LENGTHS);let p=d.length,m=!1,E=0;for(let O of h){if(p===O){m=!0;break}O>E&&(E=O)}if(!m&&p>E&&(m=!0),!m)throw new U;const A=[new se(s[1],n),new se(l[0],n)];return new Ke(d,null,0,A,ae.ITF,new Date().getTime())}static decodeMiddle(n,r,o,s){let l=new Int32Array(10),u=new Int32Array(5),d=new Int32Array(5);for(l.fill(0),u.fill(0),d.fill(0);r<o;){ct.recordPattern(n,r,l);for(let p=0;p<5;p++){let m=2*p;u[p]=l[m],d[p]=l[m+1]}let h=Be.decodeDigit(u);s.append(h.toString()),h=this.decodeDigit(d),s.append(h.toString()),l.forEach(function(p){r+=p})}}decodeStart(n){let r=Be.skipWhiteSpace(n),o=Be.findGuardPattern(n,r,Be.START_PATTERN);return this.narrowLineWidth=(o[1]-o[0])/4,this.validateQuietZone(n,o[0]),o}validateQuietZone(n,r){let o=this.narrowLineWidth*10;o=o<r?o:r;for(let s=r-1;o>0&&s>=0&&!n.get(s);s--)o--;if(o!==0)throw new H}static skipWhiteSpace(n){const r=n.getSize(),o=n.getNextSet(0);if(o===r)throw new H;return o}decodeEnd(n){n.reverse();try{let r=Be.skipWhiteSpace(n),o;try{o=Be.findGuardPattern(n,r,Be.END_PATTERN_REVERSED[0])}catch(l){l instanceof H&&(o=Be.findGuardPattern(n,r,Be.END_PATTERN_REVERSED[1]))}this.validateQuietZone(n,o[0]);let s=o[0];return o[0]=n.getSize()-o[1],o[1]=n.getSize()-s,o}finally{n.reverse()}}static findGuardPattern(n,r,o){let s=o.length,l=new Int32Array(s),u=n.getSize(),d=!1,h=0,p=r;l.fill(0);for(let m=r;m<u;m++)if(n.get(m)!==d)l[h]++;else{if(h===s-1){if(ct.patternMatchVariance(l,o,Be.MAX_INDIVIDUAL_VARIANCE)<Be.MAX_AVG_VARIANCE)return[p,m];p+=l[0]+l[1],B.arraycopy(l,2,l,0,h-1),l[h-1]=0,l[h]=0,h--}else h++;l[h]=1,d=!d}throw new H}static decodeDigit(n){let r=Be.MAX_AVG_VARIANCE,o=-1,s=Be.PATTERNS.length;for(let l=0;l<s;l++){let u=Be.PATTERNS[l],d=ct.patternMatchVariance(n,u,Be.MAX_INDIVIDUAL_VARIANCE);d<r?(r=d,o=l):d===r&&(o=-1)}if(o>=0)return o%10;throw new H}}Be.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Be.MAX_AVG_VARIANCE=.38,Be.MAX_INDIVIDUAL_VARIANCE=.5,Be.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Be.START_PATTERN=Int32Array.from([1,1,1,1]),Be.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class nt extends ct{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(n){let r=!1,o,s=0,l=Int32Array.from([0,0,0]);for(;!r;){l=Int32Array.from([0,0,0]),o=nt.findGuardPattern(n,s,!1,this.START_END_PATTERN,l);let u=o[0];s=o[1];let d=u-(s-u);d>=0&&(r=n.isRange(d,u,!1))}return o}static checkChecksum(n){return nt.checkStandardUPCEANChecksum(n)}static checkStandardUPCEANChecksum(n){let r=n.length;if(r===0)return!1;let o=parseInt(n.charAt(r-1),10);return nt.getStandardUPCEANChecksum(n.substring(0,r-1))===o}static getStandardUPCEANChecksum(n){let r=n.length,o=0;for(let s=r-1;s>=0;s-=2){let l=n.charAt(s).charCodeAt(0)-"0".charCodeAt(0);if(l<0||l>9)throw new U;o+=l}o*=3;for(let s=r-2;s>=0;s-=2){let l=n.charAt(s).charCodeAt(0)-"0".charCodeAt(0);if(l<0||l>9)throw new U;o+=l}return(1e3-o)%10}static decodeEnd(n,r){return nt.findGuardPattern(n,r,!1,nt.START_END_PATTERN,new Int32Array(nt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(n,r,o,s){return this.findGuardPattern(n,r,o,s,new Int32Array(s.length))}static findGuardPattern(n,r,o,s,l){let u=n.getSize();r=o?n.getNextUnset(r):n.getNextSet(r);let d=0,h=r,p=s.length,m=o;for(let E=r;E<u;E++)if(n.get(E)!==m)l[d]++;else{if(d===p-1){if(ct.patternMatchVariance(l,s,nt.MAX_INDIVIDUAL_VARIANCE)<nt.MAX_AVG_VARIANCE)return Int32Array.from([h,E]);h+=l[0]+l[1];let A=l.slice(2,l.length-1);for(let v=0;v<d-1;v++)l[v]=A[v];l[d-1]=0,l[d]=0,d--}else d++;l[d]=1,m=!m}throw new H}static decodeDigit(n,r,o,s){this.recordPattern(n,o,r);let l=this.MAX_AVG_VARIANCE,u=-1,d=s.length;for(let h=0;h<d;h++){let p=s[h],m=ct.patternMatchVariance(r,p,nt.MAX_INDIVIDUAL_VARIANCE);m<l&&(l=m,u=h)}if(u>=0)return u;throw new H}}nt.MAX_AVG_VARIANCE=.48,nt.MAX_INDIVIDUAL_VARIANCE=.7,nt.START_END_PATTERN=Int32Array.from([1,1,1]),nt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),nt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),nt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class to{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(n,r,o){let s=this.decodeRowStringBuffer,l=this.decodeMiddle(r,o,s),u=s.toString(),d=to.parseExtensionString(u),h=[new se((o[0]+o[1])/2,n),new se(l,n)],p=new Ke(u,null,0,h,ae.UPC_EAN_EXTENSION,new Date().getTime());return d!=null&&p.putAllMetadata(d),p}decodeMiddle(n,r,o){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let l=n.getSize(),u=r[1],d=0;for(let p=0;p<5&&u<l;p++){let m=nt.decodeDigit(n,s,u,nt.L_AND_G_PATTERNS);o+=String.fromCharCode("0".charCodeAt(0)+m%10);for(let E of s)u+=E;m>=10&&(d|=1<<4-p),p!==4&&(u=n.getNextSet(u),u=n.getNextUnset(u))}if(o.length!==5)throw new H;let h=this.determineCheckDigit(d);if(to.extensionChecksum(o.toString())!==h)throw new H;return u}static extensionChecksum(n){let r=n.length,o=0;for(let s=r-2;s>=0;s-=2)o+=n.charAt(s).charCodeAt(0)-"0".charCodeAt(0);o*=3;for(let s=r-1;s>=0;s-=2)o+=n.charAt(s).charCodeAt(0)-"0".charCodeAt(0);return o*=3,o%10}determineCheckDigit(n){for(let r=0;r<10;r++)if(n===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new H}static parseExtensionString(n){if(n.length!==5)return null;let r=to.parseExtension5String(n);return r==null?null:new Map([[wt.SUGGESTED_PRICE,r]])}static parseExtension5String(n){let r;switch(n.charAt(0)){case"0":r="";break;case"5":r="$";break;case"9":switch(n){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}let o=parseInt(n.substring(1)),s=(o/100).toString(),l=o%100,u=l<10?"0"+l:l.toString();return r+s+"."+u}}class Xa{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(n,r,o){let s=this.decodeRowStringBuffer,l=this.decodeMiddle(r,o,s),u=s.toString(),d=Xa.parseExtensionString(u),h=[new se((o[0]+o[1])/2,n),new se(l,n)],p=new Ke(u,null,0,h,ae.UPC_EAN_EXTENSION,new Date().getTime());return d!=null&&p.putAllMetadata(d),p}decodeMiddle(n,r,o){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let l=n.getSize(),u=r[1],d=0;for(let h=0;h<2&&u<l;h++){let p=nt.decodeDigit(n,s,u,nt.L_AND_G_PATTERNS);o+=String.fromCharCode("0".charCodeAt(0)+p%10);for(let m of s)u+=m;p>=10&&(d|=1<<1-h),h!==1&&(u=n.getNextSet(u),u=n.getNextUnset(u))}if(o.length!==2)throw new H;if(parseInt(o.toString())%4!==d)throw new H;return u}static parseExtensionString(n){return n.length!==2?null:new Map([[wt.ISSUE_NUMBER,parseInt(n)]])}}class qc{static decodeRow(n,r,o){let s=nt.findGuardPattern(r,o,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new to().decodeRow(n,r,s)}catch{return new Xa().decodeRow(n,r,s)}}}qc.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Me extends nt{constructor(){super(),this.decodeRowStringBuffer="",Me.L_AND_G_PATTERNS=Me.L_PATTERNS.map(n=>Int32Array.from(n));for(let n=10;n<20;n++){let r=Me.L_PATTERNS[n-10],o=new Int32Array(r.length);for(let s=0;s<r.length;s++)o[s]=r[r.length-s-1];Me.L_AND_G_PATTERNS[n]=o}}decodeRow(n,r,o){let s=Me.findStartGuardPattern(r),l=o==null?null:o.get(K.NEED_RESULT_POINT_CALLBACK);if(l!=null){const Y=new se((s[0]+s[1])/2,n);l.foundPossibleResultPoint(Y)}let u=this.decodeMiddle(r,s,this.decodeRowStringBuffer),d=u.rowOffset,h=u.resultString;if(l!=null){const Y=new se(d,n);l.foundPossibleResultPoint(Y)}let p=this.decodeEnd(r,d);if(l!=null){const Y=new se((p[0]+p[1])/2,n);l.foundPossibleResultPoint(Y)}let m=p[1],E=m+(m-p[0]);if(E>=r.getSize()||!r.isRange(m,E,!1))throw new H;let A=h.toString();if(A.length<8)throw new U;if(!Me.checkChecksum(A))throw new z;let v=(s[1]+s[0])/2,O=(p[1]+p[0])/2,M=this.getBarcodeFormat(),b=[new se(v,n),new se(O,n)],F=new Ke(A,null,0,b,M,new Date().getTime()),Q=0;try{let Y=qc.decodeRow(n,r,p[1]);F.putMetadata(wt.UPC_EAN_EXTENSION,Y.getText()),F.putAllMetadata(Y.getResultMetadata()),F.addResultPoints(Y.getResultPoints()),Q=Y.getText().length}catch{}let Z=o==null?null:o.get(K.ALLOWED_EAN_EXTENSIONS);if(Z!=null){let Y=!1;for(let Ee in Z)if(Q.toString()===Ee){Y=!0;break}if(!Y)throw new H}return F}decodeEnd(n,r){return Me.findGuardPattern(n,r,!1,Me.START_END_PATTERN,new Int32Array(Me.START_END_PATTERN.length).fill(0))}static checkChecksum(n){return Me.checkStandardUPCEANChecksum(n)}static checkStandardUPCEANChecksum(n){let r=n.length;if(r===0)return!1;let o=parseInt(n.charAt(r-1),10);return Me.getStandardUPCEANChecksum(n.substring(0,r-1))===o}static getStandardUPCEANChecksum(n){let r=n.length,o=0;for(let s=r-1;s>=0;s-=2){let l=n.charAt(s).charCodeAt(0)-"0".charCodeAt(0);if(l<0||l>9)throw new U;o+=l}o*=3;for(let s=r-2;s>=0;s-=2){let l=n.charAt(s).charCodeAt(0)-"0".charCodeAt(0);if(l<0||l>9)throw new U;o+=l}return(1e3-o)%10}}class Vr extends Me{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(n,r,o){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let l=n.getSize(),u=r[1],d=0;for(let p=0;p<6&&u<l;p++){let m=Me.decodeDigit(n,s,u,Me.L_AND_G_PATTERNS);o+=String.fromCharCode("0".charCodeAt(0)+m%10);for(let E of s)u+=E;m>=10&&(d|=1<<5-p)}o=Vr.determineFirstDigit(o,d),u=Me.findGuardPattern(n,u,!0,Me.MIDDLE_PATTERN,new Int32Array(Me.MIDDLE_PATTERN.length).fill(0))[1];for(let p=0;p<6&&u<l;p++){let m=Me.decodeDigit(n,s,u,Me.L_PATTERNS);o+=String.fromCharCode("0".charCodeAt(0)+m);for(let E of s)u+=E}return{rowOffset:u,resultString:o}}getBarcodeFormat(){return ae.EAN_13}static determineFirstDigit(n,r){for(let o=0;o<10;o++)if(r===this.FIRST_DIGIT_ENCODINGS[o])return n=String.fromCharCode("0".charCodeAt(0)+o)+n,n;throw new H}}Vr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Jc extends Me{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(n,r,o){const s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let l=n.getSize(),u=r[1];for(let h=0;h<4&&u<l;h++){let p=Me.decodeDigit(n,s,u,Me.L_PATTERNS);o+=String.fromCharCode("0".charCodeAt(0)+p);for(let m of s)u+=m}u=Me.findGuardPattern(n,u,!0,Me.MIDDLE_PATTERN,new Int32Array(Me.MIDDLE_PATTERN.length).fill(0))[1];for(let h=0;h<4&&u<l;h++){let p=Me.decodeDigit(n,s,u,Me.L_PATTERNS);o+=String.fromCharCode("0".charCodeAt(0)+p);for(let m of s)u+=m}return{rowOffset:u,resultString:o}}getBarcodeFormat(){return ae.EAN_8}}class $c extends Me{constructor(){super(...arguments),this.ean13Reader=new Vr}getBarcodeFormat(){return ae.UPC_A}decode(n,r){return this.maybeReturnResult(this.ean13Reader.decode(n))}decodeRow(n,r,o){return this.maybeReturnResult(this.ean13Reader.decodeRow(n,r,o))}decodeMiddle(n,r,o){return this.ean13Reader.decodeMiddle(n,r,o)}maybeReturnResult(n){let r=n.getText();if(r.charAt(0)==="0"){let o=new Ke(r.substring(1),null,null,n.getResultPoints(),ae.UPC_A);return n.getResultMetadata()!=null&&o.putAllMetadata(n.getResultMetadata()),o}else throw new H}reset(){this.ean13Reader.reset()}}class Tn extends Me{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(n,r,o){const s=this.decodeMiddleCounters.map(p=>p);s[0]=0,s[1]=0,s[2]=0,s[3]=0;const l=n.getSize();let u=r[1],d=0;for(let p=0;p<6&&u<l;p++){const m=Tn.decodeDigit(n,s,u,Tn.L_AND_G_PATTERNS);o+=String.fromCharCode("0".charCodeAt(0)+m%10);for(let E of s)u+=E;m>=10&&(d|=1<<5-p)}let h=Tn.determineNumSysAndCheckDigit(o,d);return{rowOffset:u,resultString:h}}decodeEnd(n,r){return Tn.findGuardPatternWithoutCounters(n,r,!0,Tn.MIDDLE_END_PATTERN)}checkChecksum(n){return Me.checkChecksum(Tn.convertUPCEtoUPCA(n))}static determineNumSysAndCheckDigit(n,r){for(let o=0;o<=1;o++)for(let s=0;s<10;s++)if(r===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[o][s]){let l=String.fromCharCode("0".charCodeAt(0)+o),u=String.fromCharCode("0".charCodeAt(0)+s);return l+n+u}throw H.getNotFoundInstance()}getBarcodeFormat(){return ae.UPC_E}static convertUPCEtoUPCA(n){const r=n.slice(1,7).split("").map(l=>l.charCodeAt(0)),o=new Se;o.append(n.charAt(0));let s=r[5];switch(s){case 0:case 1:case 2:o.appendChars(r,0,2),o.append(s),o.append("0000"),o.appendChars(r,2,3);break;case 3:o.appendChars(r,0,3),o.append("00000"),o.appendChars(r,3,2);break;case 4:o.appendChars(r,0,4),o.append("00000"),o.append(r[4]);break;default:o.appendChars(r,0,5),o.append("0000"),o.append(s);break}return n.length>=8&&o.append(n.charAt(7)),o.toString()}}Tn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Tn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Qa extends ct{constructor(n){super();let r=n==null?null:n.get(K.POSSIBLE_FORMATS),o=[];a(r)?(o.push(new Vr),o.push(new $c),o.push(new Jc),o.push(new Tn)):(r.indexOf(ae.EAN_13)>-1&&o.push(new Vr),r.indexOf(ae.UPC_A)>-1&&o.push(new $c),r.indexOf(ae.EAN_8)>-1&&o.push(new Jc),r.indexOf(ae.UPC_E)>-1&&o.push(new Tn)),this.readers=o}decodeRow(n,r,o){for(let s of this.readers)try{const l=s.decodeRow(n,r,o),u=l.getBarcodeFormat()===ae.EAN_13&&l.getText().charAt(0)==="0",d=o==null?null:o.get(K.POSSIBLE_FORMATS),h=d==null||d.includes(ae.UPC_A);if(u&&h){const p=l.getRawBytes(),m=new Ke(l.getText().substring(1),p,p?p.length:null,l.getResultPoints(),ae.UPC_A);return m.putAllMetadata(l.getResultMetadata()),m}return l}catch{}throw new H}reset(){for(let n of this.readers)n.reset()}}class Rt extends ct{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(n,r){for(let o=0;o<r.length;o++)if(ct.patternMatchVariance(n,r[o],Rt.MAX_INDIVIDUAL_VARIANCE)<Rt.MAX_AVG_VARIANCE)return o;throw new H}static count(n){return ve.sum(new Int32Array(n))}static increment(n,r){let o=0,s=r[0];for(let l=1;l<n.length;l++)r[l]>s&&(s=r[l],o=l);n[o]++}static decrement(n,r){let o=0,s=r[0];for(let l=1;l<n.length;l++)r[l]<s&&(s=r[l],o=l);n[o]--}static isFinderPattern(n){let r=n[0]+n[1],o=r+n[2]+n[3],s=r/o;if(s>=Rt.MIN_FINDER_PATTERN_RATIO&&s<=Rt.MAX_FINDER_PATTERN_RATIO){let l=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;for(let d of n)d>u&&(u=d),d<l&&(l=d);return u<10*l}return!1}}Rt.MAX_AVG_VARIANCE=.2,Rt.MAX_INDIVIDUAL_VARIANCE=.45,Rt.MIN_FINDER_PATTERN_RATIO=9.5/12,Rt.MAX_FINDER_PATTERN_RATIO=12.5/14;class fi{constructor(n,r){this.value=n,this.checksumPortion=r}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(n){if(!(n instanceof fi))return!1;const r=n;return this.value===r.value&&this.checksumPortion===r.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class fs{constructor(n,r,o,s,l){this.value=n,this.startEnd=r,this.value=n,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new se(o,l)),this.resultPoints.push(new se(s,l))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(n){if(!(n instanceof fs))return!1;const r=n;return this.value===r.value}hashCode(){return this.value}}class Bn{constructor(){}static getRSSvalue(n,r,o){let s=0;for(let h of n)s+=h;let l=0,u=0,d=n.length;for(let h=0;h<d-1;h++){let p;for(p=1,u|=1<<h;p<n[h];p++,u&=~(1<<h)){let m=Bn.combins(s-p-1,d-h-2);if(o&&u===0&&s-p-(d-h-1)>=d-h-1&&(m-=Bn.combins(s-p-(d-h),d-h-2)),d-h-1>1){let E=0;for(let A=s-p-(d-h-2);A>r;A--)E+=Bn.combins(s-p-A-1,d-h-3);m-=E*(d-1-h)}else s-p>r&&m--;l+=m}s-=p}return l}static combins(n,r){let o,s;n-r>r?(s=r,o=n-r):(s=n-r,o=r);let l=1,u=1;for(let d=n;d>o;d--)l*=d,u<=s&&(l/=u,u++);for(;u<=s;)l/=u,u++;return l}}class zh{static buildBitArray(n){let r=n.length*2-1;n[n.length-1].getRightChar()==null&&(r-=1);let o=12*r,s=new j(o),l=0,d=n[0].getRightChar().getValue();for(let h=11;h>=0;--h)d&1<<h&&s.set(l),l++;for(let h=1;h<n.length;++h){let p=n[h],m=p.getLeftChar().getValue();for(let E=11;E>=0;--E)m&1<<E&&s.set(l),l++;if(p.getRightChar()!=null){let E=p.getRightChar().getValue();for(let A=11;A>=0;--A)E&1<<A&&s.set(l),l++}}return s}}class Wr{constructor(n,r){r?this.decodedInformation=null:(this.finished=n,this.decodedInformation=r)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Za{constructor(n){this.newPosition=n}getNewPosition(){return this.newPosition}}class Wt extends Za{constructor(n,r){super(n),this.value=r}getValue(){return this.value}isFNC1(){return this.value===Wt.FNC1}}Wt.FNC1="$";class Gr extends Za{constructor(n,r,o){super(n),o?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=r}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class dn extends Za{constructor(n,r,o){if(super(n),r<0||r>10||o<0||o>10)throw new U;this.firstDigit=r,this.secondDigit=o}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===dn.FNC1}isSecondDigitFNC1(){return this.secondDigit===dn.FNC1}isAnyFNC1(){return this.firstDigit===dn.FNC1||this.secondDigit===dn.FNC1}}dn.FNC1=10;class te{constructor(){}static parseFieldsInGeneralPurpose(n){if(!n)return null;if(n.length<2)throw new H;let r=n.substring(0,2);for(let l of te.TWO_DIGIT_DATA_LENGTH)if(l[0]===r)return l[1]===te.VARIABLE_LENGTH?te.processVariableAI(2,l[2],n):te.processFixedAI(2,l[1],n);if(n.length<3)throw new H;let o=n.substring(0,3);for(let l of te.THREE_DIGIT_DATA_LENGTH)if(l[0]===o)return l[1]===te.VARIABLE_LENGTH?te.processVariableAI(3,l[2],n):te.processFixedAI(3,l[1],n);for(let l of te.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(l[0]===o)return l[1]===te.VARIABLE_LENGTH?te.processVariableAI(4,l[2],n):te.processFixedAI(4,l[1],n);if(n.length<4)throw new H;let s=n.substring(0,4);for(let l of te.FOUR_DIGIT_DATA_LENGTH)if(l[0]===s)return l[1]===te.VARIABLE_LENGTH?te.processVariableAI(4,l[2],n):te.processFixedAI(4,l[1],n);throw new H}static processFixedAI(n,r,o){if(o.length<n)throw new H;let s=o.substring(0,n);if(o.length<n+r)throw new H;let l=o.substring(n,n+r),u=o.substring(n+r),d="("+s+")"+l,h=te.parseFieldsInGeneralPurpose(u);return h==null?d:d+h}static processVariableAI(n,r,o){let s=o.substring(0,n),l;o.length<n+r?l=o.length:l=n+r;let u=o.substring(n,l),d=o.substring(l),h="("+s+")"+u,p=te.parseFieldsInGeneralPurpose(d);return p==null?h:h+p}}te.VARIABLE_LENGTH=[],te.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",te.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",te.VARIABLE_LENGTH,20],["22",te.VARIABLE_LENGTH,29],["30",te.VARIABLE_LENGTH,8],["37",te.VARIABLE_LENGTH,8],["90",te.VARIABLE_LENGTH,30],["91",te.VARIABLE_LENGTH,30],["92",te.VARIABLE_LENGTH,30],["93",te.VARIABLE_LENGTH,30],["94",te.VARIABLE_LENGTH,30],["95",te.VARIABLE_LENGTH,30],["96",te.VARIABLE_LENGTH,30],["97",te.VARIABLE_LENGTH,3],["98",te.VARIABLE_LENGTH,30],["99",te.VARIABLE_LENGTH,30]],te.THREE_DIGIT_DATA_LENGTH=[["240",te.VARIABLE_LENGTH,30],["241",te.VARIABLE_LENGTH,30],["242",te.VARIABLE_LENGTH,6],["250",te.VARIABLE_LENGTH,30],["251",te.VARIABLE_LENGTH,30],["253",te.VARIABLE_LENGTH,17],["254",te.VARIABLE_LENGTH,20],["400",te.VARIABLE_LENGTH,30],["401",te.VARIABLE_LENGTH,30],["402",17],["403",te.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",te.VARIABLE_LENGTH,20],["421",te.VARIABLE_LENGTH,15],["422",3],["423",te.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],te.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",te.VARIABLE_LENGTH,15],["391",te.VARIABLE_LENGTH,18],["392",te.VARIABLE_LENGTH,15],["393",te.VARIABLE_LENGTH,18],["703",te.VARIABLE_LENGTH,30]],te.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",te.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",te.VARIABLE_LENGTH,20],["8003",te.VARIABLE_LENGTH,30],["8004",te.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",te.VARIABLE_LENGTH,30],["8008",te.VARIABLE_LENGTH,12],["8018",18],["8020",te.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",te.VARIABLE_LENGTH,70],["8200",te.VARIABLE_LENGTH,70]];class di{constructor(n){this.buffer=new Se,this.information=n}decodeAllCodes(n,r){let o=r,s=null;do{let l=this.decodeGeneralPurposeField(o,s),u=te.parseFieldsInGeneralPurpose(l.getNewString());if(u!=null&&n.append(u),l.isRemaining()?s=""+l.getRemainingValue():s=null,o===l.getNewPosition())break;o=l.getNewPosition()}while(!0);return n.toString()}isStillNumeric(n){if(n+7>this.information.getSize())return n+4<=this.information.getSize();for(let r=n;r<n+3;++r)if(this.information.get(r))return!0;return this.information.get(n+3)}decodeNumeric(n){if(n+7>this.information.getSize()){let l=this.extractNumericValueFromBitArray(n,4);return l===0?new dn(this.information.getSize(),dn.FNC1,dn.FNC1):new dn(this.information.getSize(),l-1,dn.FNC1)}let r=this.extractNumericValueFromBitArray(n,7),o=(r-8)/11,s=(r-8)%11;return new dn(n+7,o,s)}extractNumericValueFromBitArray(n,r){return di.extractNumericValueFromBitArray(this.information,n,r)}static extractNumericValueFromBitArray(n,r,o){let s=0;for(let l=0;l<o;++l)n.get(r+l)&&(s|=1<<o-l-1);return s}decodeGeneralPurposeField(n,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(n);let o=this.parseBlocks();return o!=null&&o.isRemaining()?new Gr(this.current.getPosition(),this.buffer.toString(),o.getRemainingValue()):new Gr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let n,r;do{let o=this.current.getPosition();if(this.current.isAlpha()?(r=this.parseAlphaBlock(),n=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),n=r.isFinished()):(r=this.parseNumericBlock(),n=r.isFinished()),!(o!==this.current.getPosition())&&!n)break}while(!n);return r.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let n=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFirstDigitFNC1()){let r;return n.isSecondDigitFNC1()?r=new Gr(this.current.getPosition(),this.buffer.toString()):r=new Gr(this.current.getPosition(),this.buffer.toString(),n.getSecondDigit()),new Wr(!0,r)}if(this.buffer.append(n.getFirstDigit()),n.isSecondDigitFNC1()){let r=new Gr(this.current.getPosition(),this.buffer.toString());return new Wr(!0,r)}this.buffer.append(n.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Wr(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let n=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFNC1()){let r=new Gr(this.current.getPosition(),this.buffer.toString());return new Wr(!0,r)}this.buffer.append(n.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Wr(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let n=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFNC1()){let r=new Gr(this.current.getPosition(),this.buffer.toString());return new Wr(!0,r)}this.buffer.append(n.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Wr(!1)}isStillIsoIec646(n){if(n+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(n,5);if(r>=5&&r<16)return!0;if(n+7>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(n,7);if(o>=64&&o<116)return!0;if(n+8>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(n,8);return s>=232&&s<253}decodeIsoIec646(n){let r=this.extractNumericValueFromBitArray(n,5);if(r===15)return new Wt(n+5,Wt.FNC1);if(r>=5&&r<15)return new Wt(n+5,"0"+(r-5));let o=this.extractNumericValueFromBitArray(n,7);if(o>=64&&o<90)return new Wt(n+7,""+(o+1));if(o>=90&&o<116)return new Wt(n+7,""+(o+7));let s=this.extractNumericValueFromBitArray(n,8),l;switch(s){case 232:l="!";break;case 233:l='"';break;case 234:l="%";break;case 235:l="&";break;case 236:l="'";break;case 237:l="(";break;case 238:l=")";break;case 239:l="*";break;case 240:l="+";break;case 241:l=",";break;case 242:l="-";break;case 243:l=".";break;case 244:l="/";break;case 245:l=":";break;case 246:l=";";break;case 247:l="<";break;case 248:l="=";break;case 249:l=">";break;case 250:l="?";break;case 251:l="_";break;case 252:l=" ";break;default:throw new U}return new Wt(n+8,l)}isStillAlpha(n){if(n+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(n,5);if(r>=5&&r<16)return!0;if(n+6>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(n,6);return o>=16&&o<63}decodeAlphanumeric(n){let r=this.extractNumericValueFromBitArray(n,5);if(r===15)return new Wt(n+5,Wt.FNC1);if(r>=5&&r<15)return new Wt(n+5,"0"+(r-5));let o=this.extractNumericValueFromBitArray(n,6);if(o>=32&&o<58)return new Wt(n+6,""+(o+33));let s;switch(o){case 58:s="*";break;case 59:s=",";break;case 60:s="-";break;case 61:s=".";break;case 62:s="/";break;default:throw new kn("Decoding invalid alphanumeric value: "+o)}return new Wt(n+6,s)}isAlphaTo646ToAlphaLatch(n){if(n+1>this.information.getSize())return!1;for(let r=0;r<5&&r+n<this.information.getSize();++r)if(r===2){if(!this.information.get(n+2))return!1}else if(this.information.get(n+r))return!1;return!0}isAlphaOr646ToNumericLatch(n){if(n+3>this.information.getSize())return!1;for(let r=n;r<n+3;++r)if(this.information.get(r))return!1;return!0}isNumericToAlphaNumericLatch(n){if(n+1>this.information.getSize())return!1;for(let r=0;r<4&&r+n<this.information.getSize();++r)if(this.information.get(n+r))return!1;return!0}}class Ka{constructor(n){this.information=n,this.generalDecoder=new di(n)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Gt extends Ka{constructor(n){super(n)}encodeCompressedGtin(n,r){n.append("(01)");let o=n.length();n.append("9"),this.encodeCompressedGtinWithoutAI(n,r,o)}encodeCompressedGtinWithoutAI(n,r,o){for(let s=0;s<4;++s){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(r+10*s,10);l/100===0&&n.append("0"),l/10===0&&n.append("0"),n.append(l)}Gt.appendCheckDigit(n,o)}static appendCheckDigit(n,r){let o=0;for(let s=0;s<13;s++){let l=n.charAt(s+r).charCodeAt(0)-"0".charCodeAt(0);o+=s&1?l:3*l}o=10-o%10,o===10&&(o=0),n.append(o)}}Gt.GTIN_SIZE=40;class hi extends Gt{constructor(n){super(n)}parseInformation(){let n=new Se;n.append("(01)");let r=n.length(),o=this.getGeneralDecoder().extractNumericValueFromBitArray(hi.HEADER_SIZE,4);return n.append(o),this.encodeCompressedGtinWithoutAI(n,hi.HEADER_SIZE+4,r),this.getGeneralDecoder().decodeAllCodes(n,hi.HEADER_SIZE+44)}}hi.HEADER_SIZE=1+1+2;class ds extends Ka{constructor(n){super(n)}parseInformation(){let n=new Se;return this.getGeneralDecoder().decodeAllCodes(n,ds.HEADER_SIZE)}}ds.HEADER_SIZE=2+1+2;class hs extends Gt{constructor(n){super(n)}encodeCompressedWeight(n,r,o){let s=this.getGeneralDecoder().extractNumericValueFromBitArray(r,o);this.addWeightCode(n,s);let l=this.checkWeight(s),u=1e5;for(let d=0;d<5;++d)l/u===0&&n.append("0"),u/=10;n.append(l)}}class Pn extends hs{constructor(n){super(n)}parseInformation(){if(this.getInformation().getSize()!=Pn.HEADER_SIZE+hs.GTIN_SIZE+Pn.WEIGHT_SIZE)throw new H;let n=new Se;return this.encodeCompressedGtin(n,Pn.HEADER_SIZE),this.encodeCompressedWeight(n,Pn.HEADER_SIZE+hs.GTIN_SIZE,Pn.WEIGHT_SIZE),n.toString()}}Pn.HEADER_SIZE=4+1,Pn.WEIGHT_SIZE=15;class jh extends Pn{constructor(n){super(n)}addWeightCode(n,r){n.append("(3103)")}checkWeight(n){return n}}class Hh extends Pn{constructor(n){super(n)}addWeightCode(n,r){r<1e4?n.append("(3202)"):n.append("(3203)")}checkWeight(n){return n<1e4?n:n-1e4}}class Fn extends Gt{constructor(n){super(n)}parseInformation(){if(this.getInformation().getSize()<Fn.HEADER_SIZE+Gt.GTIN_SIZE)throw new H;let n=new Se;this.encodeCompressedGtin(n,Fn.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(Fn.HEADER_SIZE+Gt.GTIN_SIZE,Fn.LAST_DIGIT_SIZE);n.append("(392"),n.append(r),n.append(")");let o=this.getGeneralDecoder().decodeGeneralPurposeField(Fn.HEADER_SIZE+Gt.GTIN_SIZE+Fn.LAST_DIGIT_SIZE,null);return n.append(o.getNewString()),n.toString()}}Fn.HEADER_SIZE=5+1+2,Fn.LAST_DIGIT_SIZE=2;class Ft extends Gt{constructor(n){super(n)}parseInformation(){if(this.getInformation().getSize()<Ft.HEADER_SIZE+Gt.GTIN_SIZE)throw new H;let n=new Se;this.encodeCompressedGtin(n,Ft.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(Ft.HEADER_SIZE+Gt.GTIN_SIZE,Ft.LAST_DIGIT_SIZE);n.append("(393"),n.append(r),n.append(")");let o=this.getGeneralDecoder().extractNumericValueFromBitArray(Ft.HEADER_SIZE+Gt.GTIN_SIZE+Ft.LAST_DIGIT_SIZE,Ft.FIRST_THREE_DIGITS_SIZE);o/100==0&&n.append("0"),o/10==0&&n.append("0"),n.append(o);let s=this.getGeneralDecoder().decodeGeneralPurposeField(Ft.HEADER_SIZE+Gt.GTIN_SIZE+Ft.LAST_DIGIT_SIZE+Ft.FIRST_THREE_DIGITS_SIZE,null);return n.append(s.getNewString()),n.toString()}}Ft.HEADER_SIZE=5+1+2,Ft.LAST_DIGIT_SIZE=2,Ft.FIRST_THREE_DIGITS_SIZE=10;class Qe extends hs{constructor(n,r,o){super(n),this.dateCode=o,this.firstAIdigits=r}parseInformation(){if(this.getInformation().getSize()!=Qe.HEADER_SIZE+Qe.GTIN_SIZE+Qe.WEIGHT_SIZE+Qe.DATE_SIZE)throw new H;let n=new Se;return this.encodeCompressedGtin(n,Qe.HEADER_SIZE),this.encodeCompressedWeight(n,Qe.HEADER_SIZE+Qe.GTIN_SIZE,Qe.WEIGHT_SIZE),this.encodeCompressedDate(n,Qe.HEADER_SIZE+Qe.GTIN_SIZE+Qe.WEIGHT_SIZE),n.toString()}encodeCompressedDate(n,r){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(r,Qe.DATE_SIZE);if(o==38400)return;n.append("("),n.append(this.dateCode),n.append(")");let s=o%32;o/=32;let l=o%12+1;o/=12;let u=o;u/10==0&&n.append("0"),n.append(u),l/10==0&&n.append("0"),n.append(l),s/10==0&&n.append("0"),n.append(s)}addWeightCode(n,r){n.append("("),n.append(this.firstAIdigits),n.append(r/1e5),n.append(")")}checkWeight(n){return n%1e5}}Qe.HEADER_SIZE=7+1,Qe.WEIGHT_SIZE=20,Qe.DATE_SIZE=16;function e1(y){try{if(y.get(1))return new hi(y);if(!y.get(2))return new ds(y);switch(di.extractNumericValueFromBitArray(y,1,4)){case 4:return new jh(y);case 5:return new Hh(y)}switch(di.extractNumericValueFromBitArray(y,1,5)){case 12:return new Fn(y);case 13:return new Ft(y)}switch(di.extractNumericValueFromBitArray(y,1,7)){case 56:return new Qe(y,"310","11");case 57:return new Qe(y,"320","11");case 58:return new Qe(y,"310","13");case 59:return new Qe(y,"320","13");case 60:return new Qe(y,"310","15");case 61:return new Qe(y,"320","15");case 62:return new Qe(y,"310","17");case 63:return new Qe(y,"320","17")}}catch(n){throw console.log(n),new kn("unknown decoder: "+y)}}class gr{constructor(n,r,o,s){this.leftchar=n,this.rightchar=r,this.finderpattern=o,this.maybeLast=s}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(n,r){return n instanceof gr?gr.equalsOrNull(n.leftchar,r.leftchar)&&gr.equalsOrNull(n.rightchar,r.rightchar)&&gr.equalsOrNull(n.finderpattern,r.finderpattern):!1}static equalsOrNull(n,r){return n===null?r===null:gr.equals(n,r)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class qa{constructor(n,r,o){this.pairs=n,this.rowNumber=r,this.wasReversed=o}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(n){return this.checkEqualitity(this,n)}toString(){return"{ "+this.pairs+" }"}equals(n,r){return n instanceof qa?this.checkEqualitity(n,r)&&n.wasReversed===r.wasReversed:!1}checkEqualitity(n,r){if(!n||!r)return;let o;return n.forEach((s,l)=>{r.forEach(u=>{s.getLeftChar().getValue()===u.getLeftChar().getValue()&&s.getRightChar().getValue()===u.getRightChar().getValue()&&s.getFinderPatter().getValue()===u.getFinderPatter().getValue()&&(o=!0)})}),o}}class G extends Rt{constructor(n){super(...arguments),this.pairs=new Array(G.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=n===!0}decodeRow(n,r,o){this.pairs.length=0,this.startFromEven=!1;try{return G.constructResult(this.decodeRow2pairs(n,r))}catch(s){this.verbose&&console.log(s)}return this.pairs.length=0,this.startFromEven=!0,G.constructResult(this.decodeRow2pairs(n,r))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(n,r){let o=!1;for(;!o;)try{this.pairs.push(this.retrieveNextPair(r,this.pairs,n))}catch(l){if(l instanceof H){if(!this.pairs.length)throw new H;o=!0}}if(this.checkChecksum())return this.pairs;let s;if(this.rows.length?s=!0:s=!1,this.storeRow(n,!1),s){let l=this.checkRowsBoolean(!1);if(l!=null||(l=this.checkRowsBoolean(!0),l!=null))return l}throw new H}checkRowsBoolean(n){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,n&&(this.rows=this.rows.reverse());let r=null;try{r=this.checkRows(new Array,0)}catch(o){this.verbose&&console.log(o)}return n&&(this.rows=this.rows.reverse()),r}checkRows(n,r){for(let o=r;o<this.rows.length;o++){let s=this.rows[o];this.pairs.length=0;for(let u of n)this.pairs.push(u.getPairs());if(this.pairs.push(s.getPairs()),!G.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let l=new Array(n);l.push(s);try{return this.checkRows(l,o+1)}catch(u){this.verbose&&console.log(u)}}throw new H}static isValidSequence(n){for(let r of G.FINDER_PATTERN_SEQUENCES){if(n.length>r.length)continue;let o=!0;for(let s=0;s<n.length;s++)if(n[s].getFinderPattern().getValue()!=r[s]){o=!1;break}if(o)return!0}return!1}storeRow(n,r){let o=0,s=!1,l=!1;for(;o<this.rows.length;){let u=this.rows[o];if(u.getRowNumber()>n){l=u.isEquivalent(this.pairs);break}s=u.isEquivalent(this.pairs),o++}l||s||G.isPartialRow(this.pairs,this.rows)||(this.rows.push(o,new qa(this.pairs,n,r)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(n,r){for(let o of r)if(o.getPairs().length!==n.length){for(let s of o.getPairs())for(let l of n)if(gr.equals(s,l))break}}static isPartialRow(n,r){for(let o of r){let s=!0;for(let l of n){let u=!1;for(let d of o.getPairs())if(l.equals(d)){u=!0;break}if(!u){s=!1;break}}if(s)return!0}return!1}getRows(){return this.rows}static constructResult(n){let r=zh.buildBitArray(n),s=e1(r).parseInformation(),l=n[0].getFinderPattern().getResultPoints(),u=n[n.length-1].getFinderPattern().getResultPoints(),d=[l[0],l[1],u[0],u[1]];return new Ke(s,null,null,d,ae.RSS_EXPANDED,null)}checkChecksum(){let n=this.pairs.get(0),r=n.getLeftChar(),o=n.getRightChar();if(o==null)return!1;let s=o.getChecksumPortion(),l=2;for(let d=1;d<this.pairs.size();++d){let h=this.pairs.get(d);s+=h.getLeftChar().getChecksumPortion(),l++;let p=h.getRightChar();p!=null&&(s+=p.getChecksumPortion(),l++)}return s%=211,211*(l-4)+s==r.getValue()}static getNextSecondBar(n,r){let o;return n.get(r)?(o=n.getNextUnset(r),o=n.getNextSet(o)):(o=n.getNextSet(r),o=n.getNextUnset(o)),o}retrieveNextPair(n,r,o){let s=r.length%2==0;this.startFromEven&&(s=!s);let l,u=!0,d=-1;do this.findNextPair(n,r,d),l=this.parseFoundFinderPattern(n,o,s),l==null?d=G.getNextSecondBar(n,this.startEnd[0]):u=!1;while(u);let h=this.decodeDataCharacter(n,l,s,!0);if(!this.isEmptyPair(r)&&r[r.length-1].mustBeLast())throw new H;let p;try{p=this.decodeDataCharacter(n,l,s,!1)}catch(m){p=null,this.verbose&&console.log(m)}return new gr(h,p,l,!0)}isEmptyPair(n){return n.length===0}findNextPair(n,r,o){let s=this.getDecodeFinderCounters();s[0]=0,s[1]=0,s[2]=0,s[3]=0;let l=n.getSize(),u;o>=0?u=o:this.isEmptyPair(r)?u=0:u=r[r.length-1].getFinderPattern().getStartEnd()[1];let d=r.length%2!=0;this.startFromEven&&(d=!d);let h=!1;for(;u<l&&(h=!n.get(u),!!h);)u++;let p=0,m=u;for(let E=u;E<l;E++)if(n.get(E)!=h)s[p]++;else{if(p==3){if(d&&G.reverseCounters(s),G.isFinderPattern(s)){this.startEnd[0]=m,this.startEnd[1]=E;return}d&&G.reverseCounters(s),m+=s[0]+s[1],s[0]=s[2],s[1]=s[3],s[2]=0,s[3]=0,p--}else p++;s[p]=1,h=!h}throw new H}static reverseCounters(n){let r=n.length;for(let o=0;o<r/2;++o){let s=n[o];n[o]=n[r-o-1],n[r-o-1]=s}}parseFoundFinderPattern(n,r,o){let s,l,u;if(o){let p=this.startEnd[0]-1;for(;p>=0&&!n.get(p);)p--;p++,s=this.startEnd[0]-p,l=p,u=this.startEnd[1]}else l=this.startEnd[0],u=n.getNextUnset(this.startEnd[1]+1),s=u-this.startEnd[1];let d=this.getDecodeFinderCounters();B.arraycopy(d,0,d,1,d.length-1),d[0]=s;let h;try{h=this.parseFinderValue(d,G.FINDER_PATTERNS)}catch{return null}return new fs(h,[l,u],l,u,r)}decodeDataCharacter(n,r,o,s){let l=this.getDataCharacterCounters();for(let Fe=0;Fe<l.length;Fe++)l[Fe]=0;if(s)G.recordPatternInReverse(n,r.getStartEnd()[0],l);else{G.recordPattern(n,r.getStartEnd()[1],l);for(let Fe=0,vt=l.length-1;Fe<vt;Fe++,vt--){let en=l[Fe];l[Fe]=l[vt],l[vt]=en}}let u=17,d=ve.sum(new Int32Array(l))/u,h=(r.getStartEnd()[1]-r.getStartEnd()[0])/15;if(Math.abs(d-h)/h>.3)throw new H;let p=this.getOddCounts(),m=this.getEvenCounts(),E=this.getOddRoundingErrors(),A=this.getEvenRoundingErrors();for(let Fe=0;Fe<l.length;Fe++){let vt=1*l[Fe]/d,en=vt+.5;if(en<1){if(vt<.3)throw new H;en=1}else if(en>8){if(vt>8.7)throw new H;en=8}let wi=Fe/2;Fe&1?(m[wi]=en,A[wi]=vt-en):(p[wi]=en,E[wi]=vt-en)}this.adjustOddEvenCounts(u);let v=4*r.getValue()+(o?0:2)+(s?0:1)-1,O=0,M=0;for(let Fe=p.length-1;Fe>=0;Fe--){if(G.isNotA1left(r,o,s)){let vt=G.WEIGHTS[v][2*Fe];M+=p[Fe]*vt}O+=p[Fe]}let b=0;for(let Fe=m.length-1;Fe>=0;Fe--)if(G.isNotA1left(r,o,s)){let vt=G.WEIGHTS[v][2*Fe+1];b+=m[Fe]*vt}let F=M+b;if(O&1||O>13||O<4)throw new H;let Q=(13-O)/2,Z=G.SYMBOL_WIDEST[Q],Y=9-Z,Ee=Bn.getRSSvalue(p,Z,!0),me=Bn.getRSSvalue(m,Y,!1),Xt=G.EVEN_TOTAL_SUBSET[Q],vn=G.GSUM[Q],Qt=Ee*Xt+me+vn;return new fi(Qt,F)}static isNotA1left(n,r,o){return!(n.getValue()==0&&r&&o)}adjustOddEvenCounts(n){let r=ve.sum(new Int32Array(this.getOddCounts())),o=ve.sum(new Int32Array(this.getEvenCounts())),s=!1,l=!1;r>13?l=!0:r<4&&(s=!0);let u=!1,d=!1;o>13?d=!0:o<4&&(u=!0);let h=r+o-n,p=(r&1)==1,m=(o&1)==0;if(h==1)if(p){if(m)throw new H;l=!0}else{if(!m)throw new H;d=!0}else if(h==-1)if(p){if(m)throw new H;s=!0}else{if(!m)throw new H;u=!0}else if(h==0){if(p){if(!m)throw new H;r<o?(s=!0,d=!0):(l=!0,u=!0)}else if(m)throw new H}else throw new H;if(s){if(l)throw new H;G.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(l&&G.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(d)throw new H;G.increment(this.getEvenCounts(),this.getOddRoundingErrors())}d&&G.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}G.SYMBOL_WIDEST=[7,5,4,3,1],G.EVEN_TOTAL_SUBSET=[4,20,52,104,204],G.GSUM=[0,348,1388,2948,3988],G.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],G.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],G.FINDER_PAT_A=0,G.FINDER_PAT_B=1,G.FINDER_PAT_C=2,G.FINDER_PAT_D=3,G.FINDER_PAT_E=4,G.FINDER_PAT_F=5,G.FINDER_PATTERN_SEQUENCES=[[G.FINDER_PAT_A,G.FINDER_PAT_A],[G.FINDER_PAT_A,G.FINDER_PAT_B,G.FINDER_PAT_B],[G.FINDER_PAT_A,G.FINDER_PAT_C,G.FINDER_PAT_B,G.FINDER_PAT_D],[G.FINDER_PAT_A,G.FINDER_PAT_E,G.FINDER_PAT_B,G.FINDER_PAT_D,G.FINDER_PAT_C],[G.FINDER_PAT_A,G.FINDER_PAT_E,G.FINDER_PAT_B,G.FINDER_PAT_D,G.FINDER_PAT_D,G.FINDER_PAT_F],[G.FINDER_PAT_A,G.FINDER_PAT_E,G.FINDER_PAT_B,G.FINDER_PAT_D,G.FINDER_PAT_E,G.FINDER_PAT_F,G.FINDER_PAT_F],[G.FINDER_PAT_A,G.FINDER_PAT_A,G.FINDER_PAT_B,G.FINDER_PAT_B,G.FINDER_PAT_C,G.FINDER_PAT_C,G.FINDER_PAT_D,G.FINDER_PAT_D],[G.FINDER_PAT_A,G.FINDER_PAT_A,G.FINDER_PAT_B,G.FINDER_PAT_B,G.FINDER_PAT_C,G.FINDER_PAT_C,G.FINDER_PAT_D,G.FINDER_PAT_E,G.FINDER_PAT_E],[G.FINDER_PAT_A,G.FINDER_PAT_A,G.FINDER_PAT_B,G.FINDER_PAT_B,G.FINDER_PAT_C,G.FINDER_PAT_C,G.FINDER_PAT_D,G.FINDER_PAT_E,G.FINDER_PAT_F,G.FINDER_PAT_F],[G.FINDER_PAT_A,G.FINDER_PAT_A,G.FINDER_PAT_B,G.FINDER_PAT_B,G.FINDER_PAT_C,G.FINDER_PAT_D,G.FINDER_PAT_D,G.FINDER_PAT_E,G.FINDER_PAT_E,G.FINDER_PAT_F,G.FINDER_PAT_F]],G.MAX_PAIRS=11;class Vh extends fi{constructor(n,r,o){super(n,r),this.count=0,this.finderPattern=o}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class rt extends Rt{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(n,r,o){const s=this.decodePair(r,!1,n,o);rt.addOrTally(this.possibleLeftPairs,s),r.reverse();let l=this.decodePair(r,!0,n,o);rt.addOrTally(this.possibleRightPairs,l),r.reverse();for(let u of this.possibleLeftPairs)if(u.getCount()>1){for(let d of this.possibleRightPairs)if(d.getCount()>1&&rt.checkChecksum(u,d))return rt.constructResult(u,d)}throw new H}static addOrTally(n,r){if(r==null)return;let o=!1;for(let s of n)if(s.getValue()===r.getValue()){s.incrementCount(),o=!0;break}o||n.push(r)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(n,r){let o=4537077*n.getValue()+r.getValue(),s=new String(o).toString(),l=new Se;for(let p=13-s.length;p>0;p--)l.append("0");l.append(s);let u=0;for(let p=0;p<13;p++){let m=l.charAt(p).charCodeAt(0)-"0".charCodeAt(0);u+=p&1?m:3*m}u=10-u%10,u===10&&(u=0),l.append(u.toString());let d=n.getFinderPattern().getResultPoints(),h=r.getFinderPattern().getResultPoints();return new Ke(l.toString(),null,0,[d[0],d[1],h[0],h[1]],ae.RSS_14,new Date().getTime())}static checkChecksum(n,r){let o=(n.getChecksumPortion()+16*r.getChecksumPortion())%79,s=9*n.getFinderPattern().getValue()+r.getFinderPattern().getValue();return s>72&&s--,s>8&&s--,o===s}decodePair(n,r,o,s){try{let l=this.findFinderPattern(n,r),u=this.parseFoundFinderPattern(n,o,r,l),d=s==null?null:s.get(K.NEED_RESULT_POINT_CALLBACK);if(d!=null){let m=(l[0]+l[1])/2;r&&(m=n.getSize()-1-m),d.foundPossibleResultPoint(new se(m,o))}let h=this.decodeDataCharacter(n,u,!0),p=this.decodeDataCharacter(n,u,!1);return new Vh(1597*h.getValue()+p.getValue(),h.getChecksumPortion()+4*p.getChecksumPortion(),u)}catch{return null}}decodeDataCharacter(n,r,o){let s=this.getDataCharacterCounters();for(let b=0;b<s.length;b++)s[b]=0;if(o)ct.recordPatternInReverse(n,r.getStartEnd()[0],s);else{ct.recordPattern(n,r.getStartEnd()[1]+1,s);for(let b=0,F=s.length-1;b<F;b++,F--){let Q=s[b];s[b]=s[F],s[F]=Q}}let l=o?16:15,u=ve.sum(new Int32Array(s))/l,d=this.getOddCounts(),h=this.getEvenCounts(),p=this.getOddRoundingErrors(),m=this.getEvenRoundingErrors();for(let b=0;b<s.length;b++){let F=s[b]/u,Q=Math.floor(F+.5);Q<1?Q=1:Q>8&&(Q=8);let Z=Math.floor(b/2);b&1?(h[Z]=Q,m[Z]=F-Q):(d[Z]=Q,p[Z]=F-Q)}this.adjustOddEvenCounts(o,l);let E=0,A=0;for(let b=d.length-1;b>=0;b--)A*=9,A+=d[b],E+=d[b];let v=0,O=0;for(let b=h.length-1;b>=0;b--)v*=9,v+=h[b],O+=h[b];let M=A+3*v;if(o){if(E&1||E>12||E<4)throw new H;let b=(12-E)/2,F=rt.OUTSIDE_ODD_WIDEST[b],Q=9-F,Z=Bn.getRSSvalue(d,F,!1),Y=Bn.getRSSvalue(h,Q,!0),Ee=rt.OUTSIDE_EVEN_TOTAL_SUBSET[b],me=rt.OUTSIDE_GSUM[b];return new fi(Z*Ee+Y+me,M)}else{if(O&1||O>10||O<4)throw new H;let b=(10-O)/2,F=rt.INSIDE_ODD_WIDEST[b],Q=9-F,Z=Bn.getRSSvalue(d,F,!0),Y=Bn.getRSSvalue(h,Q,!1),Ee=rt.INSIDE_ODD_TOTAL_SUBSET[b],me=rt.INSIDE_GSUM[b];return new fi(Y*Ee+Z+me,M)}}findFinderPattern(n,r){let o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;let s=n.getSize(),l=!1,u=0;for(;u<s&&(l=!n.get(u),r!==l);)u++;let d=0,h=u;for(let p=u;p<s;p++)if(n.get(p)!==l)o[d]++;else{if(d===3){if(Rt.isFinderPattern(o))return[h,p];h+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,d--}else d++;o[d]=1,l=!l}throw new H}parseFoundFinderPattern(n,r,o,s){let l=n.get(s[0]),u=s[0]-1;for(;u>=0&&l!==n.get(u);)u--;u++;const d=s[0]-u,h=this.getDecodeFinderCounters(),p=new Int32Array(h.length);B.arraycopy(h,0,p,1,h.length-1),p[0]=d;const m=this.parseFinderValue(p,rt.FINDER_PATTERNS);let E=u,A=s[1];return o&&(E=n.getSize()-1-E,A=n.getSize()-1-A),new fs(m,[u,s[1]],E,A,r)}adjustOddEvenCounts(n,r){let o=ve.sum(new Int32Array(this.getOddCounts())),s=ve.sum(new Int32Array(this.getEvenCounts())),l=!1,u=!1,d=!1,h=!1;n?(o>12?u=!0:o<4&&(l=!0),s>12?h=!0:s<4&&(d=!0)):(o>11?u=!0:o<5&&(l=!0),s>10?h=!0:s<4&&(d=!0));let p=o+s-r,m=(o&1)===(n?1:0),E=(s&1)===1;if(p===1)if(m){if(E)throw new H;u=!0}else{if(!E)throw new H;h=!0}else if(p===-1)if(m){if(E)throw new H;l=!0}else{if(!E)throw new H;d=!0}else if(p===0){if(m){if(!E)throw new H;o<s?(l=!0,h=!0):(u=!0,d=!0)}else if(E)throw new H}else throw new H;if(l){if(u)throw new H;Rt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&Rt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),d){if(h)throw new H;Rt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}h&&Rt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}rt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],rt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],rt.OUTSIDE_GSUM=[0,161,961,2015,2715],rt.INSIDE_GSUM=[0,336,1036,1516],rt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],rt.INSIDE_ODD_WIDEST=[2,4,6,8],rt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class gi extends ct{constructor(n,r){super(),this.readers=[],this.verbose=r===!0;const o=n?n.get(K.POSSIBLE_FORMATS):null,s=n&&n.get(K.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;o?((o.includes(ae.EAN_13)||o.includes(ae.UPC_A)||o.includes(ae.EAN_8)||o.includes(ae.UPC_E))&&this.readers.push(new Qa(n)),o.includes(ae.CODE_39)&&this.readers.push(new ht(s)),o.includes(ae.CODE_128)&&this.readers.push(new J),o.includes(ae.ITF)&&this.readers.push(new Be),o.includes(ae.RSS_14)&&this.readers.push(new rt),o.includes(ae.RSS_EXPANDED)&&this.readers.push(new G(this.verbose))):(this.readers.push(new Qa(n)),this.readers.push(new ht),this.readers.push(new Qa(n)),this.readers.push(new J),this.readers.push(new Be),this.readers.push(new rt),this.readers.push(new G(this.verbose)))}decodeRow(n,r,o){for(let s=0;s<this.readers.length;s++)try{return this.readers[s].decodeRow(n,r,o)}catch{}throw new H}reset(){this.readers.forEach(n=>n.reset())}}class Wh extends fn{constructor(n=500,r){super(new gi(r),n,r)}}class De{constructor(n,r,o){this.ecCodewords=n,this.ecBlocks=[r],o&&this.ecBlocks.push(o)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Re{constructor(n,r){this.count=n,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ae{constructor(n,r,o,s,l,u){this.versionNumber=n,this.symbolSizeRows=r,this.symbolSizeColumns=o,this.dataRegionSizeRows=s,this.dataRegionSizeColumns=l,this.ecBlocks=u;let d=0;const h=u.getECCodewords(),p=u.getECBlocks();for(let m of p)d+=m.getCount()*(m.getDataCodewords()+h);this.totalCodewords=d}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(n,r){if(n&1||r&1)throw new U;for(let o of Ae.VERSIONS)if(o.symbolSizeRows===n&&o.symbolSizeColumns===r)return o;throw new U}toString(){return""+this.versionNumber}static buildVersions(){return[new Ae(1,10,10,8,8,new De(5,new Re(1,3))),new Ae(2,12,12,10,10,new De(7,new Re(1,5))),new Ae(3,14,14,12,12,new De(10,new Re(1,8))),new Ae(4,16,16,14,14,new De(12,new Re(1,12))),new Ae(5,18,18,16,16,new De(14,new Re(1,18))),new Ae(6,20,20,18,18,new De(18,new Re(1,22))),new Ae(7,22,22,20,20,new De(20,new Re(1,30))),new Ae(8,24,24,22,22,new De(24,new Re(1,36))),new Ae(9,26,26,24,24,new De(28,new Re(1,44))),new Ae(10,32,32,14,14,new De(36,new Re(1,62))),new Ae(11,36,36,16,16,new De(42,new Re(1,86))),new Ae(12,40,40,18,18,new De(48,new Re(1,114))),new Ae(13,44,44,20,20,new De(56,new Re(1,144))),new Ae(14,48,48,22,22,new De(68,new Re(1,174))),new Ae(15,52,52,24,24,new De(42,new Re(2,102))),new Ae(16,64,64,14,14,new De(56,new Re(2,140))),new Ae(17,72,72,16,16,new De(36,new Re(4,92))),new Ae(18,80,80,18,18,new De(48,new Re(4,114))),new Ae(19,88,88,20,20,new De(56,new Re(4,144))),new Ae(20,96,96,22,22,new De(68,new Re(4,174))),new Ae(21,104,104,24,24,new De(56,new Re(6,136))),new Ae(22,120,120,18,18,new De(68,new Re(6,175))),new Ae(23,132,132,20,20,new De(62,new Re(8,163))),new Ae(24,144,144,22,22,new De(62,new Re(8,156),new Re(2,155))),new Ae(25,8,18,6,16,new De(7,new Re(1,5))),new Ae(26,8,32,6,14,new De(11,new Re(1,10))),new Ae(27,12,26,10,24,new De(14,new Re(1,16))),new Ae(28,12,36,10,16,new De(18,new Re(1,22))),new Ae(29,16,36,14,16,new De(24,new Re(1,32))),new Ae(30,16,48,14,22,new De(28,new Re(1,49)))]}}Ae.VERSIONS=Ae.buildVersions();class Ja{constructor(n){const r=n.getHeight();if(r<8||r>144||r&1)throw new U;this.version=Ja.readVersion(n),this.mappingBitMatrix=this.extractDataRegion(n),this.readMappingMatrix=new at(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(n){const r=n.getHeight(),o=n.getWidth();return Ae.getVersionForDimensions(r,o)}readCodewords(){const n=new Int8Array(this.version.getTotalCodewords());let r=0,o=4,s=0;const l=this.mappingBitMatrix.getHeight(),u=this.mappingBitMatrix.getWidth();let d=!1,h=!1,p=!1,m=!1;do if(o===l&&s===0&&!d)n[r++]=this.readCorner1(l,u)&255,o-=2,s+=2,d=!0;else if(o===l-2&&s===0&&u&3&&!h)n[r++]=this.readCorner2(l,u)&255,o-=2,s+=2,h=!0;else if(o===l+4&&s===2&&!(u&7)&&!p)n[r++]=this.readCorner3(l,u)&255,o-=2,s+=2,p=!0;else if(o===l-2&&s===0&&(u&7)===4&&!m)n[r++]=this.readCorner4(l,u)&255,o-=2,s+=2,m=!0;else{do o<l&&s>=0&&!this.readMappingMatrix.get(s,o)&&(n[r++]=this.readUtah(o,s,l,u)&255),o-=2,s+=2;while(o>=0&&s<u);o+=1,s+=3;do o>=0&&s<u&&!this.readMappingMatrix.get(s,o)&&(n[r++]=this.readUtah(o,s,l,u)&255),o+=2,s-=2;while(o<l&&s>=0);o+=3,s+=1}while(o<l||s<u);if(r!==this.version.getTotalCodewords())throw new U;return n}readModule(n,r,o,s){return n<0&&(n+=o,r+=4-(o+4&7)),r<0&&(r+=s,n+=4-(s+4&7)),this.readMappingMatrix.set(r,n),this.mappingBitMatrix.get(r,n)}readUtah(n,r,o,s){let l=0;return this.readModule(n-2,r-2,o,s)&&(l|=1),l<<=1,this.readModule(n-2,r-1,o,s)&&(l|=1),l<<=1,this.readModule(n-1,r-2,o,s)&&(l|=1),l<<=1,this.readModule(n-1,r-1,o,s)&&(l|=1),l<<=1,this.readModule(n-1,r,o,s)&&(l|=1),l<<=1,this.readModule(n,r-2,o,s)&&(l|=1),l<<=1,this.readModule(n,r-1,o,s)&&(l|=1),l<<=1,this.readModule(n,r,o,s)&&(l|=1),l}readCorner1(n,r){let o=0;return this.readModule(n-1,0,n,r)&&(o|=1),o<<=1,this.readModule(n-1,1,n,r)&&(o|=1),o<<=1,this.readModule(n-1,2,n,r)&&(o|=1),o<<=1,this.readModule(0,r-2,n,r)&&(o|=1),o<<=1,this.readModule(0,r-1,n,r)&&(o|=1),o<<=1,this.readModule(1,r-1,n,r)&&(o|=1),o<<=1,this.readModule(2,r-1,n,r)&&(o|=1),o<<=1,this.readModule(3,r-1,n,r)&&(o|=1),o}readCorner2(n,r){let o=0;return this.readModule(n-3,0,n,r)&&(o|=1),o<<=1,this.readModule(n-2,0,n,r)&&(o|=1),o<<=1,this.readModule(n-1,0,n,r)&&(o|=1),o<<=1,this.readModule(0,r-4,n,r)&&(o|=1),o<<=1,this.readModule(0,r-3,n,r)&&(o|=1),o<<=1,this.readModule(0,r-2,n,r)&&(o|=1),o<<=1,this.readModule(0,r-1,n,r)&&(o|=1),o<<=1,this.readModule(1,r-1,n,r)&&(o|=1),o}readCorner3(n,r){let o=0;return this.readModule(n-1,0,n,r)&&(o|=1),o<<=1,this.readModule(n-1,r-1,n,r)&&(o|=1),o<<=1,this.readModule(0,r-3,n,r)&&(o|=1),o<<=1,this.readModule(0,r-2,n,r)&&(o|=1),o<<=1,this.readModule(0,r-1,n,r)&&(o|=1),o<<=1,this.readModule(1,r-3,n,r)&&(o|=1),o<<=1,this.readModule(1,r-2,n,r)&&(o|=1),o<<=1,this.readModule(1,r-1,n,r)&&(o|=1),o}readCorner4(n,r){let o=0;return this.readModule(n-3,0,n,r)&&(o|=1),o<<=1,this.readModule(n-2,0,n,r)&&(o|=1),o<<=1,this.readModule(n-1,0,n,r)&&(o|=1),o<<=1,this.readModule(0,r-2,n,r)&&(o|=1),o<<=1,this.readModule(0,r-1,n,r)&&(o|=1),o<<=1,this.readModule(1,r-1,n,r)&&(o|=1),o<<=1,this.readModule(2,r-1,n,r)&&(o|=1),o<<=1,this.readModule(3,r-1,n,r)&&(o|=1),o}extractDataRegion(n){const r=this.version.getSymbolSizeRows(),o=this.version.getSymbolSizeColumns();if(n.getHeight()!==r)throw new I("Dimension of bitMatrix must match the version size");const s=this.version.getDataRegionSizeRows(),l=this.version.getDataRegionSizeColumns(),u=r/s|0,d=o/l|0,h=u*s,p=d*l,m=new at(p,h);for(let E=0;E<u;++E){const A=E*s;for(let v=0;v<d;++v){const O=v*l;for(let M=0;M<s;++M){const b=E*(s+2)+1+M,F=A+M;for(let Q=0;Q<l;++Q){const Z=v*(l+2)+1+Q;if(n.get(Z,b)){const Y=O+Q;m.set(Y,F)}}}}}return m}}class $a{constructor(n,r){this.numDataCodewords=n,this.codewords=r}static getDataBlocks(n,r){const o=r.getECBlocks();let s=0;const l=o.getECBlocks();for(let M of l)s+=M.getCount();const u=new Array(s);let d=0;for(let M of l)for(let b=0;b<M.getCount();b++){const F=M.getDataCodewords(),Q=o.getECCodewords()+F;u[d++]=new $a(F,new Uint8Array(Q))}const p=u[0].codewords.length-o.getECCodewords(),m=p-1;let E=0;for(let M=0;M<m;M++)for(let b=0;b<d;b++)u[b].codewords[M]=n[E++];const A=r.getVersionNumber()===24,v=A?8:d;for(let M=0;M<v;M++)u[M].codewords[p-1]=n[E++];const O=u[0].codewords.length;for(let M=p;M<O;M++)for(let b=0;b<d;b++){const F=A?(b+8)%d:b,Q=A&&F>7?M-1:M;u[F].codewords[Q]=n[E++]}if(E!==n.length)throw new I;return u}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class el{constructor(n){this.bytes=n,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(n){if(n<1||n>32||n>this.available())throw new I(""+n);let r=0,o=this.bitOffset,s=this.byteOffset;const l=this.bytes;if(o>0){const u=8-o,d=n<u?n:u,h=u-d,p=255>>8-d<<h;r=(l[s]&p)>>h,n-=d,o+=d,o===8&&(o=0,s++)}if(n>0){for(;n>=8;)r=r<<8|l[s]&255,s++,n-=8;if(n>0){const u=8-n,d=255>>u<<u;r=r<<n|(l[s]&d)>>u,o+=n}}return this.bitOffset=o,this.byteOffset=s,r}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var gt;(function(y){y[y.PAD_ENCODE=0]="PAD_ENCODE",y[y.ASCII_ENCODE=1]="ASCII_ENCODE",y[y.C40_ENCODE=2]="C40_ENCODE",y[y.TEXT_ENCODE=3]="TEXT_ENCODE",y[y.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",y[y.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",y[y.BASE256_ENCODE=6]="BASE256_ENCODE"})(gt||(gt={}));class pr{static decode(n){const r=new el(n),o=new Se,s=new Se,l=new Array;let u=gt.ASCII_ENCODE;do if(u===gt.ASCII_ENCODE)u=this.decodeAsciiSegment(r,o,s);else{switch(u){case gt.C40_ENCODE:this.decodeC40Segment(r,o);break;case gt.TEXT_ENCODE:this.decodeTextSegment(r,o);break;case gt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,o);break;case gt.EDIFACT_ENCODE:this.decodeEdifactSegment(r,o);break;case gt.BASE256_ENCODE:this.decodeBase256Segment(r,o,l);break;default:throw new U}u=gt.ASCII_ENCODE}while(u!==gt.PAD_ENCODE&&r.available()>0);return s.length()>0&&o.append(s.toString()),new Ji(n,o.toString(),l.length===0?null:l,null)}static decodeAsciiSegment(n,r,o){let s=!1;do{let l=n.readBits(8);if(l===0)throw new U;if(l<=128)return s&&(l+=128),r.append(String.fromCharCode(l-1)),gt.ASCII_ENCODE;if(l===129)return gt.PAD_ENCODE;if(l<=229){const u=l-130;u<10&&r.append("0"),r.append(""+u)}else switch(l){case 230:return gt.C40_ENCODE;case 231:return gt.BASE256_ENCODE;case 232:r.append(String.fromCharCode(29));break;case 233:case 234:break;case 235:s=!0;break;case 236:r.append("[)>05"),o.insert(0,"");break;case 237:r.append("[)>06"),o.insert(0,"");break;case 238:return gt.ANSIX12_ENCODE;case 239:return gt.TEXT_ENCODE;case 240:return gt.EDIFACT_ENCODE;case 241:break;default:if(l!==254||n.available()!==0)throw new U;break}}while(n.available()>0);return gt.ASCII_ENCODE}static decodeC40Segment(n,r){let o=!1;const s=[];let l=0;do{if(n.available()===8)return;const u=n.readBits(8);if(u===254)return;this.parseTwoBytes(u,n.readBits(8),s);for(let d=0;d<3;d++){const h=s[d];switch(l){case 0:if(h<3)l=h+1;else if(h<this.C40_BASIC_SET_CHARS.length){const p=this.C40_BASIC_SET_CHARS[h];o?(r.append(String.fromCharCode(p.charCodeAt(0)+128)),o=!1):r.append(p)}else throw new U;break;case 1:o?(r.append(String.fromCharCode(h+128)),o=!1):r.append(String.fromCharCode(h)),l=0;break;case 2:if(h<this.C40_SHIFT2_SET_CHARS.length){const p=this.C40_SHIFT2_SET_CHARS[h];o?(r.append(String.fromCharCode(p.charCodeAt(0)+128)),o=!1):r.append(p)}else switch(h){case 27:r.append(String.fromCharCode(29));break;case 30:o=!0;break;default:throw new U}l=0;break;case 3:o?(r.append(String.fromCharCode(h+224)),o=!1):r.append(String.fromCharCode(h+96)),l=0;break;default:throw new U}}}while(n.available()>0)}static decodeTextSegment(n,r){let o=!1,s=[],l=0;do{if(n.available()===8)return;const u=n.readBits(8);if(u===254)return;this.parseTwoBytes(u,n.readBits(8),s);for(let d=0;d<3;d++){const h=s[d];switch(l){case 0:if(h<3)l=h+1;else if(h<this.TEXT_BASIC_SET_CHARS.length){const p=this.TEXT_BASIC_SET_CHARS[h];o?(r.append(String.fromCharCode(p.charCodeAt(0)+128)),o=!1):r.append(p)}else throw new U;break;case 1:o?(r.append(String.fromCharCode(h+128)),o=!1):r.append(String.fromCharCode(h)),l=0;break;case 2:if(h<this.TEXT_SHIFT2_SET_CHARS.length){const p=this.TEXT_SHIFT2_SET_CHARS[h];o?(r.append(String.fromCharCode(p.charCodeAt(0)+128)),o=!1):r.append(p)}else switch(h){case 27:r.append(String.fromCharCode(29));break;case 30:o=!0;break;default:throw new U}l=0;break;case 3:if(h<this.TEXT_SHIFT3_SET_CHARS.length){const p=this.TEXT_SHIFT3_SET_CHARS[h];o?(r.append(String.fromCharCode(p.charCodeAt(0)+128)),o=!1):r.append(p),l=0}else throw new U;break;default:throw new U}}}while(n.available()>0)}static decodeAnsiX12Segment(n,r){const o=[];do{if(n.available()===8)return;const s=n.readBits(8);if(s===254)return;this.parseTwoBytes(s,n.readBits(8),o);for(let l=0;l<3;l++){const u=o[l];switch(u){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(u<14)r.append(String.fromCharCode(u+44));else if(u<40)r.append(String.fromCharCode(u+51));else throw new U;break}}}while(n.available()>0)}static parseTwoBytes(n,r,o){let s=(n<<8)+r-1,l=Math.floor(s/1600);o[0]=l,s-=l*1600,l=Math.floor(s/40),o[1]=l,o[2]=s-l*40}static decodeEdifactSegment(n,r){do{if(n.available()<=16)return;for(let o=0;o<4;o++){let s=n.readBits(6);if(s===31){const l=8-n.getBitOffset();l!==8&&n.readBits(l);return}s&32||(s|=64),r.append(String.fromCharCode(s))}}while(n.available()>0)}static decodeBase256Segment(n,r,o){let s=1+n.getByteOffset();const l=this.unrandomize255State(n.readBits(8),s++);let u;if(l===0?u=n.available()/8|0:l<250?u=l:u=250*(l-249)+this.unrandomize255State(n.readBits(8),s++),u<0)throw new U;const d=new Uint8Array(u);for(let h=0;h<u;h++){if(n.available()<8)throw new U;d[h]=this.unrandomize255State(n.readBits(8),s++)}o.push(d);try{r.append(Ue.decode(d,ce.ISO88591))}catch(h){throw new kn("Platform does not support required encoding: "+h.message)}}static unrandomize255State(n,r){const o=149*r%255+1,s=n-o;return s>=0?s:s+256}}pr.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],pr.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],pr.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],pr.TEXT_SHIFT2_SET_CHARS=pr.C40_SHIFT2_SET_CHARS,pr.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)];class Gh{constructor(){this.rsDecoder=new eo(Oe.DATA_MATRIX_FIELD_256)}decode(n){const r=new Ja(n),o=r.getVersion(),s=r.readCodewords(),l=$a.getDataBlocks(s,o);let u=0;for(let p of l)u+=p.getNumDataCodewords();const d=new Uint8Array(u),h=l.length;for(let p=0;p<h;p++){const m=l[p],E=m.getCodewords(),A=m.getNumDataCodewords();this.correctErrors(E,A);for(let v=0;v<A;v++)d[v*h+p]=E[v]}return pr.decode(d)}correctErrors(n,r){const o=new Int32Array(n);try{this.rsDecoder.decode(o,n.length-r)}catch{throw new z}for(let s=0;s<r;s++)n[s]=o[s]}}class lt{constructor(n){this.image=n,this.rectangleDetector=new Kn(this.image)}detect(){const n=this.rectangleDetector.detect();let r=this.detectSolid1(n);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new H;r=this.shiftToModuleCenter(r);const o=r[0],s=r[1],l=r[2],u=r[3];let d=this.transitionsBetween(o,u)+1,h=this.transitionsBetween(l,u)+1;(d&1)===1&&(d+=1),(h&1)===1&&(h+=1),4*d<7*h&&4*h<7*d&&(d=h=Math.max(d,h));let p=lt.sampleGrid(this.image,o,s,l,u,d,h);return new us(p,[o,s,l,u])}static shiftPoint(n,r,o){let s=(r.getX()-n.getX())/(o+1),l=(r.getY()-n.getY())/(o+1);return new se(n.getX()+s,n.getY()+l)}static moveAway(n,r,o){let s=n.getX(),l=n.getY();return s<r?s-=1:s+=1,l<o?l-=1:l+=1,new se(s,l)}detectSolid1(n){let r=n[0],o=n[1],s=n[3],l=n[2],u=this.transitionsBetween(r,o),d=this.transitionsBetween(o,s),h=this.transitionsBetween(s,l),p=this.transitionsBetween(l,r),m=u,E=[l,r,o,s];return m>d&&(m=d,E[0]=r,E[1]=o,E[2]=s,E[3]=l),m>h&&(m=h,E[0]=o,E[1]=s,E[2]=l,E[3]=r),m>p&&(E[0]=s,E[1]=l,E[2]=r,E[3]=o),E}detectSolid2(n){let r=n[0],o=n[1],s=n[2],l=n[3],u=this.transitionsBetween(r,l),d=lt.shiftPoint(o,s,(u+1)*4),h=lt.shiftPoint(s,o,(u+1)*4),p=this.transitionsBetween(d,r),m=this.transitionsBetween(h,l);return p<m?(n[0]=r,n[1]=o,n[2]=s,n[3]=l):(n[0]=o,n[1]=s,n[2]=l,n[3]=r),n}correctTopRight(n){let r=n[0],o=n[1],s=n[2],l=n[3],u=this.transitionsBetween(r,l),d=this.transitionsBetween(o,l),h=lt.shiftPoint(r,o,(d+1)*4),p=lt.shiftPoint(s,o,(u+1)*4);u=this.transitionsBetween(h,l),d=this.transitionsBetween(p,l);let m=new se(l.getX()+(s.getX()-o.getX())/(u+1),l.getY()+(s.getY()-o.getY())/(u+1)),E=new se(l.getX()+(r.getX()-o.getX())/(d+1),l.getY()+(r.getY()-o.getY())/(d+1));if(!this.isValid(m))return this.isValid(E)?E:null;if(!this.isValid(E))return m;let A=this.transitionsBetween(h,m)+this.transitionsBetween(p,m),v=this.transitionsBetween(h,E)+this.transitionsBetween(p,E);return A>v?m:E}shiftToModuleCenter(n){let r=n[0],o=n[1],s=n[2],l=n[3],u=this.transitionsBetween(r,l)+1,d=this.transitionsBetween(s,l)+1,h=lt.shiftPoint(r,o,d*4),p=lt.shiftPoint(s,o,u*4);u=this.transitionsBetween(h,l)+1,d=this.transitionsBetween(p,l)+1,(u&1)===1&&(u+=1),(d&1)===1&&(d+=1);let m=(r.getX()+o.getX()+s.getX()+l.getX())/4,E=(r.getY()+o.getY()+s.getY()+l.getY())/4;r=lt.moveAway(r,m,E),o=lt.moveAway(o,m,E),s=lt.moveAway(s,m,E),l=lt.moveAway(l,m,E);let A,v;return h=lt.shiftPoint(r,o,d*4),h=lt.shiftPoint(h,l,u*4),A=lt.shiftPoint(o,r,d*4),A=lt.shiftPoint(A,s,u*4),p=lt.shiftPoint(s,l,d*4),p=lt.shiftPoint(p,o,u*4),v=lt.shiftPoint(l,s,d*4),v=lt.shiftPoint(v,r,u*4),[h,A,p,v]}isValid(n){return n.getX()>=0&&n.getX()<this.image.getWidth()&&n.getY()>0&&n.getY()<this.image.getHeight()}static sampleGrid(n,r,o,s,l,u,d){return hr.getInstance().sampleGrid(n,u,d,.5,.5,u-.5,.5,u-.5,d-.5,.5,d-.5,r.getX(),r.getY(),l.getX(),l.getY(),s.getX(),s.getY(),o.getX(),o.getY())}transitionsBetween(n,r){let o=Math.trunc(n.getX()),s=Math.trunc(n.getY()),l=Math.trunc(r.getX()),u=Math.trunc(r.getY()),d=Math.abs(u-s)>Math.abs(l-o);if(d){let M=o;o=s,s=M,M=l,l=u,u=M}let h=Math.abs(l-o),p=Math.abs(u-s),m=-h/2,E=s<u?1:-1,A=o<l?1:-1,v=0,O=this.image.get(d?s:o,d?o:s);for(let M=o,b=s;M!==l;M+=A){let F=this.image.get(d?b:M,d?M:b);if(F!==O&&(v++,O=F),m+=p,m>0){if(b===u)break;b+=E,m-=h}}return v}}class xr{constructor(){this.decoder=new Gh}decode(n,r=null){let o,s;if(r!=null&&r.has(K.PURE_BARCODE)){const p=xr.extractPureBits(n.getBlackMatrix());o=this.decoder.decode(p),s=xr.NO_POINTS}else{const p=new lt(n.getBlackMatrix()).detect();o=this.decoder.decode(p.getBits()),s=p.getPoints()}const l=o.getRawBytes(),u=new Ke(o.getText(),l,8*l.length,s,ae.DATA_MATRIX,B.currentTimeMillis()),d=o.getByteSegments();d!=null&&u.putMetadata(wt.BYTE_SEGMENTS,d);const h=o.getECLevel();return h!=null&&u.putMetadata(wt.ERROR_CORRECTION_LEVEL,h),u}reset(){}static extractPureBits(n){const r=n.getTopLeftOnBit(),o=n.getBottomRightOnBit();if(r==null||o==null)throw new H;const s=this.moduleSize(r,n);let l=r[1];const u=o[1];let d=r[0];const p=(o[0]-d+1)/s,m=(u-l+1)/s;if(p<=0||m<=0)throw new H;const E=s/2;l+=E,d+=E;const A=new at(p,m);for(let v=0;v<m;v++){const O=l+v*s;for(let M=0;M<p;M++)n.get(d+M*s,O)&&A.set(M,v)}return A}static moduleSize(n,r){const o=r.getWidth();let s=n[0];const l=n[1];for(;s<o&&r.get(s,l);)s++;if(s===o)throw new H;const u=s-n[0];if(u===0)throw new H;return u}}xr.NO_POINTS=[];class Yh extends fn{constructor(n=500){super(new xr,n)}}var pi;(function(y){y[y.L=0]="L",y[y.M=1]="M",y[y.Q=2]="Q",y[y.H=3]="H"})(pi||(pi={}));class je{constructor(n,r,o){this.value=n,this.stringValue=r,this.bits=o,je.FOR_BITS.set(o,this),je.FOR_VALUE.set(n,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(n){switch(n){case"L":return je.L;case"M":return je.M;case"Q":return je.Q;case"H":return je.H;default:throw new S(n+"not available")}}toString(){return this.stringValue}equals(n){if(!(n instanceof je))return!1;const r=n;return this.value===r.value}static forBits(n){if(n<0||n>=je.FOR_BITS.size)throw new I;return je.FOR_BITS.get(n)}}je.FOR_BITS=new Map,je.FOR_VALUE=new Map,je.L=new je(pi.L,"L",1),je.M=new je(pi.M,"M",0),je.Q=new je(pi.Q,"Q",3),je.H=new je(pi.H,"H",2);class Dt{constructor(n){this.errorCorrectionLevel=je.forBits(n>>3&3),this.dataMask=n&7}static numBitsDiffering(n,r){return _.bitCount(n^r)}static decodeFormatInformation(n,r){const o=Dt.doDecodeFormatInformation(n,r);return o!==null?o:Dt.doDecodeFormatInformation(n^Dt.FORMAT_INFO_MASK_QR,r^Dt.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(n,r){let o=Number.MAX_SAFE_INTEGER,s=0;for(const l of Dt.FORMAT_INFO_DECODE_LOOKUP){const u=l[0];if(u===n||u===r)return new Dt(l[1]);let d=Dt.numBitsDiffering(n,u);d<o&&(s=l[1],o=d),n!==r&&(d=Dt.numBitsDiffering(r,u),d<o&&(s=l[1],o=d))}return o<=3?new Dt(s):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(n){if(!(n instanceof Dt))return!1;const r=n;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask}}Dt.FORMAT_INFO_MASK_QR=21522,Dt.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class L{constructor(n,...r){this.ecCodewordsPerBlock=n,this.ecBlocks=r}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let n=0;const r=this.ecBlocks;for(const o of r)n+=o.getCount();return n}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class T{constructor(n,r){this.count=n,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class le{constructor(n,r,...o){this.versionNumber=n,this.alignmentPatternCenters=r,this.ecBlocks=o;let s=0;const l=o[0].getECCodewordsPerBlock(),u=o[0].getECBlocks();for(const d of u)s+=d.getCount()*(d.getDataCodewords()+l);this.totalCodewords=s}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(n){return this.ecBlocks[n.getValue()]}static getProvisionalVersionForDimension(n){if(n%4!==1)throw new U;try{return this.getVersionForNumber((n-17)/4)}catch{throw new U}}static getVersionForNumber(n){if(n<1||n>40)throw new I;return le.VERSIONS[n-1]}static decodeVersionInformation(n){let r=Number.MAX_SAFE_INTEGER,o=0;for(let s=0;s<le.VERSION_DECODE_INFO.length;s++){const l=le.VERSION_DECODE_INFO[s];if(l===n)return le.getVersionForNumber(s+7);const u=Dt.numBitsDiffering(n,l);u<r&&(o=s+7,r=u)}return r<=3?le.getVersionForNumber(o):null}buildFunctionPattern(){const n=this.getDimensionForVersion(),r=new at(n);r.setRegion(0,0,9,9),r.setRegion(n-8,0,8,9),r.setRegion(0,n-8,9,8);const o=this.alignmentPatternCenters.length;for(let s=0;s<o;s++){const l=this.alignmentPatternCenters[s]-2;for(let u=0;u<o;u++)s===0&&(u===0||u===o-1)||s===o-1&&u===0||r.setRegion(this.alignmentPatternCenters[u]-2,l,5,5)}return r.setRegion(6,9,1,n-17),r.setRegion(9,6,n-17,1),this.versionNumber>6&&(r.setRegion(n-11,0,3,6),r.setRegion(0,n-11,6,3)),r}toString(){return""+this.versionNumber}}le.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),le.VERSIONS=[new le(1,new Int32Array(0),new L(7,new T(1,19)),new L(10,new T(1,16)),new L(13,new T(1,13)),new L(17,new T(1,9))),new le(2,Int32Array.from([6,18]),new L(10,new T(1,34)),new L(16,new T(1,28)),new L(22,new T(1,22)),new L(28,new T(1,16))),new le(3,Int32Array.from([6,22]),new L(15,new T(1,55)),new L(26,new T(1,44)),new L(18,new T(2,17)),new L(22,new T(2,13))),new le(4,Int32Array.from([6,26]),new L(20,new T(1,80)),new L(18,new T(2,32)),new L(26,new T(2,24)),new L(16,new T(4,9))),new le(5,Int32Array.from([6,30]),new L(26,new T(1,108)),new L(24,new T(2,43)),new L(18,new T(2,15),new T(2,16)),new L(22,new T(2,11),new T(2,12))),new le(6,Int32Array.from([6,34]),new L(18,new T(2,68)),new L(16,new T(4,27)),new L(24,new T(4,19)),new L(28,new T(4,15))),new le(7,Int32Array.from([6,22,38]),new L(20,new T(2,78)),new L(18,new T(4,31)),new L(18,new T(2,14),new T(4,15)),new L(26,new T(4,13),new T(1,14))),new le(8,Int32Array.from([6,24,42]),new L(24,new T(2,97)),new L(22,new T(2,38),new T(2,39)),new L(22,new T(4,18),new T(2,19)),new L(26,new T(4,14),new T(2,15))),new le(9,Int32Array.from([6,26,46]),new L(30,new T(2,116)),new L(22,new T(3,36),new T(2,37)),new L(20,new T(4,16),new T(4,17)),new L(24,new T(4,12),new T(4,13))),new le(10,Int32Array.from([6,28,50]),new L(18,new T(2,68),new T(2,69)),new L(26,new T(4,43),new T(1,44)),new L(24,new T(6,19),new T(2,20)),new L(28,new T(6,15),new T(2,16))),new le(11,Int32Array.from([6,30,54]),new L(20,new T(4,81)),new L(30,new T(1,50),new T(4,51)),new L(28,new T(4,22),new T(4,23)),new L(24,new T(3,12),new T(8,13))),new le(12,Int32Array.from([6,32,58]),new L(24,new T(2,92),new T(2,93)),new L(22,new T(6,36),new T(2,37)),new L(26,new T(4,20),new T(6,21)),new L(28,new T(7,14),new T(4,15))),new le(13,Int32Array.from([6,34,62]),new L(26,new T(4,107)),new L(22,new T(8,37),new T(1,38)),new L(24,new T(8,20),new T(4,21)),new L(22,new T(12,11),new T(4,12))),new le(14,Int32Array.from([6,26,46,66]),new L(30,new T(3,115),new T(1,116)),new L(24,new T(4,40),new T(5,41)),new L(20,new T(11,16),new T(5,17)),new L(24,new T(11,12),new T(5,13))),new le(15,Int32Array.from([6,26,48,70]),new L(22,new T(5,87),new T(1,88)),new L(24,new T(5,41),new T(5,42)),new L(30,new T(5,24),new T(7,25)),new L(24,new T(11,12),new T(7,13))),new le(16,Int32Array.from([6,26,50,74]),new L(24,new T(5,98),new T(1,99)),new L(28,new T(7,45),new T(3,46)),new L(24,new T(15,19),new T(2,20)),new L(30,new T(3,15),new T(13,16))),new le(17,Int32Array.from([6,30,54,78]),new L(28,new T(1,107),new T(5,108)),new L(28,new T(10,46),new T(1,47)),new L(28,new T(1,22),new T(15,23)),new L(28,new T(2,14),new T(17,15))),new le(18,Int32Array.from([6,30,56,82]),new L(30,new T(5,120),new T(1,121)),new L(26,new T(9,43),new T(4,44)),new L(28,new T(17,22),new T(1,23)),new L(28,new T(2,14),new T(19,15))),new le(19,Int32Array.from([6,30,58,86]),new L(28,new T(3,113),new T(4,114)),new L(26,new T(3,44),new T(11,45)),new L(26,new T(17,21),new T(4,22)),new L(26,new T(9,13),new T(16,14))),new le(20,Int32Array.from([6,34,62,90]),new L(28,new T(3,107),new T(5,108)),new L(26,new T(3,41),new T(13,42)),new L(30,new T(15,24),new T(5,25)),new L(28,new T(15,15),new T(10,16))),new le(21,Int32Array.from([6,28,50,72,94]),new L(28,new T(4,116),new T(4,117)),new L(26,new T(17,42)),new L(28,new T(17,22),new T(6,23)),new L(30,new T(19,16),new T(6,17))),new le(22,Int32Array.from([6,26,50,74,98]),new L(28,new T(2,111),new T(7,112)),new L(28,new T(17,46)),new L(30,new T(7,24),new T(16,25)),new L(24,new T(34,13))),new le(23,Int32Array.from([6,30,54,78,102]),new L(30,new T(4,121),new T(5,122)),new L(28,new T(4,47),new T(14,48)),new L(30,new T(11,24),new T(14,25)),new L(30,new T(16,15),new T(14,16))),new le(24,Int32Array.from([6,28,54,80,106]),new L(30,new T(6,117),new T(4,118)),new L(28,new T(6,45),new T(14,46)),new L(30,new T(11,24),new T(16,25)),new L(30,new T(30,16),new T(2,17))),new le(25,Int32Array.from([6,32,58,84,110]),new L(26,new T(8,106),new T(4,107)),new L(28,new T(8,47),new T(13,48)),new L(30,new T(7,24),new T(22,25)),new L(30,new T(22,15),new T(13,16))),new le(26,Int32Array.from([6,30,58,86,114]),new L(28,new T(10,114),new T(2,115)),new L(28,new T(19,46),new T(4,47)),new L(28,new T(28,22),new T(6,23)),new L(30,new T(33,16),new T(4,17))),new le(27,Int32Array.from([6,34,62,90,118]),new L(30,new T(8,122),new T(4,123)),new L(28,new T(22,45),new T(3,46)),new L(30,new T(8,23),new T(26,24)),new L(30,new T(12,15),new T(28,16))),new le(28,Int32Array.from([6,26,50,74,98,122]),new L(30,new T(3,117),new T(10,118)),new L(28,new T(3,45),new T(23,46)),new L(30,new T(4,24),new T(31,25)),new L(30,new T(11,15),new T(31,16))),new le(29,Int32Array.from([6,30,54,78,102,126]),new L(30,new T(7,116),new T(7,117)),new L(28,new T(21,45),new T(7,46)),new L(30,new T(1,23),new T(37,24)),new L(30,new T(19,15),new T(26,16))),new le(30,Int32Array.from([6,26,52,78,104,130]),new L(30,new T(5,115),new T(10,116)),new L(28,new T(19,47),new T(10,48)),new L(30,new T(15,24),new T(25,25)),new L(30,new T(23,15),new T(25,16))),new le(31,Int32Array.from([6,30,56,82,108,134]),new L(30,new T(13,115),new T(3,116)),new L(28,new T(2,46),new T(29,47)),new L(30,new T(42,24),new T(1,25)),new L(30,new T(23,15),new T(28,16))),new le(32,Int32Array.from([6,34,60,86,112,138]),new L(30,new T(17,115)),new L(28,new T(10,46),new T(23,47)),new L(30,new T(10,24),new T(35,25)),new L(30,new T(19,15),new T(35,16))),new le(33,Int32Array.from([6,30,58,86,114,142]),new L(30,new T(17,115),new T(1,116)),new L(28,new T(14,46),new T(21,47)),new L(30,new T(29,24),new T(19,25)),new L(30,new T(11,15),new T(46,16))),new le(34,Int32Array.from([6,34,62,90,118,146]),new L(30,new T(13,115),new T(6,116)),new L(28,new T(14,46),new T(23,47)),new L(30,new T(44,24),new T(7,25)),new L(30,new T(59,16),new T(1,17))),new le(35,Int32Array.from([6,30,54,78,102,126,150]),new L(30,new T(12,121),new T(7,122)),new L(28,new T(12,47),new T(26,48)),new L(30,new T(39,24),new T(14,25)),new L(30,new T(22,15),new T(41,16))),new le(36,Int32Array.from([6,24,50,76,102,128,154]),new L(30,new T(6,121),new T(14,122)),new L(28,new T(6,47),new T(34,48)),new L(30,new T(46,24),new T(10,25)),new L(30,new T(2,15),new T(64,16))),new le(37,Int32Array.from([6,28,54,80,106,132,158]),new L(30,new T(17,122),new T(4,123)),new L(28,new T(29,46),new T(14,47)),new L(30,new T(49,24),new T(10,25)),new L(30,new T(24,15),new T(46,16))),new le(38,Int32Array.from([6,32,58,84,110,136,162]),new L(30,new T(4,122),new T(18,123)),new L(28,new T(13,46),new T(32,47)),new L(30,new T(48,24),new T(14,25)),new L(30,new T(42,15),new T(32,16))),new le(39,Int32Array.from([6,26,54,82,110,138,166]),new L(30,new T(20,117),new T(4,118)),new L(28,new T(40,47),new T(7,48)),new L(30,new T(43,24),new T(22,25)),new L(30,new T(10,15),new T(67,16))),new le(40,Int32Array.from([6,30,58,86,114,142,170]),new L(30,new T(19,118),new T(6,119)),new L(28,new T(18,47),new T(31,48)),new L(30,new T(34,24),new T(34,25)),new L(30,new T(20,15),new T(61,16)))];var yt;(function(y){y[y.DATA_MASK_000=0]="DATA_MASK_000",y[y.DATA_MASK_001=1]="DATA_MASK_001",y[y.DATA_MASK_010=2]="DATA_MASK_010",y[y.DATA_MASK_011=3]="DATA_MASK_011",y[y.DATA_MASK_100=4]="DATA_MASK_100",y[y.DATA_MASK_101=5]="DATA_MASK_101",y[y.DATA_MASK_110=6]="DATA_MASK_110",y[y.DATA_MASK_111=7]="DATA_MASK_111"})(yt||(yt={}));class hn{constructor(n,r){this.value=n,this.isMasked=r}unmaskBitMatrix(n,r){for(let o=0;o<r;o++)for(let s=0;s<r;s++)this.isMasked(o,s)&&n.flip(s,o)}}hn.values=new Map([[yt.DATA_MASK_000,new hn(yt.DATA_MASK_000,(y,n)=>(y+n&1)===0)],[yt.DATA_MASK_001,new hn(yt.DATA_MASK_001,(y,n)=>(y&1)===0)],[yt.DATA_MASK_010,new hn(yt.DATA_MASK_010,(y,n)=>n%3===0)],[yt.DATA_MASK_011,new hn(yt.DATA_MASK_011,(y,n)=>(y+n)%3===0)],[yt.DATA_MASK_100,new hn(yt.DATA_MASK_100,(y,n)=>(Math.floor(y/2)+Math.floor(n/3)&1)===0)],[yt.DATA_MASK_101,new hn(yt.DATA_MASK_101,(y,n)=>y*n%6===0)],[yt.DATA_MASK_110,new hn(yt.DATA_MASK_110,(y,n)=>y*n%6<3)],[yt.DATA_MASK_111,new hn(yt.DATA_MASK_111,(y,n)=>(y+n+y*n%3&1)===0)]]);class Xh{constructor(n){const r=n.getHeight();if(r<21||(r&3)!==1)throw new U;this.bitMatrix=n}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let n=0;for(let l=0;l<6;l++)n=this.copyBit(l,8,n);n=this.copyBit(7,8,n),n=this.copyBit(8,8,n),n=this.copyBit(8,7,n);for(let l=5;l>=0;l--)n=this.copyBit(8,l,n);const r=this.bitMatrix.getHeight();let o=0;const s=r-7;for(let l=r-1;l>=s;l--)o=this.copyBit(8,l,o);for(let l=r-8;l<r;l++)o=this.copyBit(l,8,o);if(this.parsedFormatInfo=Dt.decodeFormatInformation(n,o),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new U}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const n=this.bitMatrix.getHeight(),r=Math.floor((n-17)/4);if(r<=6)return le.getVersionForNumber(r);let o=0;const s=n-11;for(let u=5;u>=0;u--)for(let d=n-9;d>=s;d--)o=this.copyBit(d,u,o);let l=le.decodeVersionInformation(o);if(l!==null&&l.getDimensionForVersion()===n)return this.parsedVersion=l,l;o=0;for(let u=5;u>=0;u--)for(let d=n-9;d>=s;d--)o=this.copyBit(u,d,o);if(l=le.decodeVersionInformation(o),l!==null&&l.getDimensionForVersion()===n)return this.parsedVersion=l,l;throw new U}copyBit(n,r,o){return(this.isMirror?this.bitMatrix.get(r,n):this.bitMatrix.get(n,r))?o<<1|1:o<<1}readCodewords(){const n=this.readFormatInformation(),r=this.readVersion(),o=hn.values.get(n.getDataMask()),s=this.bitMatrix.getHeight();o.unmaskBitMatrix(this.bitMatrix,s);const l=r.buildFunctionPattern();let u=!0;const d=new Uint8Array(r.getTotalCodewords());let h=0,p=0,m=0;for(let E=s-1;E>0;E-=2){E===6&&E--;for(let A=0;A<s;A++){const v=u?s-1-A:A;for(let O=0;O<2;O++)l.get(E-O,v)||(m++,p<<=1,this.bitMatrix.get(E-O,v)&&(p|=1),m===8&&(d[h++]=p,m=0,p=0))}u=!u}if(h!==r.getTotalCodewords())throw new U;return d}remask(){if(this.parsedFormatInfo===null)return;const n=hn.values[this.parsedFormatInfo.getDataMask()],r=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,r)}setMirror(n){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=n}mirror(){const n=this.bitMatrix;for(let r=0,o=n.getWidth();r<o;r++)for(let s=r+1,l=n.getHeight();s<l;s++)n.get(r,s)!==n.get(s,r)&&(n.flip(s,r),n.flip(r,s))}}class tl{constructor(n,r){this.numDataCodewords=n,this.codewords=r}static getDataBlocks(n,r,o){if(n.length!==r.getTotalCodewords())throw new I;const s=r.getECBlocksForLevel(o);let l=0;const u=s.getECBlocks();for(const O of u)l+=O.getCount();const d=new Array(l);let h=0;for(const O of u)for(let M=0;M<O.getCount();M++){const b=O.getDataCodewords(),F=s.getECCodewordsPerBlock()+b;d[h++]=new tl(b,new Uint8Array(F))}const p=d[0].codewords.length;let m=d.length-1;for(;m>=0&&d[m].codewords.length!==p;)m--;m++;const E=p-s.getECCodewordsPerBlock();let A=0;for(let O=0;O<E;O++)for(let M=0;M<h;M++)d[M].codewords[O]=n[A++];for(let O=m;O<h;O++)d[O].codewords[E]=n[A++];const v=d[0].codewords.length;for(let O=E;O<v;O++)for(let M=0;M<h;M++){const b=M<m?O:O+1;d[M].codewords[b]=n[A++]}return d}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var gn;(function(y){y[y.TERMINATOR=0]="TERMINATOR",y[y.NUMERIC=1]="NUMERIC",y[y.ALPHANUMERIC=2]="ALPHANUMERIC",y[y.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",y[y.BYTE=4]="BYTE",y[y.ECI=5]="ECI",y[y.KANJI=6]="KANJI",y[y.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",y[y.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",y[y.HANZI=9]="HANZI"})(gn||(gn={}));class ue{constructor(n,r,o,s){this.value=n,this.stringValue=r,this.characterCountBitsForVersions=o,this.bits=s,ue.FOR_BITS.set(s,this),ue.FOR_VALUE.set(n,this)}static forBits(n){const r=ue.FOR_BITS.get(n);if(r===void 0)throw new I;return r}getCharacterCountBits(n){const r=n.getVersionNumber();let o;return r<=9?o=0:r<=26?o=1:o=2,this.characterCountBitsForVersions[o]}getValue(){return this.value}getBits(){return this.bits}equals(n){if(!(n instanceof ue))return!1;const r=n;return this.value===r.value}toString(){return this.stringValue}}ue.FOR_BITS=new Map,ue.FOR_VALUE=new Map,ue.TERMINATOR=new ue(gn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),ue.NUMERIC=new ue(gn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),ue.ALPHANUMERIC=new ue(gn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),ue.STRUCTURED_APPEND=new ue(gn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),ue.BYTE=new ue(gn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),ue.ECI=new ue(gn.ECI,"ECI",Int32Array.from([0,0,0]),7),ue.KANJI=new ue(gn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),ue.FNC1_FIRST_POSITION=new ue(gn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),ue.FNC1_SECOND_POSITION=new ue(gn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),ue.HANZI=new ue(gn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class qe{static decode(n,r,o,s){const l=new el(n);let u=new Se;const d=new Array;let h=-1,p=-1;try{let m=null,E=!1,A;do{if(l.available()<4)A=ue.TERMINATOR;else{const v=l.readBits(4);A=ue.forBits(v)}switch(A){case ue.TERMINATOR:break;case ue.FNC1_FIRST_POSITION:case ue.FNC1_SECOND_POSITION:E=!0;break;case ue.STRUCTURED_APPEND:if(l.available()<16)throw new U;h=l.readBits(8),p=l.readBits(8);break;case ue.ECI:const v=qe.parseECIValue(l);if(m=W.getCharacterSetECIByValue(v),m===null)throw new U;break;case ue.HANZI:const O=l.readBits(4),M=l.readBits(A.getCharacterCountBits(r));O===qe.GB2312_SUBSET&&qe.decodeHanziSegment(l,u,M);break;default:const b=l.readBits(A.getCharacterCountBits(r));switch(A){case ue.NUMERIC:qe.decodeNumericSegment(l,u,b);break;case ue.ALPHANUMERIC:qe.decodeAlphanumericSegment(l,u,b,E);break;case ue.BYTE:qe.decodeByteSegment(l,u,b,m,d,s);break;case ue.KANJI:qe.decodeKanjiSegment(l,u,b);break;default:throw new U}break}}while(A!==ue.TERMINATOR)}catch{throw new U}return new Ji(n,u.toString(),d.length===0?null:d,o===null?null:o.toString(),h,p)}static decodeHanziSegment(n,r,o){if(o*13>n.available())throw new U;const s=new Uint8Array(2*o);let l=0;for(;o>0;){const u=n.readBits(13);let d=u/96<<8&4294967295|u%96;d<959?d+=41377:d+=42657,s[l]=d>>8&255,s[l+1]=d&255,l+=2,o--}try{r.append(Ue.decode(s,ce.GB2312))}catch(u){throw new U(u)}}static decodeKanjiSegment(n,r,o){if(o*13>n.available())throw new U;const s=new Uint8Array(2*o);let l=0;for(;o>0;){const u=n.readBits(13);let d=u/192<<8&4294967295|u%192;d<7936?d+=33088:d+=49472,s[l]=d>>8,s[l+1]=d,l+=2,o--}try{r.append(Ue.decode(s,ce.SHIFT_JIS))}catch(u){throw new U(u)}}static decodeByteSegment(n,r,o,s,l,u){if(8*o>n.available())throw new U;const d=new Uint8Array(o);for(let p=0;p<o;p++)d[p]=n.readBits(8);let h;s===null?h=ce.guessEncoding(d,u):h=s.getName();try{r.append(Ue.decode(d,h))}catch(p){throw new U(p)}l.push(d)}static toAlphaNumericChar(n){if(n>=qe.ALPHANUMERIC_CHARS.length)throw new U;return qe.ALPHANUMERIC_CHARS[n]}static decodeAlphanumericSegment(n,r,o,s){const l=r.length();for(;o>1;){if(n.available()<11)throw new U;const u=n.readBits(11);r.append(qe.toAlphaNumericChar(Math.floor(u/45))),r.append(qe.toAlphaNumericChar(u%45)),o-=2}if(o===1){if(n.available()<6)throw new U;r.append(qe.toAlphaNumericChar(n.readBits(6)))}if(s)for(let u=l;u<r.length();u++)r.charAt(u)==="%"&&(u<r.length()-1&&r.charAt(u+1)==="%"?r.deleteCharAt(u+1):r.setCharAt(u,String.fromCharCode(29)))}static decodeNumericSegment(n,r,o){for(;o>=3;){if(n.available()<10)throw new U;const s=n.readBits(10);if(s>=1e3)throw new U;r.append(qe.toAlphaNumericChar(Math.floor(s/100))),r.append(qe.toAlphaNumericChar(Math.floor(s/10)%10)),r.append(qe.toAlphaNumericChar(s%10)),o-=3}if(o===2){if(n.available()<7)throw new U;const s=n.readBits(7);if(s>=100)throw new U;r.append(qe.toAlphaNumericChar(Math.floor(s/10))),r.append(qe.toAlphaNumericChar(s%10))}else if(o===1){if(n.available()<4)throw new U;const s=n.readBits(4);if(s>=10)throw new U;r.append(qe.toAlphaNumericChar(s))}}static parseECIValue(n){const r=n.readBits(8);if(!(r&128))return r&127;if((r&192)===128){const o=n.readBits(8);return(r&63)<<8&4294967295|o}if((r&224)===192){const o=n.readBits(16);return(r&31)<<16&4294967295|o}throw new U}}qe.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",qe.GB2312_SUBSET=1;class t1{constructor(n){this.mirrored=n}isMirrored(){return this.mirrored}applyMirroredCorrection(n){if(!this.mirrored||n===null||n.length<3)return;const r=n[0];n[0]=n[2],n[2]=r}}class Qh{constructor(){this.rsDecoder=new eo(Oe.QR_CODE_FIELD_256)}decodeBooleanArray(n,r){return this.decodeBitMatrix(at.parseFromBooleanArray(n),r)}decodeBitMatrix(n,r){const o=new Xh(n);let s=null;try{return this.decodeBitMatrixParser(o,r)}catch(l){s=l}try{o.remask(),o.setMirror(!0),o.readVersion(),o.readFormatInformation(),o.mirror();const l=this.decodeBitMatrixParser(o,r);return l.setOther(new t1(!0)),l}catch(l){throw s!==null?s:l}}decodeBitMatrixParser(n,r){const o=n.readVersion(),s=n.readFormatInformation().getErrorCorrectionLevel(),l=n.readCodewords(),u=tl.getDataBlocks(l,o,s);let d=0;for(const m of u)d+=m.getNumDataCodewords();const h=new Uint8Array(d);let p=0;for(const m of u){const E=m.getCodewords(),A=m.getNumDataCodewords();this.correctErrors(E,A);for(let v=0;v<A;v++)h[p++]=E[v]}return qe.decode(h,o,s,r)}correctErrors(n,r){const o=new Int32Array(n);try{this.rsDecoder.decode(o,n.length-r)}catch{throw new z}for(let s=0;s<r;s++)n[s]=o[s]}}class nl extends se{constructor(n,r,o){super(n,r),this.estimatedModuleSize=o}aboutEquals(n,r,o){if(Math.abs(r-this.getY())<=n&&Math.abs(o-this.getX())<=n){const s=Math.abs(n-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1}combineEstimate(n,r,o){const s=(this.getX()+r)/2,l=(this.getY()+n)/2,u=(this.estimatedModuleSize+o)/2;return new nl(s,l,u)}}class gs{constructor(n,r,o,s,l,u,d){this.image=n,this.startX=r,this.startY=o,this.width=s,this.height=l,this.moduleSize=u,this.resultPointCallback=d,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const n=this.startX,r=this.height,o=this.width,s=n+o,l=this.startY+r/2,u=new Int32Array(3),d=this.image;for(let h=0;h<r;h++){const p=l+(h&1?-Math.floor((h+1)/2):Math.floor((h+1)/2));u[0]=0,u[1]=0,u[2]=0;let m=n;for(;m<s&&!d.get(m,p);)m++;let E=0;for(;m<s;){if(d.get(m,p))if(E===1)u[1]++;else if(E===2){if(this.foundPatternCross(u)){const A=this.handlePossibleCenter(u,p,m);if(A!==null)return A}u[0]=u[2],u[1]=1,u[2]=0,E=1}else u[++E]++;else E===1&&E++,u[E]++;m++}if(this.foundPatternCross(u)){const A=this.handlePossibleCenter(u,p,s);if(A!==null)return A}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new H}static centerFromEnd(n,r){return r-n[2]-n[1]/2}foundPatternCross(n){const r=this.moduleSize,o=r/2;for(let s=0;s<3;s++)if(Math.abs(r-n[s])>=o)return!1;return!0}crossCheckVertical(n,r,o,s){const l=this.image,u=l.getHeight(),d=this.crossCheckStateCount;d[0]=0,d[1]=0,d[2]=0;let h=n;for(;h>=0&&l.get(r,h)&&d[1]<=o;)d[1]++,h--;if(h<0||d[1]>o)return NaN;for(;h>=0&&!l.get(r,h)&&d[0]<=o;)d[0]++,h--;if(d[0]>o)return NaN;for(h=n+1;h<u&&l.get(r,h)&&d[1]<=o;)d[1]++,h++;if(h===u||d[1]>o)return NaN;for(;h<u&&!l.get(r,h)&&d[2]<=o;)d[2]++,h++;if(d[2]>o)return NaN;const p=d[0]+d[1]+d[2];return 5*Math.abs(p-s)>=2*s?NaN:this.foundPatternCross(d)?gs.centerFromEnd(d,h):NaN}handlePossibleCenter(n,r,o){const s=n[0]+n[1]+n[2],l=gs.centerFromEnd(n,o),u=this.crossCheckVertical(r,l,2*n[1],s);if(!isNaN(u)){const d=(n[0]+n[1]+n[2])/3;for(const p of this.possibleCenters)if(p.aboutEquals(d,u,l))return p.combineEstimate(u,l,d);const h=new nl(l,u,d);this.possibleCenters.push(h),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(h)}return null}}class rl extends se{constructor(n,r,o,s){super(n,r),this.estimatedModuleSize=o,this.count=s,s===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(n,r,o){if(Math.abs(r-this.getY())<=n&&Math.abs(o-this.getX())<=n){const s=Math.abs(n-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1}combineEstimate(n,r,o){const s=this.count+1,l=(this.count*this.getX()+r)/s,u=(this.count*this.getY()+n)/s,d=(this.count*this.estimatedModuleSize+o)/s;return new rl(l,u,d,s)}}class Zh{constructor(n){this.bottomLeft=n[0],this.topLeft=n[1],this.topRight=n[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Et{constructor(n,r){this.image=n,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(n){const r=n!=null&&n.get(K.TRY_HARDER)!==void 0,o=n!=null&&n.get(K.PURE_BARCODE)!==void 0,s=this.image,l=s.getHeight(),u=s.getWidth();let d=Math.floor(3*l/(4*Et.MAX_MODULES));(d<Et.MIN_SKIP||r)&&(d=Et.MIN_SKIP);let h=!1;const p=new Int32Array(5);for(let E=d-1;E<l&&!h;E+=d){p[0]=0,p[1]=0,p[2]=0,p[3]=0,p[4]=0;let A=0;for(let v=0;v<u;v++)if(s.get(v,E))(A&1)===1&&A++,p[A]++;else if(A&1)p[A]++;else if(A===4)if(Et.foundPatternCross(p)){if(this.handlePossibleCenter(p,E,v,o)===!0)if(d=2,this.hasSkipped===!0)h=this.haveMultiplyConfirmedCenters();else{const M=this.findRowSkip();M>p[2]&&(E+=M-p[2]-d,v=u-1)}else{p[0]=p[2],p[1]=p[3],p[2]=p[4],p[3]=1,p[4]=0,A=3;continue}A=0,p[0]=0,p[1]=0,p[2]=0,p[3]=0,p[4]=0}else p[0]=p[2],p[1]=p[3],p[2]=p[4],p[3]=1,p[4]=0,A=3;else p[++A]++;Et.foundPatternCross(p)&&this.handlePossibleCenter(p,E,u,o)===!0&&(d=p[0],this.hasSkipped&&(h=this.haveMultiplyConfirmedCenters()))}const m=this.selectBestPatterns();return se.orderBestPatterns(m),new Zh(m)}static centerFromEnd(n,r){return r-n[4]-n[3]-n[2]/2}static foundPatternCross(n){let r=0;for(let l=0;l<5;l++){const u=n[l];if(u===0)return!1;r+=u}if(r<7)return!1;const o=r/7,s=o/2;return Math.abs(o-n[0])<s&&Math.abs(o-n[1])<s&&Math.abs(3*o-n[2])<3*s&&Math.abs(o-n[3])<s&&Math.abs(o-n[4])<s}getCrossCheckStateCount(){const n=this.crossCheckStateCount;return n[0]=0,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n}crossCheckDiagonal(n,r,o,s){const l=this.getCrossCheckStateCount();let u=0;const d=this.image;for(;n>=u&&r>=u&&d.get(r-u,n-u);)l[2]++,u++;if(n<u||r<u)return!1;for(;n>=u&&r>=u&&!d.get(r-u,n-u)&&l[1]<=o;)l[1]++,u++;if(n<u||r<u||l[1]>o)return!1;for(;n>=u&&r>=u&&d.get(r-u,n-u)&&l[0]<=o;)l[0]++,u++;if(l[0]>o)return!1;const h=d.getHeight(),p=d.getWidth();for(u=1;n+u<h&&r+u<p&&d.get(r+u,n+u);)l[2]++,u++;if(n+u>=h||r+u>=p)return!1;for(;n+u<h&&r+u<p&&!d.get(r+u,n+u)&&l[3]<o;)l[3]++,u++;if(n+u>=h||r+u>=p||l[3]>=o)return!1;for(;n+u<h&&r+u<p&&d.get(r+u,n+u)&&l[4]<o;)l[4]++,u++;if(l[4]>=o)return!1;const m=l[0]+l[1]+l[2]+l[3]+l[4];return Math.abs(m-s)<2*s&&Et.foundPatternCross(l)}crossCheckVertical(n,r,o,s){const l=this.image,u=l.getHeight(),d=this.getCrossCheckStateCount();let h=n;for(;h>=0&&l.get(r,h);)d[2]++,h--;if(h<0)return NaN;for(;h>=0&&!l.get(r,h)&&d[1]<=o;)d[1]++,h--;if(h<0||d[1]>o)return NaN;for(;h>=0&&l.get(r,h)&&d[0]<=o;)d[0]++,h--;if(d[0]>o)return NaN;for(h=n+1;h<u&&l.get(r,h);)d[2]++,h++;if(h===u)return NaN;for(;h<u&&!l.get(r,h)&&d[3]<o;)d[3]++,h++;if(h===u||d[3]>=o)return NaN;for(;h<u&&l.get(r,h)&&d[4]<o;)d[4]++,h++;if(d[4]>=o)return NaN;const p=d[0]+d[1]+d[2]+d[3]+d[4];return 5*Math.abs(p-s)>=2*s?NaN:Et.foundPatternCross(d)?Et.centerFromEnd(d,h):NaN}crossCheckHorizontal(n,r,o,s){const l=this.image,u=l.getWidth(),d=this.getCrossCheckStateCount();let h=n;for(;h>=0&&l.get(h,r);)d[2]++,h--;if(h<0)return NaN;for(;h>=0&&!l.get(h,r)&&d[1]<=o;)d[1]++,h--;if(h<0||d[1]>o)return NaN;for(;h>=0&&l.get(h,r)&&d[0]<=o;)d[0]++,h--;if(d[0]>o)return NaN;for(h=n+1;h<u&&l.get(h,r);)d[2]++,h++;if(h===u)return NaN;for(;h<u&&!l.get(h,r)&&d[3]<o;)d[3]++,h++;if(h===u||d[3]>=o)return NaN;for(;h<u&&l.get(h,r)&&d[4]<o;)d[4]++,h++;if(d[4]>=o)return NaN;const p=d[0]+d[1]+d[2]+d[3]+d[4];return 5*Math.abs(p-s)>=s?NaN:Et.foundPatternCross(d)?Et.centerFromEnd(d,h):NaN}handlePossibleCenter(n,r,o,s){const l=n[0]+n[1]+n[2]+n[3]+n[4];let u=Et.centerFromEnd(n,o),d=this.crossCheckVertical(r,Math.floor(u),n[2],l);if(!isNaN(d)&&(u=this.crossCheckHorizontal(Math.floor(u),Math.floor(d),n[2],l),!isNaN(u)&&(!s||this.crossCheckDiagonal(Math.floor(d),Math.floor(u),n[2],l)))){const h=l/7;let p=!1;const m=this.possibleCenters;for(let E=0,A=m.length;E<A;E++){const v=m[E];if(v.aboutEquals(h,d,u)){m[E]=v.combineEstimate(d,u,h),p=!0;break}}if(!p){const E=new rl(u,d,h);m.push(E),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(E)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let r=null;for(const o of this.possibleCenters)if(o.getCount()>=Et.CENTER_QUORUM)if(r==null)r=o;else return this.hasSkipped=!0,Math.floor((Math.abs(r.getX()-o.getX())-Math.abs(r.getY()-o.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let n=0,r=0;const o=this.possibleCenters.length;for(const u of this.possibleCenters)u.getCount()>=Et.CENTER_QUORUM&&(n++,r+=u.getEstimatedModuleSize());if(n<3)return!1;const s=r/o;let l=0;for(const u of this.possibleCenters)l+=Math.abs(u.getEstimatedModuleSize()-s);return l<=.05*r}selectBestPatterns(){const n=this.possibleCenters.length;if(n<3)throw new H;const r=this.possibleCenters;let o;if(n>3){let s=0,l=0;for(const h of this.possibleCenters){const p=h.getEstimatedModuleSize();s+=p,l+=p*p}o=s/n;let u=Math.sqrt(l/n-o*o);r.sort((h,p)=>{const m=Math.abs(p.getEstimatedModuleSize()-o),E=Math.abs(h.getEstimatedModuleSize()-o);return m<E?-1:m>E?1:0});const d=Math.max(.2*o,u);for(let h=0;h<r.length&&r.length>3;h++){const p=r[h];Math.abs(p.getEstimatedModuleSize()-o)>d&&(r.splice(h,1),h--)}}if(r.length>3){let s=0;for(const l of r)s+=l.getEstimatedModuleSize();o=s/r.length,r.sort((l,u)=>{if(u.getCount()===l.getCount()){const d=Math.abs(u.getEstimatedModuleSize()-o),h=Math.abs(l.getEstimatedModuleSize()-o);return d<h?1:d>h?-1:0}else return u.getCount()-l.getCount()}),r.splice(3)}return[r[0],r[1],r[2]]}}Et.CENTER_QUORUM=2,Et.MIN_SKIP=3,Et.MAX_MODULES=57;class no{constructor(n){this.image=n}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(n){this.resultPointCallback=n==null?null:n.get(K.NEED_RESULT_POINT_CALLBACK);const o=new Et(this.image,this.resultPointCallback).find(n);return this.processFinderPatternInfo(o)}processFinderPatternInfo(n){const r=n.getTopLeft(),o=n.getTopRight(),s=n.getBottomLeft(),l=this.calculateModuleSize(r,o,s);if(l<1)throw new H("No pattern found in proccess finder.");const u=no.computeDimension(r,o,s,l),d=le.getProvisionalVersionForDimension(u),h=d.getDimensionForVersion()-7;let p=null;if(d.getAlignmentPatternCenters().length>0){const v=o.getX()-r.getX()+s.getX(),O=o.getY()-r.getY()+s.getY(),M=1-3/h,b=Math.floor(r.getX()+M*(v-r.getX())),F=Math.floor(r.getY()+M*(O-r.getY()));for(let Q=4;Q<=16;Q<<=1)try{p=this.findAlignmentInRegion(l,b,F,Q);break}catch(Z){if(!(Z instanceof H))throw Z}}const m=no.createTransform(r,o,s,p,u),E=no.sampleGrid(this.image,m,u);let A;return p===null?A=[s,r,o]:A=[s,r,o,p],new us(E,A)}static createTransform(n,r,o,s,l){const u=l-3.5;let d,h,p,m;return s!==null?(d=s.getX(),h=s.getY(),p=u-3,m=p):(d=r.getX()-n.getX()+o.getX(),h=r.getY()-n.getY()+o.getY(),p=u,m=u),In.quadrilateralToQuadrilateral(3.5,3.5,u,3.5,p,m,3.5,u,n.getX(),n.getY(),r.getX(),r.getY(),d,h,o.getX(),o.getY())}static sampleGrid(n,r,o){return hr.getInstance().sampleGridWithTransform(n,o,o,r)}static computeDimension(n,r,o,s){const l=ve.round(se.distance(n,r)/s),u=ve.round(se.distance(n,o)/s);let d=Math.floor((l+u)/2)+7;switch(d&3){case 0:d++;break;case 2:d--;break;case 3:throw new H("Dimensions could be not found.")}return d}calculateModuleSize(n,r,o){return(this.calculateModuleSizeOneWay(n,r)+this.calculateModuleSizeOneWay(n,o))/2}calculateModuleSizeOneWay(n,r){const o=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(n.getX()),Math.floor(n.getY()),Math.floor(r.getX()),Math.floor(r.getY())),s=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(n.getX()),Math.floor(n.getY()));return isNaN(o)?s/7:isNaN(s)?o/7:(o+s)/14}sizeOfBlackWhiteBlackRunBothWays(n,r,o,s){let l=this.sizeOfBlackWhiteBlackRun(n,r,o,s),u=1,d=n-(o-n);d<0?(u=n/(n-d),d=0):d>=this.image.getWidth()&&(u=(this.image.getWidth()-1-n)/(d-n),d=this.image.getWidth()-1);let h=Math.floor(r-(s-r)*u);return u=1,h<0?(u=r/(r-h),h=0):h>=this.image.getHeight()&&(u=(this.image.getHeight()-1-r)/(h-r),h=this.image.getHeight()-1),d=Math.floor(n+(d-n)*u),l+=this.sizeOfBlackWhiteBlackRun(n,r,d,h),l-1}sizeOfBlackWhiteBlackRun(n,r,o,s){const l=Math.abs(s-r)>Math.abs(o-n);if(l){let v=n;n=r,r=v,v=o,o=s,s=v}const u=Math.abs(o-n),d=Math.abs(s-r);let h=-u/2;const p=n<o?1:-1,m=r<s?1:-1;let E=0;const A=o+p;for(let v=n,O=r;v!==A;v+=p){const M=l?O:v,b=l?v:O;if(E===1===this.image.get(M,b)){if(E===2)return ve.distance(v,O,n,r);E++}if(h+=d,h>0){if(O===s)break;O+=m,h-=u}}return E===2?ve.distance(o+p,s,n,r):NaN}findAlignmentInRegion(n,r,o,s){const l=Math.floor(s*n),u=Math.max(0,r-l),d=Math.min(this.image.getWidth()-1,r+l);if(d-u<n*3)throw new H("Alignment top exceeds estimated module size.");const h=Math.max(0,o-l),p=Math.min(this.image.getHeight()-1,o+l);if(p-h<n*3)throw new H("Alignment bottom exceeds estimated module size.");return new gs(this.image,u,h,d-u,p-h,n,this.resultPointCallback).find()}}class mr{constructor(){this.decoder=new Qh}getDecoder(){return this.decoder}decode(n,r){let o,s;if(r!=null&&r.get(K.PURE_BARCODE)!==void 0){const h=mr.extractPureBits(n.getBlackMatrix());o=this.decoder.decodeBitMatrix(h,r),s=mr.NO_POINTS}else{const h=new no(n.getBlackMatrix()).detect(r);o=this.decoder.decodeBitMatrix(h.getBits(),r),s=h.getPoints()}o.getOther()instanceof t1&&o.getOther().applyMirroredCorrection(s);const l=new Ke(o.getText(),o.getRawBytes(),void 0,s,ae.QR_CODE,void 0),u=o.getByteSegments();u!==null&&l.putMetadata(wt.BYTE_SEGMENTS,u);const d=o.getECLevel();return d!==null&&l.putMetadata(wt.ERROR_CORRECTION_LEVEL,d),o.hasStructuredAppend()&&(l.putMetadata(wt.STRUCTURED_APPEND_SEQUENCE,o.getStructuredAppendSequenceNumber()),l.putMetadata(wt.STRUCTURED_APPEND_PARITY,o.getStructuredAppendParity())),l}reset(){}static extractPureBits(n){const r=n.getTopLeftOnBit(),o=n.getBottomRightOnBit();if(r===null||o===null)throw new H;const s=this.moduleSize(r,n);let l=r[1],u=o[1],d=r[0],h=o[0];if(d>=h||l>=u)throw new H;if(u-l!==h-d&&(h=d+(u-l),h>=n.getWidth()))throw new H;const p=Math.round((h-d+1)/s),m=Math.round((u-l+1)/s);if(p<=0||m<=0)throw new H;if(m!==p)throw new H;const E=Math.floor(s/2);l+=E,d+=E;const A=d+Math.floor((p-1)*s)-h;if(A>0){if(A>E)throw new H;d-=A}const v=l+Math.floor((m-1)*s)-u;if(v>0){if(v>E)throw new H;l-=v}const O=new at(p,m);for(let M=0;M<m;M++){const b=l+Math.floor(M*s);for(let F=0;F<p;F++)n.get(d+Math.floor(F*s),b)&&O.set(F,M)}return O}static moduleSize(n,r){const o=r.getHeight(),s=r.getWidth();let l=n[0],u=n[1],d=!0,h=0;for(;l<s&&u<o;){if(d!==r.get(l,u)){if(++h===5)break;d=!d}l++,u++}if(l===s||u===o)throw new H;return(l-n[0])/7}}mr.NO_POINTS=new Array;class he{PDF417Common(){}static getBitCountSum(n){return ve.sum(n)}static toIntArray(n){if(n==null||!n.length)return he.EMPTY_INT_ARRAY;const r=new Int32Array(n.length);let o=0;for(const s of n)r[o++]=s;return r}static getCodeword(n){const r=N.binarySearch(he.SYMBOL_TABLE,n&262143);return r<0?-1:(he.CODEWORD_TABLE[r]-1)%he.NUMBER_OF_CODEWORDS}}he.NUMBER_OF_CODEWORDS=929,he.MAX_CODEWORDS_IN_BARCODE=he.NUMBER_OF_CODEWORDS-1,he.MIN_ROWS_IN_BARCODE=3,he.MAX_ROWS_IN_BARCODE=90,he.MODULES_IN_CODEWORD=17,he.MODULES_IN_STOP_PATTERN=18,he.BARS_IN_MODULE=8,he.EMPTY_INT_ARRAY=new Int32Array([]),he.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),he.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Kh{constructor(n,r){this.bits=n,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class we{static detectMultiple(n,r,o){let s=n.getBlackMatrix(),l=we.detect(o,s);return l.length||(s=s.clone(),s.rotate180(),l=we.detect(o,s)),new Kh(s,l)}static detect(n,r){const o=new Array;let s=0,l=0,u=!1;for(;s<r.getHeight();){const d=we.findVertices(r,s,l);if(d[0]==null&&d[3]==null){if(!u)break;u=!1,l=0;for(const h of o)h[1]!=null&&(s=Math.trunc(Math.max(s,h[1].getY()))),h[3]!=null&&(s=Math.max(s,Math.trunc(h[3].getY())));s+=we.ROW_STEP;continue}if(u=!0,o.push(d),!n)break;d[2]!=null?(l=Math.trunc(d[2].getX()),s=Math.trunc(d[2].getY())):(l=Math.trunc(d[4].getX()),s=Math.trunc(d[4].getY()))}return o}static findVertices(n,r,o){const s=n.getHeight(),l=n.getWidth(),u=new Array(8);return we.copyToResult(u,we.findRowsWithPattern(n,s,l,r,o,we.START_PATTERN),we.INDEXES_START_PATTERN),u[4]!=null&&(o=Math.trunc(u[4].getX()),r=Math.trunc(u[4].getY())),we.copyToResult(u,we.findRowsWithPattern(n,s,l,r,o,we.STOP_PATTERN),we.INDEXES_STOP_PATTERN),u}static copyToResult(n,r,o){for(let s=0;s<o.length;s++)n[o[s]]=r[s]}static findRowsWithPattern(n,r,o,s,l,u){const d=new Array(4);let h=!1;const p=new Int32Array(u.length);for(;s<r;s+=we.ROW_STEP){let E=we.findGuardPattern(n,l,s,o,!1,u,p);if(E!=null){for(;s>0;){const A=we.findGuardPattern(n,l,--s,o,!1,u,p);if(A!=null)E=A;else{s++;break}}d[0]=new se(E[0],s),d[1]=new se(E[1],s),h=!0;break}}let m=s+1;if(h){let E=0,A=Int32Array.from([Math.trunc(d[0].getX()),Math.trunc(d[1].getX())]);for(;m<r;m++){const v=we.findGuardPattern(n,A[0],m,o,!1,u,p);if(v!=null&&Math.abs(A[0]-v[0])<we.MAX_PATTERN_DRIFT&&Math.abs(A[1]-v[1])<we.MAX_PATTERN_DRIFT)A=v,E=0;else{if(E>we.SKIPPED_ROW_COUNT_MAX)break;E++}}m-=E+1,d[2]=new se(A[0],m),d[3]=new se(A[1],m)}return m-s<we.BARCODE_MIN_HEIGHT&&N.fill(d,null),d}static findGuardPattern(n,r,o,s,l,u,d){N.fillWithin(d,0,d.length,0);let h=r,p=0;for(;n.get(h,o)&&h>0&&p++<we.MAX_PIXEL_DRIFT;)h--;let m=h,E=0,A=u.length;for(let v=l;m<s;m++)if(n.get(m,o)!==v)d[E]++;else{if(E===A-1){if(we.patternMatchVariance(d,u,we.MAX_INDIVIDUAL_VARIANCE)<we.MAX_AVG_VARIANCE)return new Int32Array([h,m]);h+=d[0]+d[1],B.arraycopy(d,2,d,0,E-1),d[E-1]=0,d[E]=0,E--}else E++;d[E]=1,v=!v}return E===A-1&&we.patternMatchVariance(d,u,we.MAX_INDIVIDUAL_VARIANCE)<we.MAX_AVG_VARIANCE?new Int32Array([h,m-1]):null}static patternMatchVariance(n,r,o){let s=n.length,l=0,u=0;for(let p=0;p<s;p++)l+=n[p],u+=r[p];if(l<u)return 1/0;let d=l/u;o*=d;let h=0;for(let p=0;p<s;p++){let m=n[p],E=r[p]*d,A=m>E?m-E:E-m;if(A>o)return 1/0;h+=A}return h/l}}we.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),we.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),we.MAX_AVG_VARIANCE=.42,we.MAX_INDIVIDUAL_VARIANCE=.8,we.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),we.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),we.MAX_PIXEL_DRIFT=3,we.MAX_PATTERN_DRIFT=5,we.SKIPPED_ROW_COUNT_MAX=25,we.ROW_STEP=5,we.BARCODE_MIN_HEIGHT=10;class It{constructor(n,r){if(r.length===0)throw new I;this.field=n;let o=r.length;if(o>1&&r[0]===0){let s=1;for(;s<o&&r[s]===0;)s++;s===o?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(o-s),B.arraycopy(r,s,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(n){return this.coefficients[this.coefficients.length-1-n]}evaluateAt(n){if(n===0)return this.getCoefficient(0);if(n===1){let s=0;for(let l of this.coefficients)s=this.field.add(s,l);return s}let r=this.coefficients[0],o=this.coefficients.length;for(let s=1;s<o;s++)r=this.field.add(this.field.multiply(n,r),this.coefficients[s]);return r}add(n){if(!this.field.equals(n.field))throw new I("ModulusPolys do not have same ModulusGF field");if(this.isZero())return n;if(n.isZero())return this;let r=this.coefficients,o=n.coefficients;if(r.length>o.length){let u=r;r=o,o=u}let s=new Int32Array(o.length),l=o.length-r.length;B.arraycopy(o,0,s,0,l);for(let u=l;u<o.length;u++)s[u]=this.field.add(r[u-l],o[u]);return new It(this.field,s)}subtract(n){if(!this.field.equals(n.field))throw new I("ModulusPolys do not have same ModulusGF field");return n.isZero()?this:this.add(n.negative())}multiply(n){return n instanceof It?this.multiplyOther(n):this.multiplyScalar(n)}multiplyOther(n){if(!this.field.equals(n.field))throw new I("ModulusPolys do not have same ModulusGF field");if(this.isZero()||n.isZero())return new It(this.field,new Int32Array([0]));let r=this.coefficients,o=r.length,s=n.coefficients,l=s.length,u=new Int32Array(o+l-1);for(let d=0;d<o;d++){let h=r[d];for(let p=0;p<l;p++)u[d+p]=this.field.add(u[d+p],this.field.multiply(h,s[p]))}return new It(this.field,u)}negative(){let n=this.coefficients.length,r=new Int32Array(n);for(let o=0;o<n;o++)r[o]=this.field.subtract(0,this.coefficients[o]);return new It(this.field,r)}multiplyScalar(n){if(n===0)return new It(this.field,new Int32Array([0]));if(n===1)return this;let r=this.coefficients.length,o=new Int32Array(r);for(let s=0;s<r;s++)o[s]=this.field.multiply(this.coefficients[s],n);return new It(this.field,o)}multiplyByMonomial(n,r){if(n<0)throw new I;if(r===0)return new It(this.field,new Int32Array([0]));let o=this.coefficients.length,s=new Int32Array(o+n);for(let l=0;l<o;l++)s[l]=this.field.multiply(this.coefficients[l],r);return new It(this.field,s)}toString(){let n=new Se;for(let r=this.getDegree();r>=0;r--){let o=this.getCoefficient(r);o!==0&&(o<0?(n.append(" - "),o=-o):n.length()>0&&n.append(" + "),(r===0||o!==1)&&n.append(o),r!==0&&(r===1?n.append("x"):(n.append("x^"),n.append(r))))}return n.toString()}}class qh{add(n,r){return(n+r)%this.modulus}subtract(n,r){return(this.modulus+n-r)%this.modulus}exp(n){return this.expTable[n]}log(n){if(n===0)throw new I;return this.logTable[n]}inverse(n){if(n===0)throw new as;return this.expTable[this.modulus-this.logTable[n]-1]}multiply(n,r){return n===0||r===0?0:this.expTable[(this.logTable[n]+this.logTable[r])%(this.modulus-1)]}getSize(){return this.modulus}equals(n){return n===this}}class il extends qh{constructor(n,r){super(),this.modulus=n,this.expTable=new Int32Array(n),this.logTable=new Int32Array(n);let o=1;for(let s=0;s<n;s++)this.expTable[s]=o,o=o*r%n;for(let s=0;s<n-1;s++)this.logTable[this.expTable[s]]=s;this.zero=new It(this,new Int32Array([0])),this.one=new It(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(n,r){if(n<0)throw new I;if(r===0)return this.zero;let o=new Int32Array(n+1);return o[0]=r,new It(this,o)}}il.PDF417_GF=new il(he.NUMBER_OF_CODEWORDS,3);class n1{constructor(){this.field=il.PDF417_GF}decode(n,r,o){let s=new It(this.field,n),l=new Int32Array(r),u=!1;for(let O=r;O>0;O--){let M=s.evaluateAt(this.field.exp(O));l[r-O]=M,M!==0&&(u=!0)}if(!u)return 0;let d=this.field.getOne();if(o!=null)for(const O of o){let M=this.field.exp(n.length-1-O),b=new It(this.field,new Int32Array([this.field.subtract(0,M),1]));d=d.multiply(b)}let h=new It(this.field,l),p=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),h,r),m=p[0],E=p[1],A=this.findErrorLocations(m),v=this.findErrorMagnitudes(E,m,A);for(let O=0;O<A.length;O++){let M=n.length-1-this.field.log(A[O]);if(M<0)throw z.getChecksumInstance();n[M]=this.field.subtract(n[M],v[O])}return A.length}runEuclideanAlgorithm(n,r,o){if(n.getDegree()<r.getDegree()){let A=n;n=r,r=A}let s=n,l=r,u=this.field.getZero(),d=this.field.getOne();for(;l.getDegree()>=Math.round(o/2);){let A=s,v=u;if(s=l,u=d,s.isZero())throw z.getChecksumInstance();l=A;let O=this.field.getZero(),M=s.getCoefficient(s.getDegree()),b=this.field.inverse(M);for(;l.getDegree()>=s.getDegree()&&!l.isZero();){let F=l.getDegree()-s.getDegree(),Q=this.field.multiply(l.getCoefficient(l.getDegree()),b);O=O.add(this.field.buildMonomial(F,Q)),l=l.subtract(s.multiplyByMonomial(F,Q))}d=O.multiply(u).subtract(v).negative()}let h=d.getCoefficient(0);if(h===0)throw z.getChecksumInstance();let p=this.field.inverse(h),m=d.multiply(p),E=l.multiply(p);return[m,E]}findErrorLocations(n){let r=n.getDegree(),o=new Int32Array(r),s=0;for(let l=1;l<this.field.getSize()&&s<r;l++)n.evaluateAt(l)===0&&(o[s]=this.field.inverse(l),s++);if(s!==r)throw z.getChecksumInstance();return o}findErrorMagnitudes(n,r,o){let s=r.getDegree(),l=new Int32Array(s);for(let p=1;p<=s;p++)l[s-p]=this.field.multiply(p,r.getCoefficient(p));let u=new It(this.field,l),d=o.length,h=new Int32Array(d);for(let p=0;p<d;p++){let m=this.field.inverse(o[p]),E=this.field.subtract(0,n.evaluateAt(m)),A=this.field.inverse(u.evaluateAt(m));h[p]=this.field.multiply(E,A)}return h}}class Yr{constructor(n,r,o,s,l){n instanceof Yr?this.constructor_2(n):this.constructor_1(n,r,o,s,l)}constructor_1(n,r,o,s,l){const u=r==null||o==null,d=s==null||l==null;if(u&&d)throw new H;u?(r=new se(0,s.getY()),o=new se(0,l.getY())):d&&(s=new se(n.getWidth()-1,r.getY()),l=new se(n.getWidth()-1,o.getY())),this.image=n,this.topLeft=r,this.bottomLeft=o,this.topRight=s,this.bottomRight=l,this.minX=Math.trunc(Math.min(r.getX(),o.getX())),this.maxX=Math.trunc(Math.max(s.getX(),l.getX())),this.minY=Math.trunc(Math.min(r.getY(),s.getY())),this.maxY=Math.trunc(Math.max(o.getY(),l.getY()))}constructor_2(n){this.image=n.image,this.topLeft=n.getTopLeft(),this.bottomLeft=n.getBottomLeft(),this.topRight=n.getTopRight(),this.bottomRight=n.getBottomRight(),this.minX=n.getMinX(),this.maxX=n.getMaxX(),this.minY=n.getMinY(),this.maxY=n.getMaxY()}static merge(n,r){return n==null?r:r==null?n:new Yr(n.image,n.topLeft,n.bottomLeft,r.topRight,r.bottomRight)}addMissingRows(n,r,o){let s=this.topLeft,l=this.bottomLeft,u=this.topRight,d=this.bottomRight;if(n>0){let h=o?this.topLeft:this.topRight,p=Math.trunc(h.getY()-n);p<0&&(p=0);let m=new se(h.getX(),p);o?s=m:u=m}if(r>0){let h=o?this.bottomLeft:this.bottomRight,p=Math.trunc(h.getY()+r);p>=this.image.getHeight()&&(p=this.image.getHeight()-1);let m=new se(h.getX(),p);o?l=m:d=m}return new Yr(this.image,s,l,u,d)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Jh{constructor(n,r,o,s){this.columnCount=n,this.errorCorrectionLevel=s,this.rowCountUpperPart=r,this.rowCountLowerPart=o,this.rowCount=r+o}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class ro{constructor(){this.buffer=""}static form(n,r){let o=-1;function s(u,d,h,p,m,E){if(u==="%%")return"%";if(r[++o]===void 0)return;u=p?parseInt(p.substr(1)):void 0;let A=m?parseInt(m.substr(1)):void 0,v;switch(E){case"s":v=r[o];break;case"c":v=r[o][0];break;case"f":v=parseFloat(r[o]).toFixed(u);break;case"p":v=parseFloat(r[o]).toPrecision(u);break;case"e":v=parseFloat(r[o]).toExponential(u);break;case"x":v=parseInt(r[o]).toString(A||16);break;case"d":v=parseFloat(parseInt(r[o],A||10).toPrecision(u)).toFixed(0);break}v=typeof v=="object"?JSON.stringify(v):(+v).toString(A);let O=parseInt(h),M=h&&h[0]+""=="0"?"0":" ";for(;v.length<O;)v=d!==void 0?v+M:M+v;return v}let l=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return n.replace(l,s)}format(n,...r){this.buffer+=ro.form(n,r)}toString(){return this.buffer}}class io{constructor(n){this.boundingBox=new Yr(n),this.codewords=new Array(n.getMaxY()-n.getMinY()+1)}getCodewordNearby(n){let r=this.getCodeword(n);if(r!=null)return r;for(let o=1;o<io.MAX_NEARBY_DISTANCE;o++){let s=this.imageRowToCodewordIndex(n)-o;if(s>=0&&(r=this.codewords[s],r!=null)||(s=this.imageRowToCodewordIndex(n)+o,s<this.codewords.length&&(r=this.codewords[s],r!=null)))return r}return null}imageRowToCodewordIndex(n){return n-this.boundingBox.getMinY()}setCodeword(n,r){this.codewords[this.imageRowToCodewordIndex(n)]=r}getCodeword(n){return this.codewords[this.imageRowToCodewordIndex(n)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const n=new ro;let r=0;for(const o of this.codewords){if(o==null){n.format("%3d:    |   %n",r++);continue}n.format("%3d: %3d|%3d%n",r++,o.getRowNumber(),o.getValue())}return n.toString()}}io.MAX_NEARBY_DISTANCE=5;class oo{constructor(){this.values=new Map}setValue(n){n=Math.trunc(n);let r=this.values.get(n);r==null&&(r=0),r++,this.values.set(n,r)}getValue(){let n=-1,r=new Array;for(const[o,s]of this.values.entries()){const l={getKey:()=>o,getValue:()=>s};l.getValue()>n?(n=l.getValue(),r=[],r.push(l.getKey())):l.getValue()===n&&r.push(l.getKey())}return he.toIntArray(r)}getConfidence(n){return this.values.get(n)}}class r1 extends io{constructor(n,r){super(n),this._isLeft=r}setRowNumbers(){for(let n of this.getCodewords())n!=null&&n.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(n){let r=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(r,n);let o=this.getBoundingBox(),s=this._isLeft?o.getTopLeft():o.getTopRight(),l=this._isLeft?o.getBottomLeft():o.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(s.getY())),d=this.imageRowToCodewordIndex(Math.trunc(l.getY())),h=-1,p=1,m=0;for(let E=u;E<d;E++){if(r[E]==null)continue;let A=r[E],v=A.getRowNumber()-h;if(v===0)m++;else if(v===1)p=Math.max(p,m),m=1,h=A.getRowNumber();else if(v<0||A.getRowNumber()>=n.getRowCount()||v>E)r[E]=null;else{let O;p>2?O=(p-2)*v:O=v;let M=O>=E;for(let b=1;b<=O&&!M;b++)M=r[E-b]!=null;M?r[E]=null:(h=A.getRowNumber(),m=1)}}}getRowHeights(){let n=this.getBarcodeMetadata();if(n==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(n);let r=new Int32Array(n.getRowCount());for(let o of this.getCodewords())if(o!=null){let s=o.getRowNumber();if(s>=r.length)continue;r[s]++}return r}adjustIncompleteIndicatorColumnRowNumbers(n){let r=this.getBoundingBox(),o=this._isLeft?r.getTopLeft():r.getTopRight(),s=this._isLeft?r.getBottomLeft():r.getBottomRight(),l=this.imageRowToCodewordIndex(Math.trunc(o.getY())),u=this.imageRowToCodewordIndex(Math.trunc(s.getY())),d=this.getCodewords(),h=-1;for(let p=l;p<u;p++){if(d[p]==null)continue;let m=d[p];m.setRowNumberAsRowIndicatorColumn();let E=m.getRowNumber()-h;E===0||(E===1?h=m.getRowNumber():m.getRowNumber()>=n.getRowCount()?d[p]=null:h=m.getRowNumber())}}getBarcodeMetadata(){let n=this.getCodewords(),r=new oo,o=new oo,s=new oo,l=new oo;for(let d of n){if(d==null)continue;d.setRowNumberAsRowIndicatorColumn();let h=d.getValue()%30,p=d.getRowNumber();switch(this._isLeft||(p+=2),p%3){case 0:o.setValue(h*3+1);break;case 1:l.setValue(h/3),s.setValue(h%3);break;case 2:r.setValue(h+1);break}}if(r.getValue().length===0||o.getValue().length===0||s.getValue().length===0||l.getValue().length===0||r.getValue()[0]<1||o.getValue()[0]+s.getValue()[0]<he.MIN_ROWS_IN_BARCODE||o.getValue()[0]+s.getValue()[0]>he.MAX_ROWS_IN_BARCODE)return null;let u=new Jh(r.getValue()[0],o.getValue()[0],s.getValue()[0],l.getValue()[0]);return this.removeIncorrectCodewords(n,u),u}removeIncorrectCodewords(n,r){for(let o=0;o<n.length;o++){let s=n[o];if(n[o]==null)continue;let l=s.getValue()%30,u=s.getRowNumber();if(u>r.getRowCount()){n[o]=null;continue}switch(this._isLeft||(u+=2),u%3){case 0:l*3+1!==r.getRowCountUpperPart()&&(n[o]=null);break;case 1:(Math.trunc(l/3)!==r.getErrorCorrectionLevel()||l%3!==r.getRowCountLowerPart())&&(n[o]=null);break;case 2:l+1!==r.getColumnCount()&&(n[o]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class so{constructor(n,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=n,this.barcodeColumnCount=n.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let n=he.MAX_CODEWORDS_IN_BARCODE,r;do r=n,n=this.adjustRowNumbersAndGetCount();while(n>0&&n<r);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(n){n!=null&&n.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let n=this.adjustRowNumbersByRow();if(n===0)return 0;for(let r=1;r<this.barcodeColumnCount+1;r++){let o=this.detectionResultColumns[r].getCodewords();for(let s=0;s<o.length;s++)o[s]!=null&&(o[s].hasValidRowNumber()||this.adjustRowNumbers(r,s,o))}return n}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let n=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let o=0;o<n.length;o++)if(n[o]!=null&&r[o]!=null&&n[o].getRowNumber()===r[o].getRowNumber())for(let s=1;s<=this.barcodeColumnCount;s++){let l=this.detectionResultColumns[s].getCodewords()[o];l!=null&&(l.setRowNumber(n[o].getRowNumber()),l.hasValidRowNumber()||(this.detectionResultColumns[s].getCodewords()[o]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let n=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let o=0;o<r.length;o++){if(r[o]==null)continue;let s=r[o].getRowNumber(),l=0;for(let u=this.barcodeColumnCount+1;u>0&&l<this.ADJUST_ROW_NUMBER_SKIP;u--){let d=this.detectionResultColumns[u].getCodewords()[o];d!=null&&(l=so.adjustRowNumberIfValid(s,l,d),d.hasValidRowNumber()||n++)}}return n}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let n=0,r=this.detectionResultColumns[0].getCodewords();for(let o=0;o<r.length;o++){if(r[o]==null)continue;let s=r[o].getRowNumber(),l=0;for(let u=1;u<this.barcodeColumnCount+1&&l<this.ADJUST_ROW_NUMBER_SKIP;u++){let d=this.detectionResultColumns[u].getCodewords()[o];d!=null&&(l=so.adjustRowNumberIfValid(s,l,d),d.hasValidRowNumber()||n++)}}return n}static adjustRowNumberIfValid(n,r,o){return o==null||o.hasValidRowNumber()||(o.isValidRowNumber(n)?(o.setRowNumber(n),r=0):++r),r}adjustRowNumbers(n,r,o){if(!this.detectionResultColumns[n-1])return;let s=o[r],l=this.detectionResultColumns[n-1].getCodewords(),u=l;this.detectionResultColumns[n+1]!=null&&(u=this.detectionResultColumns[n+1].getCodewords());let d=new Array(14);d[2]=l[r],d[3]=u[r],r>0&&(d[0]=o[r-1],d[4]=l[r-1],d[5]=u[r-1]),r>1&&(d[8]=o[r-2],d[10]=l[r-2],d[11]=u[r-2]),r<o.length-1&&(d[1]=o[r+1],d[6]=l[r+1],d[7]=u[r+1]),r<o.length-2&&(d[9]=o[r+2],d[12]=l[r+2],d[13]=u[r+2]);for(let h of d)if(so.adjustRowNumber(s,h))return}static adjustRowNumber(n,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===n.getBucket()?(n.setRowNumber(r.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(n){this.boundingBox=n}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(n,r){this.detectionResultColumns[n]=r}getDetectionResultColumn(n){return this.detectionResultColumns[n]}toString(){let n=this.detectionResultColumns[0];n==null&&(n=this.detectionResultColumns[this.barcodeColumnCount+1]);let r=new ro;for(let o=0;o<n.getCodewords().length;o++){r.format("CW %3d:",o);for(let s=0;s<this.barcodeColumnCount+2;s++){if(this.detectionResultColumns[s]==null){r.format("    |   ");continue}let l=this.detectionResultColumns[s].getCodewords()[o];if(l==null){r.format("    |   ");continue}r.format(" %3d|%3d",l.getRowNumber(),l.getValue())}r.format("%n")}return r.toString()}}class ao{constructor(n,r,o,s){this.rowNumber=ao.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(n),this.endX=Math.trunc(r),this.bucket=Math.trunc(o),this.value=Math.trunc(s)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(n){return n!==ao.BARCODE_ROW_UNKNOWN&&this.bucket===n%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(n){this.rowNumber=n}toString(){return this.rowNumber+"|"+this.value}}ao.BARCODE_ROW_UNKNOWN=-1;class Yt{static initialize(){for(let n=0;n<he.SYMBOL_TABLE.length;n++){let r=he.SYMBOL_TABLE[n],o=r&1;for(let s=0;s<he.BARS_IN_MODULE;s++){let l=0;for(;(r&1)===o;)l+=1,r>>=1;o=r&1,Yt.RATIOS_TABLE[n]||(Yt.RATIOS_TABLE[n]=new Array(he.BARS_IN_MODULE)),Yt.RATIOS_TABLE[n][he.BARS_IN_MODULE-s-1]=Math.fround(l/he.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(n){let r=Yt.getDecodedCodewordValue(Yt.sampleBitCounts(n));return r!==-1?r:Yt.getClosestDecodedValue(n)}static sampleBitCounts(n){let r=ve.sum(n),o=new Int32Array(he.BARS_IN_MODULE),s=0,l=0;for(let u=0;u<he.MODULES_IN_CODEWORD;u++){let d=r/(2*he.MODULES_IN_CODEWORD)+u*r/he.MODULES_IN_CODEWORD;l+n[s]<=d&&(l+=n[s],s++),o[s]++}return o}static getDecodedCodewordValue(n){let r=Yt.getBitValue(n);return he.getCodeword(r)===-1?-1:r}static getBitValue(n){let r=0;for(let o=0;o<n.length;o++)for(let s=0;s<n[o];s++)r=r<<1|(o%2===0?1:0);return Math.trunc(r)}static getClosestDecodedValue(n){let r=ve.sum(n),o=new Array(he.BARS_IN_MODULE);if(r>1)for(let u=0;u<o.length;u++)o[u]=Math.fround(n[u]/r);let s=ls.MAX_VALUE,l=-1;this.bSymbolTableReady||Yt.initialize();for(let u=0;u<Yt.RATIOS_TABLE.length;u++){let d=0,h=Yt.RATIOS_TABLE[u];for(let p=0;p<he.BARS_IN_MODULE;p++){let m=Math.fround(h[p]-o[p]);if(d+=Math.fround(m*m),d>=s)break}d<s&&(s=d,l=he.SYMBOL_TABLE[u])}return l}}Yt.bSymbolTableReady=!1,Yt.RATIOS_TABLE=new Array(he.SYMBOL_TABLE.length).map(y=>new Array(he.BARS_IN_MODULE));class i1{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(n){this.segmentIndex=n}getFileId(){return this.fileId}setFileId(n){this.fileId=n}getOptionalData(){return this.optionalData}setOptionalData(n){this.optionalData=n}isLastSegment(){return this.lastSegment}setLastSegment(n){this.lastSegment=n}getSegmentCount(){return this.segmentCount}setSegmentCount(n){this.segmentCount=n}getSender(){return this.sender||null}setSender(n){this.sender=n}getAddressee(){return this.addressee||null}setAddressee(n){this.addressee=n}getFileName(){return this.fileName}setFileName(n){this.fileName=n}getFileSize(){return this.fileSize}setFileSize(n){this.fileSize=n}getChecksum(){return this.checksum}setChecksum(n){this.checksum=n}getTimestamp(){return this.timestamp}setTimestamp(n){this.timestamp=n}}class o1{static parseLong(n,r=void 0){return parseInt(n,r)}}class s1 extends x{}s1.kind="NullPointerException";class $h{writeBytes(n){this.writeBytesOffset(n,0,n.length)}writeBytesOffset(n,r,o){if(n==null)throw new s1;if(r<0||r>n.length||o<0||r+o>n.length||r+o<0)throw new ie;if(o===0)return;for(let s=0;s<o;s++)this.write(n[r+s])}flush(){}close(){}}class eg extends x{}class tg extends $h{constructor(n=32){if(super(),this.count=0,n<0)throw new I("Negative initial size: "+n);this.buf=new Uint8Array(n)}ensureCapacity(n){n-this.buf.length>0&&this.grow(n)}grow(n){let o=this.buf.length<<1;if(o-n<0&&(o=n),o<0){if(n<0)throw new eg;o=_.MAX_VALUE}this.buf=N.copyOfUint8Array(this.buf,o)}write(n){this.ensureCapacity(this.count+1),this.buf[this.count]=n,this.count+=1}writeBytesOffset(n,r,o){if(r<0||r>n.length||o<0||r+o-n.length>0)throw new ie;this.ensureCapacity(this.count+o),B.arraycopy(n,r,this.buf,this.count,o),this.count+=o}writeTo(n){n.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return N.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(n){return n?typeof n=="string"?this.toString_string(n):this.toString_number(n):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(n){return new String(this.buf).toString()}toString_number(n){return new String(this.buf).toString()}close(){}}var ke;(function(y){y[y.ALPHA=0]="ALPHA",y[y.LOWER=1]="LOWER",y[y.MIXED=2]="MIXED",y[y.PUNCT=3]="PUNCT",y[y.ALPHA_SHIFT=4]="ALPHA_SHIFT",y[y.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(ke||(ke={}));function a1(){if(typeof window<"u")return window.BigInt||null;if(typeof co<"u")return co.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let ps;function wr(y){if(typeof ps>"u"&&(ps=a1()),ps===null)throw new Error("BigInt is not supported!");return ps(y)}function ng(){let y=[];y[0]=wr(1);let n=wr(900);y[1]=n;for(let r=2;r<16;r++)y[r]=y[r-1]*n;return y}class P{static decode(n,r){let o=new Se(""),s=W.ISO8859_1;o.enableDecoding(s);let l=1,u=n[l++],d=new i1;for(;l<n[0];){switch(u){case P.TEXT_COMPACTION_MODE_LATCH:l=P.textCompaction(n,l,o);break;case P.BYTE_COMPACTION_MODE_LATCH:case P.BYTE_COMPACTION_MODE_LATCH_6:l=P.byteCompaction(u,n,s,l,o);break;case P.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(n[l++]);break;case P.NUMERIC_COMPACTION_MODE_LATCH:l=P.numericCompaction(n,l,o);break;case P.ECI_CHARSET:W.getCharacterSetECIByValue(n[l++]);break;case P.ECI_GENERAL_PURPOSE:l+=2;break;case P.ECI_USER_DEFINED:l++;break;case P.BEGIN_MACRO_PDF417_CONTROL_BLOCK:l=P.decodeMacroBlock(n,l,d);break;case P.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case P.MACRO_PDF417_TERMINATOR:throw new U;default:l--,l=P.textCompaction(n,l,o);break}if(l<n.length)u=n[l++];else throw U.getFormatInstance()}if(o.length()===0)throw U.getFormatInstance();let h=new Ji(null,o.toString(),null,r);return h.setOther(d),h}static decodeMacroBlock(n,r,o){if(r+P.NUMBER_OF_SEQUENCE_CODEWORDS>n[0])throw U.getFormatInstance();let s=new Int32Array(P.NUMBER_OF_SEQUENCE_CODEWORDS);for(let d=0;d<P.NUMBER_OF_SEQUENCE_CODEWORDS;d++,r++)s[d]=n[r];o.setSegmentIndex(_.parseInt(P.decodeBase900toBase10(s,P.NUMBER_OF_SEQUENCE_CODEWORDS)));let l=new Se;r=P.textCompaction(n,r,l),o.setFileId(l.toString());let u=-1;for(n[r]===P.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(u=r+1);r<n[0];)switch(n[r]){case P.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,n[r]){case P.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let d=new Se;r=P.textCompaction(n,r+1,d),o.setFileName(d.toString());break;case P.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let h=new Se;r=P.textCompaction(n,r+1,h),o.setSender(h.toString());break;case P.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let p=new Se;r=P.textCompaction(n,r+1,p),o.setAddressee(p.toString());break;case P.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let m=new Se;r=P.numericCompaction(n,r+1,m),o.setSegmentCount(_.parseInt(m.toString()));break;case P.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let E=new Se;r=P.numericCompaction(n,r+1,E),o.setTimestamp(o1.parseLong(E.toString()));break;case P.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let A=new Se;r=P.numericCompaction(n,r+1,A),o.setChecksum(_.parseInt(A.toString()));break;case P.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let v=new Se;r=P.numericCompaction(n,r+1,v),o.setFileSize(o1.parseLong(v.toString()));break;default:throw U.getFormatInstance()}break;case P.MACRO_PDF417_TERMINATOR:r++,o.setLastSegment(!0);break;default:throw U.getFormatInstance()}if(u!==-1){let d=r-u;o.isLastSegment()&&d--,o.setOptionalData(N.copyOfRange(n,u,u+d))}return r}static textCompaction(n,r,o){let s=new Int32Array((n[0]-r)*2),l=new Int32Array((n[0]-r)*2),u=0,d=!1;for(;r<n[0]&&!d;){let h=n[r++];if(h<P.TEXT_COMPACTION_MODE_LATCH)s[u]=h/30,s[u+1]=h%30,u+=2;else switch(h){case P.TEXT_COMPACTION_MODE_LATCH:s[u++]=P.TEXT_COMPACTION_MODE_LATCH;break;case P.BYTE_COMPACTION_MODE_LATCH:case P.BYTE_COMPACTION_MODE_LATCH_6:case P.NUMERIC_COMPACTION_MODE_LATCH:case P.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case P.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case P.MACRO_PDF417_TERMINATOR:r--,d=!0;break;case P.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s[u]=P.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,h=n[r++],l[u]=h,u++;break}}return P.decodeTextCompaction(s,l,u,o),r}static decodeTextCompaction(n,r,o,s){let l=ke.ALPHA,u=ke.ALPHA,d=0;for(;d<o;){let h=n[d],p="";switch(l){case ke.ALPHA:if(h<26)p=String.fromCharCode(65+h);else switch(h){case 26:p=" ";break;case P.LL:l=ke.LOWER;break;case P.ML:l=ke.MIXED;break;case P.PS:u=l,l=ke.PUNCT_SHIFT;break;case P.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(r[d]);break;case P.TEXT_COMPACTION_MODE_LATCH:l=ke.ALPHA;break}break;case ke.LOWER:if(h<26)p=String.fromCharCode(97+h);else switch(h){case 26:p=" ";break;case P.AS:u=l,l=ke.ALPHA_SHIFT;break;case P.ML:l=ke.MIXED;break;case P.PS:u=l,l=ke.PUNCT_SHIFT;break;case P.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(r[d]);break;case P.TEXT_COMPACTION_MODE_LATCH:l=ke.ALPHA;break}break;case ke.MIXED:if(h<P.PL)p=P.MIXED_CHARS[h];else switch(h){case P.PL:l=ke.PUNCT;break;case 26:p=" ";break;case P.LL:l=ke.LOWER;break;case P.AL:l=ke.ALPHA;break;case P.PS:u=l,l=ke.PUNCT_SHIFT;break;case P.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(r[d]);break;case P.TEXT_COMPACTION_MODE_LATCH:l=ke.ALPHA;break}break;case ke.PUNCT:if(h<P.PAL)p=P.PUNCT_CHARS[h];else switch(h){case P.PAL:l=ke.ALPHA;break;case P.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(r[d]);break;case P.TEXT_COMPACTION_MODE_LATCH:l=ke.ALPHA;break}break;case ke.ALPHA_SHIFT:if(l=u,h<26)p=String.fromCharCode(65+h);else switch(h){case 26:p=" ";break;case P.TEXT_COMPACTION_MODE_LATCH:l=ke.ALPHA;break}break;case ke.PUNCT_SHIFT:if(l=u,h<P.PAL)p=P.PUNCT_CHARS[h];else switch(h){case P.PAL:l=ke.ALPHA;break;case P.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(r[d]);break;case P.TEXT_COMPACTION_MODE_LATCH:l=ke.ALPHA;break}break}p!==""&&s.append(p),d++}}static byteCompaction(n,r,o,s,l){let u=new tg,d=0,h=0,p=!1;switch(n){case P.BYTE_COMPACTION_MODE_LATCH:let m=new Int32Array(6),E=r[s++];for(;s<r[0]&&!p;)switch(m[d++]=E,h=900*h+E,E=r[s++],E){case P.TEXT_COMPACTION_MODE_LATCH:case P.BYTE_COMPACTION_MODE_LATCH:case P.NUMERIC_COMPACTION_MODE_LATCH:case P.BYTE_COMPACTION_MODE_LATCH_6:case P.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case P.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case P.MACRO_PDF417_TERMINATOR:s--,p=!0;break;default:if(d%5===0&&d>0){for(let A=0;A<6;++A)u.write(Number(wr(h)>>wr(8*(5-A))));h=0,d=0}break}s===r[0]&&E<P.TEXT_COMPACTION_MODE_LATCH&&(m[d++]=E);for(let A=0;A<d;A++)u.write(m[A]);break;case P.BYTE_COMPACTION_MODE_LATCH_6:for(;s<r[0]&&!p;){let A=r[s++];if(A<P.TEXT_COMPACTION_MODE_LATCH)d++,h=900*h+A;else switch(A){case P.TEXT_COMPACTION_MODE_LATCH:case P.BYTE_COMPACTION_MODE_LATCH:case P.NUMERIC_COMPACTION_MODE_LATCH:case P.BYTE_COMPACTION_MODE_LATCH_6:case P.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case P.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case P.MACRO_PDF417_TERMINATOR:s--,p=!0;break}if(d%5===0&&d>0){for(let v=0;v<6;++v)u.write(Number(wr(h)>>wr(8*(5-v))));h=0,d=0}}break}return l.append(Ue.decode(u.toByteArray(),o)),s}static numericCompaction(n,r,o){let s=0,l=!1,u=new Int32Array(P.MAX_NUMERIC_CODEWORDS);for(;r<n[0]&&!l;){let d=n[r++];if(r===n[0]&&(l=!0),d<P.TEXT_COMPACTION_MODE_LATCH)u[s]=d,s++;else switch(d){case P.TEXT_COMPACTION_MODE_LATCH:case P.BYTE_COMPACTION_MODE_LATCH:case P.BYTE_COMPACTION_MODE_LATCH_6:case P.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case P.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case P.MACRO_PDF417_TERMINATOR:r--,l=!0;break}(s%P.MAX_NUMERIC_CODEWORDS===0||d===P.NUMERIC_COMPACTION_MODE_LATCH||l)&&s>0&&(o.append(P.decodeBase900toBase10(u,s)),s=0)}return r}static decodeBase900toBase10(n,r){let o=wr(0);for(let l=0;l<r;l++)o+=P.EXP900[r-l-1]*wr(n[l]);let s=o.toString();if(s.charAt(0)!=="1")throw new U;return s.substring(1)}}P.TEXT_COMPACTION_MODE_LATCH=900,P.BYTE_COMPACTION_MODE_LATCH=901,P.NUMERIC_COMPACTION_MODE_LATCH=902,P.BYTE_COMPACTION_MODE_LATCH_6=924,P.ECI_USER_DEFINED=925,P.ECI_GENERAL_PURPOSE=926,P.ECI_CHARSET=927,P.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,P.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,P.MACRO_PDF417_TERMINATOR=922,P.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,P.MAX_NUMERIC_CODEWORDS=15,P.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,P.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,P.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,P.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,P.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,P.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,P.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,P.PL=25,P.LL=27,P.AS=27,P.ML=28,P.AL=28,P.PS=29,P.PAL=29,P.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,P.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",P.EXP900=a1()?ng():[],P.NUMBER_OF_SEQUENCE_CODEWORDS=2;class ye{constructor(){}static decode(n,r,o,s,l,u,d){let h=new Yr(n,r,o,s,l),p=null,m=null,E;for(let O=!0;;O=!1){if(r!=null&&(p=ye.getRowIndicatorColumn(n,h,r,!0,u,d)),s!=null&&(m=ye.getRowIndicatorColumn(n,h,s,!1,u,d)),E=ye.merge(p,m),E==null)throw H.getNotFoundInstance();let M=E.getBoundingBox();if(O&&M!=null&&(M.getMinY()<h.getMinY()||M.getMaxY()>h.getMaxY()))h=M;else break}E.setBoundingBox(h);let A=E.getBarcodeColumnCount()+1;E.setDetectionResultColumn(0,p),E.setDetectionResultColumn(A,m);let v=p!=null;for(let O=1;O<=A;O++){let M=v?O:A-O;if(E.getDetectionResultColumn(M)!==void 0)continue;let b;M===0||M===A?b=new r1(h,M===0):b=new io(h),E.setDetectionResultColumn(M,b);let F=-1,Q=F;for(let Z=h.getMinY();Z<=h.getMaxY();Z++){if(F=ye.getStartColumn(E,M,Z,v),F<0||F>h.getMaxX()){if(Q===-1)continue;F=Q}let Y=ye.detectCodeword(n,h.getMinX(),h.getMaxX(),v,F,Z,u,d);Y!=null&&(b.setCodeword(Z,Y),Q=F,u=Math.min(u,Y.getWidth()),d=Math.max(d,Y.getWidth()))}}return ye.createDecoderResult(E)}static merge(n,r){if(n==null&&r==null)return null;let o=ye.getBarcodeMetadata(n,r);if(o==null)return null;let s=Yr.merge(ye.adjustBoundingBox(n),ye.adjustBoundingBox(r));return new so(o,s)}static adjustBoundingBox(n){if(n==null)return null;let r=n.getRowHeights();if(r==null)return null;let o=ye.getMax(r),s=0;for(let d of r)if(s+=o-d,d>0)break;let l=n.getCodewords();for(let d=0;s>0&&l[d]==null;d++)s--;let u=0;for(let d=r.length-1;d>=0&&(u+=o-r[d],!(r[d]>0));d--);for(let d=l.length-1;u>0&&l[d]==null;d--)u--;return n.getBoundingBox().addMissingRows(s,u,n.isLeft())}static getMax(n){let r=-1;for(let o of n)r=Math.max(r,o);return r}static getBarcodeMetadata(n,r){let o;if(n==null||(o=n.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();let s;return r==null||(s=r.getBarcodeMetadata())==null?o:o.getColumnCount()!==s.getColumnCount()&&o.getErrorCorrectionLevel()!==s.getErrorCorrectionLevel()&&o.getRowCount()!==s.getRowCount()?null:o}static getRowIndicatorColumn(n,r,o,s,l,u){let d=new r1(r,s);for(let h=0;h<2;h++){let p=h===0?1:-1,m=Math.trunc(Math.trunc(o.getX()));for(let E=Math.trunc(Math.trunc(o.getY()));E<=r.getMaxY()&&E>=r.getMinY();E+=p){let A=ye.detectCodeword(n,0,n.getWidth(),s,m,E,l,u);A!=null&&(d.setCodeword(E,A),s?m=A.getStartX():m=A.getEndX())}}return d}static adjustCodewordCount(n,r){let o=r[0][1],s=o.getValue(),l=n.getBarcodeColumnCount()*n.getBarcodeRowCount()-ye.getNumberOfECCodeWords(n.getBarcodeECLevel());if(s.length===0){if(l<1||l>he.MAX_CODEWORDS_IN_BARCODE)throw H.getNotFoundInstance();o.setValue(l)}else s[0]!==l&&o.setValue(l)}static createDecoderResult(n){let r=ye.createBarcodeMatrix(n);ye.adjustCodewordCount(n,r);let o=new Array,s=new Int32Array(n.getBarcodeRowCount()*n.getBarcodeColumnCount()),l=[],u=new Array;for(let h=0;h<n.getBarcodeRowCount();h++)for(let p=0;p<n.getBarcodeColumnCount();p++){let m=r[h][p+1].getValue(),E=h*n.getBarcodeColumnCount()+p;m.length===0?o.push(E):m.length===1?s[E]=m[0]:(u.push(E),l.push(m))}let d=new Array(l.length);for(let h=0;h<d.length;h++)d[h]=l[h];return ye.createDecoderResultFromAmbiguousValues(n.getBarcodeECLevel(),s,he.toIntArray(o),he.toIntArray(u),d)}static createDecoderResultFromAmbiguousValues(n,r,o,s,l){let u=new Int32Array(s.length),d=100;for(;d-- >0;){for(let h=0;h<u.length;h++)r[s[h]]=l[h][u[h]];try{return ye.decodeCodewords(r,n,o)}catch(h){if(!(h instanceof z))throw h}if(u.length===0)throw z.getChecksumInstance();for(let h=0;h<u.length;h++)if(u[h]<l[h].length-1){u[h]++;break}else if(u[h]=0,h===u.length-1)throw z.getChecksumInstance()}throw z.getChecksumInstance()}static createBarcodeMatrix(n){let r=Array.from({length:n.getBarcodeRowCount()},()=>new Array(n.getBarcodeColumnCount()+2));for(let s=0;s<r.length;s++)for(let l=0;l<r[s].length;l++)r[s][l]=new oo;let o=0;for(let s of n.getDetectionResultColumns()){if(s!=null){for(let l of s.getCodewords())if(l!=null){let u=l.getRowNumber();if(u>=0){if(u>=r.length)continue;r[u][o].setValue(l.getValue())}}}o++}return r}static isValidBarcodeColumn(n,r){return r>=0&&r<=n.getBarcodeColumnCount()+1}static getStartColumn(n,r,o,s){let l=s?1:-1,u=null;if(ye.isValidBarcodeColumn(n,r-l)&&(u=n.getDetectionResultColumn(r-l).getCodeword(o)),u!=null)return s?u.getEndX():u.getStartX();if(u=n.getDetectionResultColumn(r).getCodewordNearby(o),u!=null)return s?u.getStartX():u.getEndX();if(ye.isValidBarcodeColumn(n,r-l)&&(u=n.getDetectionResultColumn(r-l).getCodewordNearby(o)),u!=null)return s?u.getEndX():u.getStartX();let d=0;for(;ye.isValidBarcodeColumn(n,r-l);){r-=l;for(let h of n.getDetectionResultColumn(r).getCodewords())if(h!=null)return(s?h.getEndX():h.getStartX())+l*d*(h.getEndX()-h.getStartX());d++}return s?n.getBoundingBox().getMinX():n.getBoundingBox().getMaxX()}static detectCodeword(n,r,o,s,l,u,d,h){l=ye.adjustCodewordStartColumn(n,r,o,s,l,u);let p=ye.getModuleBitCount(n,r,o,s,l,u);if(p==null)return null;let m,E=ve.sum(p);if(s)m=l+E;else{for(let O=0;O<p.length/2;O++){let M=p[O];p[O]=p[p.length-1-O],p[p.length-1-O]=M}m=l,l=m-E}if(!ye.checkCodewordSkew(E,d,h))return null;let A=Yt.getDecodedValue(p),v=he.getCodeword(A);return v===-1?null:new ao(l,m,ye.getCodewordBucketNumber(A),v)}static getModuleBitCount(n,r,o,s,l,u){let d=l,h=new Int32Array(8),p=0,m=s?1:-1,E=s;for(;(s?d<o:d>=r)&&p<h.length;)n.get(d,u)===E?(h[p]++,d+=m):(p++,E=!E);return p===h.length||d===(s?o:r)&&p===h.length-1?h:null}static getNumberOfECCodeWords(n){return 2<<n}static adjustCodewordStartColumn(n,r,o,s,l,u){let d=l,h=s?-1:1;for(let p=0;p<2;p++){for(;(s?d>=r:d<o)&&s===n.get(d,u);){if(Math.abs(l-d)>ye.CODEWORD_SKEW_SIZE)return l;d+=h}h=-h,s=!s}return d}static checkCodewordSkew(n,r,o){return r-ye.CODEWORD_SKEW_SIZE<=n&&n<=o+ye.CODEWORD_SKEW_SIZE}static decodeCodewords(n,r,o){if(n.length===0)throw U.getFormatInstance();let s=1<<r+1,l=ye.correctErrors(n,o,s);ye.verifyCodewordCount(n,s);let u=P.decode(n,""+r);return u.setErrorsCorrected(l),u.setErasures(o.length),u}static correctErrors(n,r,o){if(r!=null&&r.length>o/2+ye.MAX_ERRORS||o<0||o>ye.MAX_EC_CODEWORDS)throw z.getChecksumInstance();return ye.errorCorrection.decode(n,o,r)}static verifyCodewordCount(n,r){if(n.length<4)throw U.getFormatInstance();let o=n[0];if(o>n.length)throw U.getFormatInstance();if(o===0)if(r<n.length)n[0]=n.length-r;else throw U.getFormatInstance()}static getBitCountForCodeword(n){let r=new Int32Array(8),o=0,s=r.length-1;for(;!((n&1)!==o&&(o=n&1,s--,s<0));)r[s]++,n>>=1;return r}static getCodewordBucketNumber(n){return n instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(n):this.getCodewordBucketNumber_number(n)}static getCodewordBucketNumber_number(n){return ye.getCodewordBucketNumber(ye.getBitCountForCodeword(n))}static getCodewordBucketNumber_Int32Array(n){return(n[0]-n[2]+n[4]-n[6]+9)%9}static toString(n){let r=new ro;for(let o=0;o<n.length;o++){r.format("Row %2d: ",o);for(let s=0;s<n[o].length;s++){let l=n[o][s];l.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",l.getValue()[0],l.getConfidence(l.getValue()[0]))}r.format("%n")}return r.toString()}}ye.CODEWORD_SKEW_SIZE=2,ye.MAX_ERRORS=3,ye.MAX_EC_CODEWORDS=512,ye.errorCorrection=new n1;class Tt{decode(n,r=null){let o=Tt.decode(n,r,!1);if(o==null||o.length===0||o[0]==null)throw H.getNotFoundInstance();return o[0]}decodeMultiple(n,r=null){try{return Tt.decode(n,r,!0)}catch(o){throw o instanceof U||o instanceof z?H.getNotFoundInstance():o}}static decode(n,r,o){const s=new Array,l=we.detectMultiple(n,r,o);for(const u of l.getPoints()){const d=ye.decode(l.getBits(),u[4],u[5],u[6],u[7],Tt.getMinCodewordWidth(u),Tt.getMaxCodewordWidth(u)),h=new Ke(d.getText(),d.getRawBytes(),void 0,u,ae.PDF_417);h.putMetadata(wt.ERROR_CORRECTION_LEVEL,d.getECLevel());const p=d.getOther();p!=null&&h.putMetadata(wt.PDF417_EXTRA_METADATA,p),s.push(h)}return s.map(u=>u)}static getMaxWidth(n,r){return n==null||r==null?0:Math.trunc(Math.abs(n.getX()-r.getX()))}static getMinWidth(n,r){return n==null||r==null?_.MAX_VALUE:Math.trunc(Math.abs(n.getX()-r.getX()))}static getMaxCodewordWidth(n){return Math.floor(Math.max(Math.max(Tt.getMaxWidth(n[0],n[4]),Tt.getMaxWidth(n[6],n[2])*he.MODULES_IN_CODEWORD/he.MODULES_IN_STOP_PATTERN),Math.max(Tt.getMaxWidth(n[1],n[5]),Tt.getMaxWidth(n[7],n[3])*he.MODULES_IN_CODEWORD/he.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(n){return Math.floor(Math.min(Math.min(Tt.getMinWidth(n[0],n[4]),Tt.getMinWidth(n[6],n[2])*he.MODULES_IN_CODEWORD/he.MODULES_IN_STOP_PATTERN),Math.min(Tt.getMinWidth(n[1],n[5]),Tt.getMinWidth(n[7],n[3])*he.MODULES_IN_CODEWORD/he.MODULES_IN_STOP_PATTERN)))}reset(){}}class xs extends x{}xs.kind="ReaderException";class l1{constructor(n,r){this.verbose=n===!0,r&&this.setHints(r)}decode(n,r){return r&&this.setHints(r),this.decodeInternal(n)}decodeWithState(n){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(n)}setHints(n){this.hints=n;const r=!a(n)&&n.get(K.TRY_HARDER)===!0,o=a(n)?null:n.get(K.POSSIBLE_FORMATS),s=new Array;if(!a(o)){const l=o.some(u=>u===ae.UPC_A||u===ae.UPC_E||u===ae.EAN_13||u===ae.EAN_8||u===ae.CODABAR||u===ae.CODE_39||u===ae.CODE_93||u===ae.CODE_128||u===ae.ITF||u===ae.RSS_14||u===ae.RSS_EXPANDED);l&&!r&&s.push(new gi(n,this.verbose)),o.includes(ae.QR_CODE)&&s.push(new mr),o.includes(ae.DATA_MATRIX)&&s.push(new xr),o.includes(ae.AZTEC)&&s.push(new cs),o.includes(ae.PDF_417)&&s.push(new Tt),l&&r&&s.push(new gi(n,this.verbose))}s.length===0&&(r||s.push(new gi(n,this.verbose)),s.push(new mr),s.push(new xr),s.push(new cs),s.push(new Tt),r&&s.push(new gi(n,this.verbose))),this.readers=s}reset(){if(this.readers!==null)for(const n of this.readers)n.reset()}decodeInternal(n){if(this.readers===null)throw new xs("No readers where selected, nothing can be read.");for(const r of this.readers)try{return r.decode(n,this.hints)}catch(o){if(o instanceof xs)continue}throw new H("No MultiFormat Readers were able to detect the code.")}}class rg extends fn{constructor(n=null,r=500){const o=new l1;o.setHints(n),super(o,r)}decodeBitmap(n){return this.reader.decodeWithState(n)}}class ig extends fn{constructor(n=500){super(new Tt,n)}}class og extends fn{constructor(n=500){super(new mr,n)}}var ol;(function(y){y[y.ERROR_CORRECTION=0]="ERROR_CORRECTION",y[y.CHARACTER_SET=1]="CHARACTER_SET",y[y.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",y[y.MIN_SIZE=3]="MIN_SIZE",y[y.MAX_SIZE=4]="MAX_SIZE",y[y.MARGIN=5]="MARGIN",y[y.PDF417_COMPACT=6]="PDF417_COMPACT",y[y.PDF417_COMPACTION=7]="PDF417_COMPACTION",y[y.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",y[y.AZTEC_LAYERS=9]="AZTEC_LAYERS",y[y.QR_VERSION=10]="QR_VERSION"})(ol||(ol={}));var pt=ol;class sl{constructor(n){this.field=n,this.cachedGenerators=[],this.cachedGenerators.push(new Vt(n,Int32Array.from([1])))}buildGenerator(n){const r=this.cachedGenerators;if(n>=r.length){let o=r[r.length-1];const s=this.field;for(let l=r.length;l<=n;l++){const u=o.multiply(new Vt(s,Int32Array.from([1,s.exp(l-1+s.getGeneratorBase())])));r.push(u),o=u}}return r[n]}encode(n,r){if(r===0)throw new I("No error correction bytes");const o=n.length-r;if(o<=0)throw new I("No data bytes provided");const s=this.buildGenerator(r),l=new Int32Array(o);B.arraycopy(n,0,l,0,o);let u=new Vt(this.field,l);u=u.multiplyByMonomial(r,1);const h=u.divide(s)[1].getCoefficients(),p=r-h.length;for(let m=0;m<p;m++)n[o+m]=0;B.arraycopy(h,0,n,o+p,h.length)}}class it{constructor(){}static applyMaskPenaltyRule1(n){return it.applyMaskPenaltyRule1Internal(n,!0)+it.applyMaskPenaltyRule1Internal(n,!1)}static applyMaskPenaltyRule2(n){let r=0;const o=n.getArray(),s=n.getWidth(),l=n.getHeight();for(let u=0;u<l-1;u++){const d=o[u];for(let h=0;h<s-1;h++){const p=d[h];p===d[h+1]&&p===o[u+1][h]&&p===o[u+1][h+1]&&r++}}return it.N2*r}static applyMaskPenaltyRule3(n){let r=0;const o=n.getArray(),s=n.getWidth(),l=n.getHeight();for(let u=0;u<l;u++)for(let d=0;d<s;d++){const h=o[u];d+6<s&&h[d]===1&&h[d+1]===0&&h[d+2]===1&&h[d+3]===1&&h[d+4]===1&&h[d+5]===0&&h[d+6]===1&&(it.isWhiteHorizontal(h,d-4,d)||it.isWhiteHorizontal(h,d+7,d+11))&&r++,u+6<l&&o[u][d]===1&&o[u+1][d]===0&&o[u+2][d]===1&&o[u+3][d]===1&&o[u+4][d]===1&&o[u+5][d]===0&&o[u+6][d]===1&&(it.isWhiteVertical(o,d,u-4,u)||it.isWhiteVertical(o,d,u+7,u+11))&&r++}return r*it.N3}static isWhiteHorizontal(n,r,o){r=Math.max(r,0),o=Math.min(o,n.length);for(let s=r;s<o;s++)if(n[s]===1)return!1;return!0}static isWhiteVertical(n,r,o,s){o=Math.max(o,0),s=Math.min(s,n.length);for(let l=o;l<s;l++)if(n[l][r]===1)return!1;return!0}static applyMaskPenaltyRule4(n){let r=0;const o=n.getArray(),s=n.getWidth(),l=n.getHeight();for(let h=0;h<l;h++){const p=o[h];for(let m=0;m<s;m++)p[m]===1&&r++}const u=n.getHeight()*n.getWidth();return Math.floor(Math.abs(r*2-u)*10/u)*it.N4}static getDataMaskBit(n,r,o){let s,l;switch(n){case 0:s=o+r&1;break;case 1:s=o&1;break;case 2:s=r%3;break;case 3:s=(o+r)%3;break;case 4:s=Math.floor(o/2)+Math.floor(r/3)&1;break;case 5:l=o*r,s=(l&1)+l%3;break;case 6:l=o*r,s=(l&1)+l%3&1;break;case 7:l=o*r,s=l%3+(o+r&1)&1;break;default:throw new I("Invalid mask pattern: "+n)}return s===0}static applyMaskPenaltyRule1Internal(n,r){let o=0;const s=r?n.getHeight():n.getWidth(),l=r?n.getWidth():n.getHeight(),u=n.getArray();for(let d=0;d<s;d++){let h=0,p=-1;for(let m=0;m<l;m++){const E=r?u[d][m]:u[m][d];E===p?h++:(h>=5&&(o+=it.N1+(h-5)),h=1,p=E)}h>=5&&(o+=it.N1+(h-5))}return o}}it.N1=3,it.N2=3,it.N3=40,it.N4=10;class ms{constructor(n,r){this.width=n,this.height=r;const o=new Array(r);for(let s=0;s!==r;s++)o[s]=new Uint8Array(n);this.bytes=o}getHeight(){return this.height}getWidth(){return this.width}get(n,r){return this.bytes[r][n]}getArray(){return this.bytes}setNumber(n,r,o){this.bytes[r][n]=o}setBoolean(n,r,o){this.bytes[r][n]=o?1:0}clear(n){for(const r of this.bytes)N.fill(r,n)}equals(n){if(!(n instanceof ms))return!1;const r=n;if(this.width!==r.width||this.height!==r.height)return!1;for(let o=0,s=this.height;o<s;++o){const l=this.bytes[o],u=r.bytes[o];for(let d=0,h=this.width;d<h;++d)if(l[d]!==u[d])return!1}return!0}toString(){const n=new Se;for(let r=0,o=this.height;r<o;++r){const s=this.bytes[r];for(let l=0,u=this.width;l<u;++l)switch(s[l]){case 0:n.append(" 0");break;case 1:n.append(" 1");break;default:n.append("  ");break}n.append(`
`)}return n.toString()}}class Xr{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const n=new Se;return n.append(`<<
`),n.append(" mode: "),n.append(this.mode?this.mode.toString():"null"),n.append(`
 ecLevel: `),n.append(this.ecLevel?this.ecLevel.toString():"null"),n.append(`
 version: `),n.append(this.version?this.version.toString():"null"),n.append(`
 maskPattern: `),n.append(this.maskPattern.toString()),this.matrix?(n.append(`
 matrix:
`),n.append(this.matrix.toString())):n.append(`
 matrix: null
`),n.append(`>>
`),n.toString()}setMode(n){this.mode=n}setECLevel(n){this.ecLevel=n}setVersion(n){this.version=n}setMaskPattern(n){this.maskPattern=n}setMatrix(n){this.matrix=n}static isValidMaskPattern(n){return n>=0&&n<Xr.NUM_MASK_PATTERNS}}Xr.NUM_MASK_PATTERNS=8;class Pe extends x{}Pe.kind="WriterException";class fe{constructor(){}static clearMatrix(n){n.clear(255)}static buildMatrix(n,r,o,s,l){fe.clearMatrix(l),fe.embedBasicPatterns(o,l),fe.embedTypeInfo(r,s,l),fe.maybeEmbedVersionInfo(o,l),fe.embedDataBits(n,s,l)}static embedBasicPatterns(n,r){fe.embedPositionDetectionPatternsAndSeparators(r),fe.embedDarkDotAtLeftBottomCorner(r),fe.maybeEmbedPositionAdjustmentPatterns(n,r),fe.embedTimingPatterns(r)}static embedTypeInfo(n,r,o){const s=new j;fe.makeTypeInfoBits(n,r,s);for(let l=0,u=s.getSize();l<u;++l){const d=s.get(s.getSize()-1-l),h=fe.TYPE_INFO_COORDINATES[l],p=h[0],m=h[1];if(o.setBoolean(p,m,d),l<8){const E=o.getWidth()-l-1,A=8;o.setBoolean(E,A,d)}else{const A=o.getHeight()-7+(l-8);o.setBoolean(8,A,d)}}}static maybeEmbedVersionInfo(n,r){if(n.getVersionNumber()<7)return;const o=new j;fe.makeVersionInfoBits(n,o);let s=6*3-1;for(let l=0;l<6;++l)for(let u=0;u<3;++u){const d=o.get(s);s--,r.setBoolean(l,r.getHeight()-11+u,d),r.setBoolean(r.getHeight()-11+u,l,d)}}static embedDataBits(n,r,o){let s=0,l=-1,u=o.getWidth()-1,d=o.getHeight()-1;for(;u>0;){for(u===6&&(u-=1);d>=0&&d<o.getHeight();){for(let h=0;h<2;++h){const p=u-h;if(!fe.isEmpty(o.get(p,d)))continue;let m;s<n.getSize()?(m=n.get(s),++s):m=!1,r!==255&&it.getDataMaskBit(r,p,d)&&(m=!m),o.setBoolean(p,d,m)}d+=l}l=-l,d+=l,u-=2}if(s!==n.getSize())throw new Pe("Not all bits consumed: "+s+"/"+n.getSize())}static findMSBSet(n){return 32-_.numberOfLeadingZeros(n)}static calculateBCHCode(n,r){if(r===0)throw new I("0 polynomial");const o=fe.findMSBSet(r);for(n<<=o-1;fe.findMSBSet(n)>=o;)n^=r<<fe.findMSBSet(n)-o;return n}static makeTypeInfoBits(n,r,o){if(!Xr.isValidMaskPattern(r))throw new Pe("Invalid mask pattern");const s=n.getBits()<<3|r;o.appendBits(s,5);const l=fe.calculateBCHCode(s,fe.TYPE_INFO_POLY);o.appendBits(l,10);const u=new j;if(u.appendBits(fe.TYPE_INFO_MASK_PATTERN,15),o.xor(u),o.getSize()!==15)throw new Pe("should not happen but we got: "+o.getSize())}static makeVersionInfoBits(n,r){r.appendBits(n.getVersionNumber(),6);const o=fe.calculateBCHCode(n.getVersionNumber(),fe.VERSION_INFO_POLY);if(r.appendBits(o,12),r.getSize()!==18)throw new Pe("should not happen but we got: "+r.getSize())}static isEmpty(n){return n===255}static embedTimingPatterns(n){for(let r=8;r<n.getWidth()-8;++r){const o=(r+1)%2;fe.isEmpty(n.get(r,6))&&n.setNumber(r,6,o),fe.isEmpty(n.get(6,r))&&n.setNumber(6,r,o)}}static embedDarkDotAtLeftBottomCorner(n){if(n.get(8,n.getHeight()-8)===0)throw new Pe;n.setNumber(8,n.getHeight()-8,1)}static embedHorizontalSeparationPattern(n,r,o){for(let s=0;s<8;++s){if(!fe.isEmpty(o.get(n+s,r)))throw new Pe;o.setNumber(n+s,r,0)}}static embedVerticalSeparationPattern(n,r,o){for(let s=0;s<7;++s){if(!fe.isEmpty(o.get(n,r+s)))throw new Pe;o.setNumber(n,r+s,0)}}static embedPositionAdjustmentPattern(n,r,o){for(let s=0;s<5;++s){const l=fe.POSITION_ADJUSTMENT_PATTERN[s];for(let u=0;u<5;++u)o.setNumber(n+u,r+s,l[u])}}static embedPositionDetectionPattern(n,r,o){for(let s=0;s<7;++s){const l=fe.POSITION_DETECTION_PATTERN[s];for(let u=0;u<7;++u)o.setNumber(n+u,r+s,l[u])}}static embedPositionDetectionPatternsAndSeparators(n){const r=fe.POSITION_DETECTION_PATTERN[0].length;fe.embedPositionDetectionPattern(0,0,n),fe.embedPositionDetectionPattern(n.getWidth()-r,0,n),fe.embedPositionDetectionPattern(0,n.getWidth()-r,n);const o=8;fe.embedHorizontalSeparationPattern(0,o-1,n),fe.embedHorizontalSeparationPattern(n.getWidth()-o,o-1,n),fe.embedHorizontalSeparationPattern(0,n.getWidth()-o,n);const s=7;fe.embedVerticalSeparationPattern(s,0,n),fe.embedVerticalSeparationPattern(n.getHeight()-s-1,0,n),fe.embedVerticalSeparationPattern(s,n.getHeight()-s,n)}static maybeEmbedPositionAdjustmentPatterns(n,r){if(n.getVersionNumber()<2)return;const o=n.getVersionNumber()-1,s=fe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[o];for(let l=0,u=s.length;l!==u;l++){const d=s[l];if(d>=0)for(let h=0;h!==u;h++){const p=s[h];p>=0&&fe.isEmpty(r.get(p,d))&&fe.embedPositionAdjustmentPattern(p-2,d-2,r)}}}}fe.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),fe.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),fe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),fe.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),fe.VERSION_INFO_POLY=7973,fe.TYPE_INFO_POLY=1335,fe.TYPE_INFO_MASK_PATTERN=21522;class sg{constructor(n,r){this.dataBytes=n,this.errorCorrectionBytes=r}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Ve{constructor(){}static calculateMaskPenalty(n){return it.applyMaskPenaltyRule1(n)+it.applyMaskPenaltyRule2(n)+it.applyMaskPenaltyRule3(n)+it.applyMaskPenaltyRule4(n)}static encode(n,r,o=null){let s=Ve.DEFAULT_BYTE_MODE_ENCODING;const l=o!==null&&o.get(pt.CHARACTER_SET)!==void 0;l&&(s=o.get(pt.CHARACTER_SET).toString());const u=this.chooseMode(n,s),d=new j;if(u===ue.BYTE&&(l||Ve.DEFAULT_BYTE_MODE_ENCODING!==s)){const Z=W.getCharacterSetECIByName(s);Z!==void 0&&this.appendECI(Z,d)}this.appendModeInfo(u,d);const h=new j;this.appendBytes(n,u,h,s);let p;if(o!==null&&o.get(pt.QR_VERSION)!==void 0){const Z=Number.parseInt(o.get(pt.QR_VERSION).toString(),10);p=le.getVersionForNumber(Z);const Y=this.calculateBitsNeeded(u,d,h,p);if(!this.willFit(Y,p,r))throw new Pe("Data too big for requested version")}else p=this.recommendVersion(r,u,d,h);const m=new j;m.appendBitArray(d);const E=u===ue.BYTE?h.getSizeInBytes():n.length;this.appendLengthInfo(E,p,u,m),m.appendBitArray(h);const A=p.getECBlocksForLevel(r),v=p.getTotalCodewords()-A.getTotalECCodewords();this.terminateBits(v,m);const O=this.interleaveWithECBytes(m,p.getTotalCodewords(),v,A.getNumBlocks()),M=new Xr;M.setECLevel(r),M.setMode(u),M.setVersion(p);const b=p.getDimensionForVersion(),F=new ms(b,b),Q=this.chooseMaskPattern(O,r,p,F);return M.setMaskPattern(Q),fe.buildMatrix(O,r,p,Q,F),M.setMatrix(F),M}static recommendVersion(n,r,o,s){const l=this.calculateBitsNeeded(r,o,s,le.getVersionForNumber(1)),u=this.chooseVersion(l,n),d=this.calculateBitsNeeded(r,o,s,u);return this.chooseVersion(d,n)}static calculateBitsNeeded(n,r,o,s){return r.getSize()+n.getCharacterCountBits(s)+o.getSize()}static getAlphanumericCode(n){return n<Ve.ALPHANUMERIC_TABLE.length?Ve.ALPHANUMERIC_TABLE[n]:-1}static chooseMode(n,r=null){if(W.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(n))return ue.KANJI;let o=!1,s=!1;for(let l=0,u=n.length;l<u;++l){const d=n.charAt(l);if(Ve.isDigit(d))o=!0;else if(this.getAlphanumericCode(d.charCodeAt(0))!==-1)s=!0;else return ue.BYTE}return s?ue.ALPHANUMERIC:o?ue.NUMERIC:ue.BYTE}static isOnlyDoubleByteKanji(n){let r;try{r=Ue.encode(n,W.SJIS)}catch{return!1}const o=r.length;if(o%2!==0)return!1;for(let s=0;s<o;s+=2){const l=r[s]&255;if((l<129||l>159)&&(l<224||l>235))return!1}return!0}static chooseMaskPattern(n,r,o,s){let l=Number.MAX_SAFE_INTEGER,u=-1;for(let d=0;d<Xr.NUM_MASK_PATTERNS;d++){fe.buildMatrix(n,r,o,d,s);let h=this.calculateMaskPenalty(s);h<l&&(l=h,u=d)}return u}static chooseVersion(n,r){for(let o=1;o<=40;o++){const s=le.getVersionForNumber(o);if(Ve.willFit(n,s,r))return s}throw new Pe("Data too big")}static willFit(n,r,o){const s=r.getTotalCodewords(),u=r.getECBlocksForLevel(o).getTotalECCodewords(),d=s-u,h=(n+7)/8;return d>=h}static terminateBits(n,r){const o=n*8;if(r.getSize()>o)throw new Pe("data bits cannot fit in the QR Code"+r.getSize()+" > "+o);for(let u=0;u<4&&r.getSize()<o;++u)r.appendBit(!1);const s=r.getSize()&7;if(s>0)for(let u=s;u<8;u++)r.appendBit(!1);const l=n-r.getSizeInBytes();for(let u=0;u<l;++u)r.appendBits(u&1?17:236,8);if(r.getSize()!==o)throw new Pe("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(n,r,o,s,l,u){if(s>=o)throw new Pe("Block ID too large");const d=n%o,h=o-d,p=Math.floor(n/o),m=p+1,E=Math.floor(r/o),A=E+1,v=p-E,O=m-A;if(v!==O)throw new Pe("EC bytes mismatch");if(o!==h+d)throw new Pe("RS blocks mismatch");if(n!==(E+v)*h+(A+O)*d)throw new Pe("Total bytes mismatch");s<h?(l[0]=E,u[0]=v):(l[0]=A,u[0]=O)}static interleaveWithECBytes(n,r,o,s){if(n.getSizeInBytes()!==o)throw new Pe("Number of bits and data bytes does not match");let l=0,u=0,d=0;const h=new Array;for(let m=0;m<s;++m){const E=new Int32Array(1),A=new Int32Array(1);Ve.getNumDataBytesAndNumECBytesForBlockID(r,o,s,m,E,A);const v=E[0],O=new Uint8Array(v);n.toBytes(8*l,O,0,v);const M=Ve.generateECBytes(O,A[0]);h.push(new sg(O,M)),u=Math.max(u,v),d=Math.max(d,M.length),l+=E[0]}if(o!==l)throw new Pe("Data bytes does not match offset");const p=new j;for(let m=0;m<u;++m)for(const E of h){const A=E.getDataBytes();m<A.length&&p.appendBits(A[m],8)}for(let m=0;m<d;++m)for(const E of h){const A=E.getErrorCorrectionBytes();m<A.length&&p.appendBits(A[m],8)}if(r!==p.getSizeInBytes())throw new Pe("Interleaving error: "+r+" and "+p.getSizeInBytes()+" differ.");return p}static generateECBytes(n,r){const o=n.length,s=new Int32Array(o+r);for(let u=0;u<o;u++)s[u]=n[u]&255;new sl(Oe.QR_CODE_FIELD_256).encode(s,r);const l=new Uint8Array(r);for(let u=0;u<r;u++)l[u]=s[o+u];return l}static appendModeInfo(n,r){r.appendBits(n.getBits(),4)}static appendLengthInfo(n,r,o,s){const l=o.getCharacterCountBits(r);if(n>=1<<l)throw new Pe(n+" is bigger than "+((1<<l)-1));s.appendBits(n,l)}static appendBytes(n,r,o,s){switch(r){case ue.NUMERIC:Ve.appendNumericBytes(n,o);break;case ue.ALPHANUMERIC:Ve.appendAlphanumericBytes(n,o);break;case ue.BYTE:Ve.append8BitBytes(n,o,s);break;case ue.KANJI:Ve.appendKanjiBytes(n,o);break;default:throw new Pe("Invalid mode: "+r)}}static getDigit(n){return n.charCodeAt(0)-48}static isDigit(n){const r=Ve.getDigit(n);return r>=0&&r<=9}static appendNumericBytes(n,r){const o=n.length;let s=0;for(;s<o;){const l=Ve.getDigit(n.charAt(s));if(s+2<o){const u=Ve.getDigit(n.charAt(s+1)),d=Ve.getDigit(n.charAt(s+2));r.appendBits(l*100+u*10+d,10),s+=3}else if(s+1<o){const u=Ve.getDigit(n.charAt(s+1));r.appendBits(l*10+u,7),s+=2}else r.appendBits(l,4),s++}}static appendAlphanumericBytes(n,r){const o=n.length;let s=0;for(;s<o;){const l=Ve.getAlphanumericCode(n.charCodeAt(s));if(l===-1)throw new Pe;if(s+1<o){const u=Ve.getAlphanumericCode(n.charCodeAt(s+1));if(u===-1)throw new Pe;r.appendBits(l*45+u,11),s+=2}else r.appendBits(l,6),s++}}static append8BitBytes(n,r,o){let s;try{s=Ue.encode(n,o)}catch(l){throw new Pe(l)}for(let l=0,u=s.length;l!==u;l++){const d=s[l];r.appendBits(d,8)}}static appendKanjiBytes(n,r){let o;try{o=Ue.encode(n,W.SJIS)}catch(l){throw new Pe(l)}const s=o.length;for(let l=0;l<s;l+=2){const u=o[l]&255,d=o[l+1]&255,h=u<<8&4294967295|d;let p=-1;if(h>=33088&&h<=40956?p=h-33088:h>=57408&&h<=60351&&(p=h-49472),p===-1)throw new Pe("Invalid byte sequence");const m=(p>>8)*192+(p&255);r.appendBits(m,13)}}static appendECI(n,r){r.appendBits(ue.ECI.getBits(),4),r.appendBits(n.getValue(),8)}}Ve.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Ve.DEFAULT_BYTE_MODE_ENCODING=W.UTF8.getName();class Qr{write(n,r,o,s=null){if(n.length===0)throw new I("Found empty contents");if(r<0||o<0)throw new I("Requested dimensions are too small: "+r+"x"+o);let l=je.L,u=Qr.QUIET_ZONE_SIZE;s!==null&&(s.get(pt.ERROR_CORRECTION)!==void 0&&(l=je.fromString(s.get(pt.ERROR_CORRECTION).toString())),s.get(pt.MARGIN)!==void 0&&(u=Number.parseInt(s.get(pt.MARGIN).toString(),10)));const d=Ve.encode(n,l,s);return this.renderResult(d,r,o,u)}writeToDom(n,r,o,s,l=null){typeof n=="string"&&(n=document.querySelector(n));const u=this.write(r,o,s,l);n&&n.appendChild(u)}renderResult(n,r,o,s){const l=n.getMatrix();if(l===null)throw new kn;const u=l.getWidth(),d=l.getHeight(),h=u+s*2,p=d+s*2,m=Math.max(r,h),E=Math.max(o,p),A=Math.min(Math.floor(m/h),Math.floor(E/p)),v=Math.floor((m-u*A)/2),O=Math.floor((E-d*A)/2),M=this.createSVGElement(m,E);for(let b=0,F=O;b<d;b++,F+=A)for(let Q=0,Z=v;Q<u;Q++,Z+=A)if(l.get(Q,b)===1){const Y=this.createSvgRectElement(Z,F,A,A);M.appendChild(Y)}return M}createSVGElement(n,r){const o=document.createElementNS(Qr.SVG_NS,"svg");return o.setAttributeNS(null,"height",n.toString()),o.setAttributeNS(null,"width",r.toString()),o}createSvgRectElement(n,r,o,s){const l=document.createElementNS(Qr.SVG_NS,"rect");return l.setAttributeNS(null,"x",n.toString()),l.setAttributeNS(null,"y",r.toString()),l.setAttributeNS(null,"height",o.toString()),l.setAttributeNS(null,"width",s.toString()),l.setAttributeNS(null,"fill","#000000"),l}}Qr.QUIET_ZONE_SIZE=4,Qr.SVG_NS="http://www.w3.org/2000/svg";class xi{encode(n,r,o,s,l){if(n.length===0)throw new I("Found empty contents");if(r!==ae.QR_CODE)throw new I("Can only encode QR_CODE, but got "+r);if(o<0||s<0)throw new I(`Requested dimensions are too small: ${o}x${s}`);let u=je.L,d=xi.QUIET_ZONE_SIZE;l!==null&&(l.get(pt.ERROR_CORRECTION)!==void 0&&(u=je.fromString(l.get(pt.ERROR_CORRECTION).toString())),l.get(pt.MARGIN)!==void 0&&(d=Number.parseInt(l.get(pt.MARGIN).toString(),10)));const h=Ve.encode(n,u,l);return xi.renderResult(h,o,s,d)}static renderResult(n,r,o,s){const l=n.getMatrix();if(l===null)throw new kn;const u=l.getWidth(),d=l.getHeight(),h=u+s*2,p=d+s*2,m=Math.max(r,h),E=Math.max(o,p),A=Math.min(Math.floor(m/h),Math.floor(E/p)),v=Math.floor((m-u*A)/2),O=Math.floor((E-d*A)/2),M=new at(m,E);for(let b=0,F=O;b<d;b++,F+=A)for(let Q=0,Z=v;Q<u;Q++,Z+=A)l.get(Q,b)===1&&M.setRegion(Z,F,A,A);return M}}xi.QUIET_ZONE_SIZE=4;class ag{encode(n,r,o,s,l){let u;switch(r){case ae.QR_CODE:u=new xi;break;default:throw new I("No encoder available for format "+r)}return u.encode(n,r,o,s,l)}}class Un extends ee{constructor(n,r,o,s,l,u,d,h){if(super(u,d),this.yuvData=n,this.dataWidth=r,this.dataHeight=o,this.left=s,this.top=l,s+u>r||l+d>o)throw new I("Crop rectangle does not fit within image data.");h&&this.reverseHorizontal(u,d)}getRow(n,r){if(n<0||n>=this.getHeight())throw new I("Requested row is outside the image: "+n);const o=this.getWidth();(r==null||r.length<o)&&(r=new Uint8ClampedArray(o));const s=(n+this.top)*this.dataWidth+this.left;return B.arraycopy(this.yuvData,s,r,0,o),r}getMatrix(){const n=this.getWidth(),r=this.getHeight();if(n===this.dataWidth&&r===this.dataHeight)return this.yuvData;const o=n*r,s=new Uint8ClampedArray(o);let l=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return B.arraycopy(this.yuvData,l,s,0,o),s;for(let u=0;u<r;u++){const d=u*n;B.arraycopy(this.yuvData,l,s,d,n),l+=this.dataWidth}return s}isCropSupported(){return!0}crop(n,r,o,s){return new Un(this.yuvData,this.dataWidth,this.dataHeight,this.left+n,this.top+r,o,s,!1)}renderThumbnail(){const n=this.getWidth()/Un.THUMBNAIL_SCALE_FACTOR,r=this.getHeight()/Un.THUMBNAIL_SCALE_FACTOR,o=new Int32Array(n*r),s=this.yuvData;let l=this.top*this.dataWidth+this.left;for(let u=0;u<r;u++){const d=u*n;for(let h=0;h<n;h++){const p=s[l+h*Un.THUMBNAIL_SCALE_FACTOR]&255;o[d+h]=4278190080|p*65793}l+=this.dataWidth*Un.THUMBNAIL_SCALE_FACTOR}return o}getThumbnailWidth(){return this.getWidth()/Un.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Un.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(n,r){const o=this.yuvData;for(let s=0,l=this.top*this.dataWidth+this.left;s<r;s++,l+=this.dataWidth){const u=l+n/2;for(let d=l,h=l+n-1;d<u;d++,h--){const p=o[d];o[d]=o[h],o[h]=p}}}invert(){return new de(this)}}Un.THUMBNAIL_SCALE_FACTOR=2;class al extends ee{constructor(n,r,o,s,l,u,d){if(super(r,o),this.dataWidth=s,this.dataHeight=l,this.left=u,this.top=d,n.BYTES_PER_ELEMENT===4){const h=r*o,p=new Uint8ClampedArray(h);for(let m=0;m<h;m++){const E=n[m],A=E>>16&255,v=E>>7&510,O=E&255;p[m]=(A+v+O)/4&255}this.luminances=p}else this.luminances=n;if(s===void 0&&(this.dataWidth=r),l===void 0&&(this.dataHeight=o),u===void 0&&(this.left=0),d===void 0&&(this.top=0),this.left+r>this.dataWidth||this.top+o>this.dataHeight)throw new I("Crop rectangle does not fit within image data.")}getRow(n,r){if(n<0||n>=this.getHeight())throw new I("Requested row is outside the image: "+n);const o=this.getWidth();(r==null||r.length<o)&&(r=new Uint8ClampedArray(o));const s=(n+this.top)*this.dataWidth+this.left;return B.arraycopy(this.luminances,s,r,0,o),r}getMatrix(){const n=this.getWidth(),r=this.getHeight();if(n===this.dataWidth&&r===this.dataHeight)return this.luminances;const o=n*r,s=new Uint8ClampedArray(o);let l=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return B.arraycopy(this.luminances,l,s,0,o),s;for(let u=0;u<r;u++){const d=u*n;B.arraycopy(this.luminances,l,s,d,n),l+=this.dataWidth}return s}isCropSupported(){return!0}crop(n,r,o,s){return new al(this.luminances,o,s,this.dataWidth,this.dataHeight,this.left+n,this.top+r)}invert(){return new de(this)}}class u1 extends W{static forName(n){return this.getCharacterSetECIByName(n)}}class ll{}ll.ISO_8859_1=W.ISO8859_1;class c1{isCompact(){return this.compact}setCompact(n){this.compact=n}getSize(){return this.size}setSize(n){this.size=n}getLayers(){return this.layers}setLayers(n){this.layers=n}getCodeWords(){return this.codeWords}setCodeWords(n){this.codeWords=n}getMatrix(){return this.matrix}setMatrix(n){this.matrix=n}}class f1{static singletonList(n){return[n]}static min(n,r){return n.sort(r)[0]}}class lg{constructor(n){this.previous=n}getPrevious(){return this.previous}}class mi extends lg{constructor(n,r,o){super(n),this.value=r,this.bitCount=o}appendTo(n,r){n.appendBits(this.value,this.bitCount)}add(n,r){return new mi(this,n,r)}addBinaryShift(n,r){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new mi(this,n,r)}toString(){let n=this.value&(1<<this.bitCount)-1;return n|=1<<this.bitCount,"<"+_.toBinaryString(n|1<<this.bitCount).substring(1)+">"}}class ul extends mi{constructor(n,r,o){super(n,0,0),this.binaryShiftStart=r,this.binaryShiftByteCount=o}appendTo(n,r){for(let o=0;o<this.binaryShiftByteCount;o++)(o===0||o===31&&this.binaryShiftByteCount<=62)&&(n.appendBits(31,5),this.binaryShiftByteCount>62?n.appendBits(this.binaryShiftByteCount-31,16):o===0?n.appendBits(Math.min(this.binaryShiftByteCount,31),5):n.appendBits(this.binaryShiftByteCount-31,5)),n.appendBits(r[this.binaryShiftStart+o],8)}addBinaryShift(n,r){return new ul(this,n,r)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function ug(y,n,r){return new ul(y,n,r)}function lo(y,n,r){return new mi(y,n,r)}const cg=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],yr=0,ws=1,pn=2,d1=3,zn=4,fg=new mi(null,0,0),cl=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,917504+14336+928+30]),Int32Array.from([(5<<16)+29,(5<<16)+28,655360+928+30,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,655360+992+28,655360+992+30,655360+992+29,0])];function dg(y){for(let n of y)N.fill(n,-1);return y[yr][zn]=0,y[ws][zn]=0,y[ws][yr]=28,y[d1][zn]=0,y[pn][zn]=0,y[pn][yr]=15,y}const h1=dg(N.createInt32Array(6,6));class jn{constructor(n,r,o,s){this.token=n,this.mode=r,this.binaryShiftByteCount=o,this.bitCount=s}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(n,r){let o=this.bitCount,s=this.token;if(n!==this.mode){let u=cl[this.mode][n];s=lo(s,u&65535,u>>16),o+=u>>16}let l=n===pn?4:5;return s=lo(s,r,l),new jn(s,n,0,o+l)}shiftAndAppend(n,r){let o=this.token,s=this.mode===pn?4:5;return o=lo(o,h1[this.mode][n],s),o=lo(o,r,5),new jn(o,this.mode,0,this.bitCount+s+5)}addBinaryShiftChar(n){let r=this.token,o=this.mode,s=this.bitCount;if(this.mode===zn||this.mode===pn){let d=cl[o][yr];r=lo(r,d&65535,d>>16),s+=d>>16,o=yr}let l=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,u=new jn(r,o,this.binaryShiftByteCount+1,s+l);return u.binaryShiftByteCount===2047+31&&(u=u.endBinaryShift(n+1)),u}endBinaryShift(n){if(this.binaryShiftByteCount===0)return this;let r=this.token;return r=ug(r,n-this.binaryShiftByteCount,this.binaryShiftByteCount),new jn(r,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(n){let r=this.bitCount+(cl[this.mode][n.mode]>>16);return this.binaryShiftByteCount<n.binaryShiftByteCount?r+=jn.calculateBinaryShiftCost(n)-jn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>n.binaryShiftByteCount&&n.binaryShiftByteCount>0&&(r+=10),r<=n.bitCount}toBitArray(n){let r=[];for(let s=this.endBinaryShift(n.length).token;s!==null;s=s.getPrevious())r.unshift(s);let o=new j;for(const s of r)s.appendTo(o,n);return o}toString(){return ce.format("%s bits=%d bytes=%d",cg[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(n){return n.binaryShiftByteCount>62?21:n.binaryShiftByteCount>31?20:n.binaryShiftByteCount>0?10:0}}jn.INITIAL_STATE=new jn(fg,yr,0,0);function hg(y){const n=ce.getCharCode(" "),r=ce.getCharCode("."),o=ce.getCharCode(",");y[yr][n]=1;const s=ce.getCharCode("Z"),l=ce.getCharCode("A");for(let A=l;A<=s;A++)y[yr][A]=A-l+2;y[ws][n]=1;const u=ce.getCharCode("z"),d=ce.getCharCode("a");for(let A=d;A<=u;A++)y[ws][A]=A-d+2;y[pn][n]=1;const h=ce.getCharCode("9"),p=ce.getCharCode("0");for(let A=p;A<=h;A++)y[pn][A]=A-p+2;y[pn][o]=12,y[pn][r]=13;const m=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let A=0;A<m.length;A++)y[d1][ce.getCharCode(m[A])]=A;const E=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let A=0;A<E.length;A++)ce.getCharCode(E[A])>0&&(y[zn][ce.getCharCode(E[A])]=A);return y}const fl=hg(N.createInt32Array(5,256));class uo{constructor(n){this.text=n}encode(){const n=ce.getCharCode(" "),r=ce.getCharCode(`
`);let o=f1.singletonList(jn.INITIAL_STATE);for(let l=0;l<this.text.length;l++){let u,d=l+1<this.text.length?this.text[l+1]:0;switch(this.text[l]){case ce.getCharCode("\r"):u=d===r?2:0;break;case ce.getCharCode("."):u=d===n?3:0;break;case ce.getCharCode(","):u=d===n?4:0;break;case ce.getCharCode(":"):u=d===n?5:0;break;default:u=0}u>0?(o=uo.updateStateListForPair(o,l,u),l++):o=this.updateStateListForChar(o,l)}return f1.min(o,(l,u)=>l.getBitCount()-u.getBitCount()).toBitArray(this.text)}updateStateListForChar(n,r){const o=[];for(let s of n)this.updateStateForChar(s,r,o);return uo.simplifyStates(o)}updateStateForChar(n,r,o){let s=this.text[r]&255,l=fl[n.getMode()][s]>0,u=null;for(let d=0;d<=zn;d++){let h=fl[d][s];if(h>0){if(u==null&&(u=n.endBinaryShift(r)),!l||d===n.getMode()||d===pn){const p=u.latchAndAppend(d,h);o.push(p)}if(!l&&h1[n.getMode()][d]>=0){const p=u.shiftAndAppend(d,h);o.push(p)}}}if(n.getBinaryShiftByteCount()>0||fl[n.getMode()][s]===0){let d=n.addBinaryShiftChar(r);o.push(d)}}static updateStateListForPair(n,r,o){const s=[];for(let l of n)this.updateStateForPair(l,r,o,s);return this.simplifyStates(s)}static updateStateForPair(n,r,o,s){let l=n.endBinaryShift(r);if(s.push(l.latchAndAppend(zn,o)),n.getMode()!==zn&&s.push(l.shiftAndAppend(zn,o)),o===3||o===4){let u=l.latchAndAppend(pn,16-o).latchAndAppend(pn,1);s.push(u)}if(n.getBinaryShiftByteCount()>0){let u=n.addBinaryShiftChar(r).addBinaryShiftChar(r+1);s.push(u)}}static simplifyStates(n){let r=[];for(const o of n){let s=!0;for(const l of r){if(l.isBetterThanOrEqualTo(o)){s=!1;break}o.isBetterThanOrEqualTo(l)&&(r=r.filter(u=>u!==l))}s&&r.push(o)}return r}}class Ne{constructor(){}static encodeBytes(n){return Ne.encode(n,Ne.DEFAULT_EC_PERCENT,Ne.DEFAULT_AZTEC_LAYERS)}static encode(n,r,o){let s=new uo(n).encode(),l=_.truncDivision(s.getSize()*r,100)+11,u=s.getSize()+l,d,h,p,m,E;if(o!==Ne.DEFAULT_AZTEC_LAYERS){if(d=o<0,h=Math.abs(o),h>(d?Ne.MAX_NB_BITS_COMPACT:Ne.MAX_NB_BITS))throw new I(ce.format("Illegal value %s for layers",o));p=Ne.totalBitsInLayer(h,d),m=Ne.WORD_SIZE[h];let Y=p-p%m;if(E=Ne.stuffBits(s,m),E.getSize()+l>Y)throw new I("Data to large for user specified layer");if(d&&E.getSize()>m*64)throw new I("Data to large for user specified layer")}else{m=0,E=null;for(let Y=0;;Y++){if(Y>Ne.MAX_NB_BITS)throw new I("Data too large for an Aztec code");if(d=Y<=3,h=d?Y+1:Y,p=Ne.totalBitsInLayer(h,d),u>p)continue;(E==null||m!==Ne.WORD_SIZE[h])&&(m=Ne.WORD_SIZE[h],E=Ne.stuffBits(s,m));let Ee=p-p%m;if(!(d&&E.getSize()>m*64)&&E.getSize()+l<=Ee)break}}let A=Ne.generateCheckWords(E,p,m),v=E.getSize()/m,O=Ne.generateModeMessage(d,h,v),M=(d?11:14)+h*4,b=new Int32Array(M),F;if(d){F=M;for(let Y=0;Y<b.length;Y++)b[Y]=Y}else{F=M+1+2*_.truncDivision(_.truncDivision(M,2)-1,15);let Y=_.truncDivision(M,2),Ee=_.truncDivision(F,2);for(let me=0;me<Y;me++){let Xt=me+_.truncDivision(me,15);b[Y-me-1]=Ee-Xt-1,b[Y+me]=Ee+Xt+1}}let Q=new at(F);for(let Y=0,Ee=0;Y<h;Y++){let me=(h-Y)*4+(d?9:12);for(let Xt=0;Xt<me;Xt++){let vn=Xt*2;for(let Qt=0;Qt<2;Qt++)A.get(Ee+vn+Qt)&&Q.set(b[Y*2+Qt],b[Y*2+Xt]),A.get(Ee+me*2+vn+Qt)&&Q.set(b[Y*2+Xt],b[M-1-Y*2-Qt]),A.get(Ee+me*4+vn+Qt)&&Q.set(b[M-1-Y*2-Qt],b[M-1-Y*2-Xt]),A.get(Ee+me*6+vn+Qt)&&Q.set(b[M-1-Y*2-Xt],b[Y*2+Qt])}Ee+=me*8}if(Ne.drawModeMessage(Q,d,F,O),d)Ne.drawBullsEye(Q,_.truncDivision(F,2),5);else{Ne.drawBullsEye(Q,_.truncDivision(F,2),7);for(let Y=0,Ee=0;Y<_.truncDivision(M,2)-1;Y+=15,Ee+=16)for(let me=_.truncDivision(F,2)&1;me<F;me+=2)Q.set(_.truncDivision(F,2)-Ee,me),Q.set(_.truncDivision(F,2)+Ee,me),Q.set(me,_.truncDivision(F,2)-Ee),Q.set(me,_.truncDivision(F,2)+Ee)}let Z=new c1;return Z.setCompact(d),Z.setSize(F),Z.setLayers(h),Z.setCodeWords(v),Z.setMatrix(Q),Z}static drawBullsEye(n,r,o){for(let s=0;s<o;s+=2)for(let l=r-s;l<=r+s;l++)n.set(l,r-s),n.set(l,r+s),n.set(r-s,l),n.set(r+s,l);n.set(r-o,r-o),n.set(r-o+1,r-o),n.set(r-o,r-o+1),n.set(r+o,r-o),n.set(r+o,r-o+1),n.set(r+o,r+o-1)}static generateModeMessage(n,r,o){let s=new j;return n?(s.appendBits(r-1,2),s.appendBits(o-1,6),s=Ne.generateCheckWords(s,28,4)):(s.appendBits(r-1,5),s.appendBits(o-1,11),s=Ne.generateCheckWords(s,40,4)),s}static drawModeMessage(n,r,o,s){let l=_.truncDivision(o,2);if(r)for(let u=0;u<7;u++){let d=l-3+u;s.get(u)&&n.set(d,l-5),s.get(u+7)&&n.set(l+5,d),s.get(20-u)&&n.set(d,l+5),s.get(27-u)&&n.set(l-5,d)}else for(let u=0;u<10;u++){let d=l-5+u+_.truncDivision(u,5);s.get(u)&&n.set(d,l-7),s.get(u+10)&&n.set(l+7,d),s.get(29-u)&&n.set(d,l+7),s.get(39-u)&&n.set(l-7,d)}}static generateCheckWords(n,r,o){let s=n.getSize()/o,l=new sl(Ne.getGF(o)),u=_.truncDivision(r,o),d=Ne.bitsToWords(n,o,u);l.encode(d,u-s);let h=r%o,p=new j;p.appendBits(0,h);for(const m of Array.from(d))p.appendBits(m,o);return p}static bitsToWords(n,r,o){let s=new Int32Array(o),l,u;for(l=0,u=n.getSize()/r;l<u;l++){let d=0;for(let h=0;h<r;h++)d|=n.get(l*r+h)?1<<r-h-1:0;s[l]=d}return s}static getGF(n){switch(n){case 4:return Oe.AZTEC_PARAM;case 6:return Oe.AZTEC_DATA_6;case 8:return Oe.AZTEC_DATA_8;case 10:return Oe.AZTEC_DATA_10;case 12:return Oe.AZTEC_DATA_12;default:throw new I("Unsupported word size "+n)}}static stuffBits(n,r){let o=new j,s=n.getSize(),l=(1<<r)-2;for(let u=0;u<s;u+=r){let d=0;for(let h=0;h<r;h++)(u+h>=s||n.get(u+h))&&(d|=1<<r-1-h);(d&l)===l?(o.appendBits(d&l,r),u--):d&l?o.appendBits(d,r):(o.appendBits(d|1,r),u--)}return o}static totalBitsInLayer(n,r){return((r?88:112)+16*n)*n}}Ne.DEFAULT_EC_PERCENT=33,Ne.DEFAULT_AZTEC_LAYERS=0,Ne.MAX_NB_BITS=32,Ne.MAX_NB_BITS_COMPACT=4,Ne.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class ys{encode(n,r,o,s){return this.encodeWithHints(n,r,o,s,null)}encodeWithHints(n,r,o,s,l){let u=ll.ISO_8859_1,d=Ne.DEFAULT_EC_PERCENT,h=Ne.DEFAULT_AZTEC_LAYERS;return l!=null&&(l.has(pt.CHARACTER_SET)&&(u=u1.forName(l.get(pt.CHARACTER_SET).toString())),l.has(pt.ERROR_CORRECTION)&&(d=_.parseInt(l.get(pt.ERROR_CORRECTION).toString())),l.has(pt.AZTEC_LAYERS)&&(h=_.parseInt(l.get(pt.AZTEC_LAYERS).toString()))),ys.encodeLayers(n,r,o,s,u,d,h)}static encodeLayers(n,r,o,s,l,u,d){if(r!==ae.AZTEC)throw new I("Can only encode AZTEC, but got "+r);let h=Ne.encode(ce.getBytes(n,l),u,d);return ys.renderResult(h,o,s)}static renderResult(n,r,o){let s=n.getMatrix();if(s==null)throw new kn;let l=s.getWidth(),u=s.getHeight(),d=Math.max(r,l),h=Math.max(o,u),p=Math.min(d/l,h/u),m=(d-l*p)/2,E=(h-u*p)/2,A=new at(d,h);for(let v=0,O=E;v<u;v++,O+=p)for(let M=0,b=m;M<l;M++,b+=p)s.get(M,v)&&A.setRegion(b,O,p,p);return A}}i.AbstractExpandedDecoder=Ka,i.ArgumentException=S,i.ArithmeticException=as,i.AztecCode=c1,i.AztecCodeReader=cs,i.AztecCodeWriter=ys,i.AztecDecoder=ze,i.AztecDetector=Kc,i.AztecDetectorResult=Qc,i.AztecEncoder=Ne,i.AztecHighLevelEncoder=uo,i.AztecPoint=Pt,i.BarcodeFormat=ae,i.Binarizer=k,i.BinaryBitmap=D,i.BitArray=j,i.BitMatrix=at,i.BitSource=el,i.BrowserAztecCodeReader=Uh,i.BrowserBarcodeReader=Wh,i.BrowserCodeReader=fn,i.BrowserDatamatrixCodeReader=Yh,i.BrowserMultiFormatReader=rg,i.BrowserPDF417Reader=ig,i.BrowserQRCodeReader=og,i.BrowserQRCodeSvgWriter=Qr,i.CharacterSetECI=W,i.ChecksumException=z,i.Code128Reader=J,i.Code39Reader=ht,i.DataMatrixDecodedBitStreamParser=pr,i.DataMatrixReader=xr,i.DecodeHintType=K,i.DecoderResult=Ji,i.DefaultGridSampler=Zc,i.DetectorResult=us,i.EAN13Reader=Vr,i.EncodeHintType=pt,i.Exception=x,i.FormatException=U,i.GenericGF=Oe,i.GenericGFPoly=Vt,i.GlobalHistogramBinarizer=tt,i.GridSampler=Ya,i.GridSamplerInstance=hr,i.HTMLCanvasElementLuminanceSource=ge,i.HybridBinarizer=pe,i.ITFReader=Be,i.IllegalArgumentException=I,i.IllegalStateException=kn,i.InvertedLuminanceSource=de,i.LuminanceSource=ee,i.MathUtils=ve,i.MultiFormatOneDReader=gi,i.MultiFormatReader=l1,i.MultiFormatWriter=ag,i.NotFoundException=H,i.OneDReader=ct,i.PDF417DecodedBitStreamParser=P,i.PDF417DecoderErrorCorrection=n1,i.PDF417Reader=Tt,i.PDF417ResultMetadata=i1,i.PerspectiveTransform=In,i.PlanarYUVLuminanceSource=Un,i.QRCodeByteMatrix=ms,i.QRCodeDataMask=hn,i.QRCodeDecodedBitStreamParser=qe,i.QRCodeDecoderErrorCorrectionLevel=je,i.QRCodeDecoderFormatInformation=Dt,i.QRCodeEncoder=Ve,i.QRCodeEncoderQRCode=Xr,i.QRCodeMaskUtil=it,i.QRCodeMatrixUtil=fe,i.QRCodeMode=ue,i.QRCodeReader=mr,i.QRCodeVersion=le,i.QRCodeWriter=xi,i.RGBLuminanceSource=al,i.RSS14Reader=rt,i.RSSExpandedReader=G,i.ReaderException=xs,i.ReedSolomonDecoder=eo,i.ReedSolomonEncoder=sl,i.ReedSolomonException=ci,i.Result=Ke,i.ResultMetadataType=wt,i.ResultPoint=se,i.StringUtils=ce,i.UnsupportedOperationException=xe,i.VideoInputDevice=Xe,i.WhiteRectangleDetector=Kn,i.WriterException=Pe,i.ZXingArrays=N,i.ZXingCharset=u1,i.ZXingInteger=_,i.ZXingStandardCharsets=ll,i.ZXingStringBuilder=Se,i.ZXingStringEncoding=Ue,i.ZXingSystem=B,i.createAbstractExpandedDecoder=e1,Object.defineProperty(i,"__esModule",{value:!0})})})(Wu,Wu.exports);var Ge=Wu.exports;const mm=Z0(Ge),wm=xg({__proto__:null,default:mm},[Ge]);var F0=function(){function e(t,i,a){if(this.formatMap=new Map([[ne.QR_CODE,Ge.BarcodeFormat.QR_CODE],[ne.AZTEC,Ge.BarcodeFormat.AZTEC],[ne.CODABAR,Ge.BarcodeFormat.CODABAR],[ne.CODE_39,Ge.BarcodeFormat.CODE_39],[ne.CODE_93,Ge.BarcodeFormat.CODE_93],[ne.CODE_128,Ge.BarcodeFormat.CODE_128],[ne.DATA_MATRIX,Ge.BarcodeFormat.DATA_MATRIX],[ne.MAXICODE,Ge.BarcodeFormat.MAXICODE],[ne.ITF,Ge.BarcodeFormat.ITF],[ne.EAN_13,Ge.BarcodeFormat.EAN_13],[ne.EAN_8,Ge.BarcodeFormat.EAN_8],[ne.PDF_417,Ge.BarcodeFormat.PDF_417],[ne.RSS_14,Ge.BarcodeFormat.RSS_14],[ne.RSS_EXPANDED,Ge.BarcodeFormat.RSS_EXPANDED],[ne.UPC_A,Ge.BarcodeFormat.UPC_A],[ne.UPC_E,Ge.BarcodeFormat.UPC_E],[ne.UPC_EAN_EXTENSION,Ge.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!wm)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=i,this.logger=a;var c=this.createZXingFormats(t),f=new Map;f.set(Ge.DecodeHintType.POSSIBLE_FORMATS,c),f.set(Ge.DecodeHintType.TRY_HARDER,!1),this.hints=f}return e.prototype.decodeAsync=function(t){var i=this;return new Promise(function(a,c){try{a(i.decode(t))}catch(f){c(f)}})},e.prototype.decode=function(t){var i=new Ge.MultiFormatReader(this.verbose,this.hints),a=new Ge.HTMLCanvasElementLuminanceSource(t),c=new Ge.BinaryBitmap(new Ge.HybridBinarizer(a)),f=i.decode(c);return{text:f.text,format:Dh.create(this.toHtml5QrcodeSupportedFormats(f.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(i,a,c){t.set(i,a)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var i=[],a=0,c=t;a<c.length;a++){var f=c[a];this.formatMap.has(f)?i.push(this.formatMap.get(f)):this.logger.logError("".concat(f," is not supported by")+"ZXingHtml5QrcodeShim")}return i},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),ym=globalThis&&globalThis.__awaiter||function(e,t,i,a){function c(f){return f instanceof i?f:new i(function(g){g(f)})}return new(i||(i=Promise))(function(f,g){function w(S){try{x(a.next(S))}catch(I){g(I)}}function C(S){try{x(a.throw(S))}catch(I){g(I)}}function x(S){S.done?f(S.value):c(S.value).then(w,C)}x((a=a.apply(e,t||[])).next())})},Em=globalThis&&globalThis.__generator||function(e,t){var i={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,c,f,g;return g={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function w(x){return function(S){return C([x,S])}}function C(x){if(a)throw new TypeError("Generator is already executing.");for(;g&&(g=0,x[0]&&(i=0)),i;)try{if(a=1,c&&(f=x[0]&2?c.return:x[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,x[1])).done)return f;switch(c=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return i.label++,{value:x[1],done:!1};case 5:i.label++,c=x[1],x=[0];continue;case 7:x=i.ops.pop(),i.trys.pop();continue;default:if(f=i.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){i=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){i.label=x[1];break}if(x[0]===6&&i.label<f[1]){i.label=f[1],f=x;break}if(f&&i.label<f[2]){i.label=f[2],i.ops.push(x);break}f[2]&&i.ops.pop(),i.trys.pop();continue}x=t.call(e,i)}catch(S){x=[6,S],c=0}finally{a=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},U0=function(){function e(t,i,a){if(this.formatMap=new Map([[ne.QR_CODE,"qr_code"],[ne.AZTEC,"aztec"],[ne.CODABAR,"codabar"],[ne.CODE_39,"code_39"],[ne.CODE_93,"code_93"],[ne.CODE_128,"code_128"],[ne.DATA_MATRIX,"data_matrix"],[ne.ITF,"itf"],[ne.EAN_13,"ean_13"],[ne.EAN_8,"ean_8"],[ne.PDF_417,"pdf417"],[ne.UPC_A,"upc_a"],[ne.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=i,this.logger=a;var c=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(c),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return ym(this,void 0,void 0,function(){var i,a;return Em(this,function(c){switch(c.label){case 0:return[4,this.detector.detect(t)];case 1:if(i=c.sent(),!i||i.length===0)throw"No barcode or QR code detected.";return a=this.selectLargestBarcode(i),[2,{text:a.rawValue,format:Dh.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var i=null,a=0,c=0,f=t;c<f.length;c++){var g=f[c],w=g.boundingBox.width*g.boundingBox.height;w>a&&(a=w,i=g)}if(!i)throw"No largest barcode found";return i},e.prototype.createBarcodeDetectorFormats=function(t){for(var i=[],a=0,c=t;a<c.length;a++){var f=c[a];this.formatMap.has(f)?i.push(this.formatMap.get(f)):this.logger.warn("".concat(f," is not supported by")+"BarcodeDetectorDelegate")}return{formats:i}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(i,a,c){t.set(i,a)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),z0=globalThis&&globalThis.__awaiter||function(e,t,i,a){function c(f){return f instanceof i?f:new i(function(g){g(f)})}return new(i||(i=Promise))(function(f,g){function w(S){try{x(a.next(S))}catch(I){g(I)}}function C(S){try{x(a.throw(S))}catch(I){g(I)}}function x(S){S.done?f(S.value):c(S.value).then(w,C)}x((a=a.apply(e,t||[])).next())})},j0=globalThis&&globalThis.__generator||function(e,t){var i={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,c,f,g;return g={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function w(x){return function(S){return C([x,S])}}function C(x){if(a)throw new TypeError("Generator is already executing.");for(;g&&(g=0,x[0]&&(i=0)),i;)try{if(a=1,c&&(f=x[0]&2?c.return:x[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,x[1])).done)return f;switch(c=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return i.label++,{value:x[1],done:!1};case 5:i.label++,c=x[1],x=[0];continue;case 7:x=i.ops.pop(),i.trys.pop();continue;default:if(f=i.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){i=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){i.label=x[1];break}if(x[0]===6&&i.label<f[1]){i.label=f[1],f=x;break}if(f&&i.label<f[2]){i.label=f[2],i.ops.push(x);break}f[2]&&i.ops.pop(),i.trys.pop();continue}x=t.call(e,i)}catch(S){x=[6,S],c=0}finally{a=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Cm=function(){function e(t,i,a,c){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=a,i&&U0.isSupported()?(this.primaryDecoder=new U0(t,a,c),this.secondaryDecoder=new F0(t,a,c)):this.primaryDecoder=new F0(t,a,c)}return e.prototype.decodeAsync=function(t){return z0(this,void 0,void 0,function(){var i;return j0(this,function(a){switch(a.label){case 0:i=performance.now(),a.label=1;case 1:return a.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,a.sent()];case 3:return this.possiblyLogPerformance(i),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return z0(this,void 0,void 0,function(){var i,a;return j0(this,function(c){switch(c.label){case 0:i=performance.now(),c.label=1;case 1:return c.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,c.sent()];case 3:if(a=c.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw a;case 4:return this.possiblyLogPerformance(i),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var i=performance.now()-t;this.executionResults.push(i),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,i=0,a=this.executionResults;i<a.length;i++){var c=a[i];t+=c}var f=t/this.executionResults.length;console.log("".concat(f," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),Yc=globalThis&&globalThis.__extends||function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(a[f]=c[f])},e(t,i)};return function(t,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(t,i);function a(){this.constructor=t}t.prototype=i===null?Object.create(i):(a.prototype=i.prototype,new a)}}(),Sa=globalThis&&globalThis.__awaiter||function(e,t,i,a){function c(f){return f instanceof i?f:new i(function(g){g(f)})}return new(i||(i=Promise))(function(f,g){function w(S){try{x(a.next(S))}catch(I){g(I)}}function C(S){try{x(a.throw(S))}catch(I){g(I)}}function x(S){S.done?f(S.value):c(S.value).then(w,C)}x((a=a.apply(e,t||[])).next())})},Ia=globalThis&&globalThis.__generator||function(e,t){var i={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,c,f,g;return g={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function w(x){return function(S){return C([x,S])}}function C(x){if(a)throw new TypeError("Generator is already executing.");for(;g&&(g=0,x[0]&&(i=0)),i;)try{if(a=1,c&&(f=x[0]&2?c.return:x[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,x[1])).done)return f;switch(c=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return i.label++,{value:x[1],done:!1};case 5:i.label++,c=x[1],x=[0];continue;case 7:x=i.ops.pop(),i.trys.pop();continue;default:if(f=i.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){i=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){i.label=x[1];break}if(x[0]===6&&i.label<f[1]){i.label=f[1],f=x;break}if(f&&i.label<f[2]){i.label=f[2],i.ops.push(x);break}f[2]&&i.ops.pop(),i.trys.pop();continue}x=t.call(e,i)}catch(S){x=[6,S],c=0}finally{a=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Bh=function(){function e(t,i){this.name=t,this.track=i}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var i={};i[this.name]=t;var a={advanced:[i]};return this.track.applyConstraints(a)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var i=t[this.name];return i}return null},e}(),Am=function(e){Yc(t,e);function t(i,a){return e.call(this,i,a)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(i){var a={};a[this.name]=i;var c={advanced:[a]};return this.track.applyConstraints(c)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var i=this.track.getCapabilities(),a=i[this.name];return{min:a.min,max:a.max,step:a.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(Bh),Sm=function(e){Yc(t,e);function t(i){return e.call(this,"zoom",i)||this}return t}(Am),Im=function(e){Yc(t,e);function t(i){return e.call(this,"torch",i)||this}return t}(Bh),Tm=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new Sm(this.track)},e.prototype.torchFeature=function(){return new Im(this.track)},e}(),vm=function(){function e(t,i,a){this.isClosed=!1,this.parentElement=t,this.mediaStream=i,this.callbacks=a,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var i=document.createElement("video");return i.style.width="".concat(t,"px"),i.style.display="block",i.muted=!0,i.setAttribute("muted","true"),i.playsInline=!0,i},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var i=function(){var a=t.surface.clientWidth,c=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(a,c),t.surface.removeEventListener("playing",i)};this.surface.addEventListener("playing",i),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,i,a,c){return Sa(this,void 0,void 0,function(){var f,g;return Ia(this,function(w){switch(w.label){case 0:return f=new e(t,i,c),a.aspectRatio?(g={aspectRatio:a.aspectRatio},[4,f.getFirstTrackOrFail().applyConstraints(g)]):[3,2];case 1:w.sent(),w.label=2;case 2:return f.setupSurface(),[2,f]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var i=this,a=function(){setTimeout(t,200),i.surface.removeEventListener("playing",a)};this.surface.addEventListener("playing",a),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return Sa(this,void 0,void 0,function(){return Ia(this,function(i){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(i,a){var c=t.mediaStream.getVideoTracks(),f=c.length,g=0;t.mediaStream.getVideoTracks().forEach(function(w){t.mediaStream.removeTrack(w),w.stop(),++g,g>=f&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),i())})})},e.prototype.getCapabilities=function(){return new Tm(this.getFirstTrackOrFail())},e}(),Nm=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,i,a){return Sa(this,void 0,void 0,function(){return Ia(this,function(c){return[2,vm.create(t,this.mediaStream,i,a)]})})},e.create=function(t){return Sa(this,void 0,void 0,function(){var i,a;return Ia(this,function(c){switch(c.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return i={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(i)];case 1:return a=c.sent(),[2,new e(a)]}})})},e}(),H0=globalThis&&globalThis.__awaiter||function(e,t,i,a){function c(f){return f instanceof i?f:new i(function(g){g(f)})}return new(i||(i=Promise))(function(f,g){function w(S){try{x(a.next(S))}catch(I){g(I)}}function C(S){try{x(a.throw(S))}catch(I){g(I)}}function x(S){S.done?f(S.value):c(S.value).then(w,C)}x((a=a.apply(e,t||[])).next())})},V0=globalThis&&globalThis.__generator||function(e,t){var i={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,c,f,g;return g={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function w(x){return function(S){return C([x,S])}}function C(x){if(a)throw new TypeError("Generator is already executing.");for(;g&&(g=0,x[0]&&(i=0)),i;)try{if(a=1,c&&(f=x[0]&2?c.return:x[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,x[1])).done)return f;switch(c=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return i.label++,{value:x[1],done:!1};case 5:i.label++,c=x[1],x=[0];continue;case 7:x=i.ops.pop(),i.trys.pop();continue;default:if(f=i.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){i=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){i.label=x[1];break}if(x[0]===6&&i.label<f[1]){i.label=f[1],f=x;break}if(f&&i.label<f[2]){i.label=f[2],i.ops.push(x);break}f[2]&&i.ops.pop(),i.trys.pop();continue}x=t.call(e,i)}catch(S){x=[6,S],c=0}finally{a=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},_m=function(){function e(){}return e.failIfNotSupported=function(){return H0(this,void 0,void 0,function(){return V0(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return H0(this,void 0,void 0,function(){return V0(this,function(i){return[2,Nm.create(t)]})})},e}(),Om=globalThis&&globalThis.__awaiter||function(e,t,i,a){function c(f){return f instanceof i?f:new i(function(g){g(f)})}return new(i||(i=Promise))(function(f,g){function w(S){try{x(a.next(S))}catch(I){g(I)}}function C(S){try{x(a.throw(S))}catch(I){g(I)}}function x(S){S.done?f(S.value):c(S.value).then(w,C)}x((a=a.apply(e,t||[])).next())})},Mm=globalThis&&globalThis.__generator||function(e,t){var i={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,c,f,g;return g={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function w(x){return function(S){return C([x,S])}}function C(x){if(a)throw new TypeError("Generator is already executing.");for(;g&&(g=0,x[0]&&(i=0)),i;)try{if(a=1,c&&(f=x[0]&2?c.return:x[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,x[1])).done)return f;switch(c=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return i.label++,{value:x[1],done:!1};case 5:i.label++,c=x[1],x=[0];continue;case 7:x=i.ops.pop(),i.trys.pop();continue;default:if(f=i.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){i=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){i.label=x[1];break}if(x[0]===6&&i.label<f[1]){i.label=f[1],f=x;break}if(f&&i.label<f[2]){i.label=f[2],i.ops.push(x);break}f[2]&&i.ops.pop(),i.trys.pop();continue}x=t.call(e,i)}catch(S){x=[6,S],c=0}finally{a=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Rm=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=bi.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=bi.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return Om(this,void 0,void 0,function(){var t,i,a,c,f,g,w;return Mm(this,function(C){switch(C.label){case 0:return t=function(x){for(var S=x.getVideoTracks(),I=0,D=S;I<D.length;I++){var z=D[I];z.enabled=!1,z.stop(),x.removeTrack(z)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return i=C.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(a=C.sent(),c=[],f=0,g=a;f<g.length;f++)w=g[f],w.kind==="videoinput"&&c.push({id:w.deviceId,label:w.label});return t(i),[2,c]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,i){var a=function(f){for(var g=[],w=0,C=f;w<C.length;w++){var x=C[w];x.kind==="video"&&g.push({id:x.id,label:x.label})}t(g)},c=MediaStreamTrack;c.getSources(a)})},e}(),ot;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(ot||(ot={}));var Dm=function(){function e(){this.state=ot.NOT_STARTED,this.onGoingTransactionNewState=ot.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===ot.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=ot.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===ot.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=ot.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==ot.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case ot.UNKNOWN:throw"Transition from unknown is not allowed";case ot.NOT_STARTED:this.failIfNewStateIs(t,[ot.PAUSED]);break;case ot.SCANNING:break;case ot.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,i){for(var a=0,c=i;a<c.length;a++){var f=c[a];if(t===f)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),bm=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===ot.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==ot.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===ot.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===ot.PAUSED},e}(),Lm=function(){function e(){}return e.create=function(){return new bm(new Dm)},e}(),km=globalThis&&globalThis.__extends||function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(a[f]=c[f])},e(t,i)};return function(t,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(t,i);function a(){this.constructor=t}t.prototype=i===null?Object.create(i):(a.prototype=i.prototype,new a)}}(),tn=function(e){km(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(Mn),Bm=function(){function e(t,i){this.logger=i,this.fps=tn.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=tn.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?kh.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!Wn(this.qrbox)},e.create=function(t,i){return new e(t,i)},e}(),W0=function(){function e(t,i){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var a;typeof i=="boolean"?this.verbose=i===!0:i&&(a=i,this.verbose=a.verbose===!0,a.experimentalFeatures),this.logger=new Lh(this.verbose),this.qrcode=new Cm(this.getSupportedFormats(i),this.getUseBarCodeDetectorIfSupported(a),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=Lm.create()}return e.prototype.start=function(t,i,a,c){var f=this;if(!t)throw"cameraIdOrConfig is required";if(!a||typeof a!="function")throw"qrCodeSuccessCallback is required and should be a function.";var g;c?g=c:g=this.verbose?this.logger.log:function(){};var w=Bm.create(i,this.logger);this.clearElement();var C=!1;w.videoConstraints&&(w.isMediaStreamConstraintsValid()?C=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var x=C,S=document.getElementById(this.elementId);S.clientWidth?S.clientWidth:tn.DEFAULT_WIDTH,S.style.position="relative",this.shouldScan=!0,this.element=S;var I=this,D=this.stateManagerProxy.startTransition(ot.SCANNING);return new Promise(function(z,k){var B=x?w.videoConstraints:I.createVideoConstraints(t);if(!B){D.cancel(),k("videoConstraints should be defined");return}var ie={};(!x||w.aspectRatio)&&(ie.aspectRatio=w.aspectRatio);var R={onRenderSurfaceReady:function(N,_){I.setupUi(N,_,w),I.isScanning=!0,I.foreverScan(w,a,g)}};_m.failIfNotSupported().then(function(N){N.create(B).then(function(_){return _.render(f.element,ie,R).then(function(j){I.renderedCamera=j,D.execute(),z(null)}).catch(function(j){D.cancel(),k(j)})}).catch(function(_){D.cancel(),k(bi.errorGettingUserMedia(_))})}).catch(function(N){D.cancel(),k(bi.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(ot.PAUSED),this.showPausedState(),(Wn(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,i=function(){t.stateManagerProxy.directTransition(ot.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){i();return}this.renderedCamera.resume(function(){i()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var i=this.stateManagerProxy.startTransition(ot.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var a=function(){if(t.element){var f=document.getElementById(tn.SHADED_REGION_ELEMENT_ID);f&&t.element.removeChild(f)}},c=this;return this.renderedCamera.close().then(function(){return c.renderedCamera=null,c.element&&(c.element.removeChild(c.canvasElement),c.canvasElement=null),a(),c.qrRegion&&(c.qrRegion=null),c.context&&(c.context=null),i.execute(),c.hidePausedState(),c.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,i){return this.scanFileV2(t,i).then(function(a){return a.decodedText})},e.prototype.scanFileV2=function(t,i){var a=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Wn(i)&&(i=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(c,f){a.possiblyCloseLastScanImageFile(),a.clearElement(),a.lastScanImageFile=URL.createObjectURL(t);var g=new Image;g.onload=function(){var w=g.width,C=g.height,x=document.getElementById(a.elementId),S=x.clientWidth?x.clientWidth:tn.DEFAULT_WIDTH,I=Math.max(x.clientHeight?x.clientHeight:C,tn.FILE_SCAN_MIN_HEIGHT),D=a.computeCanvasDrawConfig(w,C,S,I);if(i){var z=a.createCanvasElement(S,I,"qr-canvas-visible");z.style.display="inline-block",x.appendChild(z);var k=z.getContext("2d");if(!k)throw"Unable to get 2d context from canvas";k.canvas.width=S,k.canvas.height=I,k.drawImage(g,0,0,w,C,D.x,D.y,D.width,D.height)}var B=tn.FILE_SCAN_HIDDEN_CANVAS_PADDING,ie=Math.max(g.width,D.width),R=Math.max(g.height,D.height),N=ie+2*B,_=R+2*B,j=a.createCanvasElement(N,_);x.appendChild(j);var $=j.getContext("2d");if(!$)throw"Unable to get 2d context from canvas";$.canvas.width=N,$.canvas.height=_,$.drawImage(g,0,0,w,C,B,B,ie,R);try{a.qrcode.decodeRobustlyAsync(j).then(function(K){c(B0.createFromQrcodeResult(K))}).catch(f)}catch(K){f("QR code parse error, error = ".concat(K))}},g.onerror=f,g.onabort=f,g.onstalled=f,g.onsuspend=f,g.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return Rm.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!kh.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var i=[ne.QR_CODE,ne.AZTEC,ne.CODABAR,ne.CODE_39,ne.CODE_93,ne.CODE_128,ne.DATA_MATRIX,ne.MAXICODE,ne.ITF,ne.EAN_13,ne.EAN_8,ne.PDF_417,ne.RSS_14,ne.RSS_EXPANDED,ne.UPC_A,ne.UPC_E,ne.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return i;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var a=[],c=0,f=t.formatsToSupport;c<f.length;c++){var g=f[c];pm(g)?a.push(g):this.logger.warn("Invalid format: ".concat(g," passed in config, ignoring."))}if(a.length===0)throw"None of formatsToSupport match supported values.";return a},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(Wn(t))return!0;if(!Wn(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(Wn(t.experimentalFeatures))return!0;var i=t.experimentalFeatures;return Wn(i.useBarCodeDetectorIfSupported)?!0:i.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,i,a){var c=this,f=a.qrbox;this.validateQrboxConfig(f);var g=this.toQrdimensions(t,i,f),w=function(x){if(x<tn.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(tn.MIN_QR_BOX_SIZE,"px.")},C=function(x){return x>t&&(c.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),x=t),x};w(g.width),w(g.height),g.width=C(g.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,i,a){if(typeof a=="number")return{width:a,height:a};if(typeof a=="function")try{return a(t,i)}catch(c){throw new Error("qrbox config was passed as a function but it failed with unknown error"+c)}return a},e.prototype.setupUi=function(t,i,a){a.isShadedBoxEnabled()&&this.validateQrboxSize(t,i,a);var c=Wn(a.qrbox)?{width:t,height:i}:a.qrbox;this.validateQrboxConfig(c);var f=this.toQrdimensions(t,i,c);f.height>i&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var g=a.isShadedBoxEnabled()&&f.height<=i,w={x:0,y:0,width:t,height:i},C=g?this.getShadedRegionBounds(t,i,f):w,x=this.createCanvasElement(C.width,C.height),S={willReadFrequently:!0},I=x.getContext("2d",S);I.canvas.width=C.width,I.canvas.height=C.height,this.element.append(x),g&&this.possiblyInsertShadingElement(this.element,t,i,f),this.createScannerPausedUiElement(this.element),this.qrRegion=C,this.context=I,this.canvasElement=x},e.prototype.createScannerPausedUiElement=function(t){var i=document.createElement("div");i.innerText=bi.scannerPaused(),i.style.display="none",i.style.position="absolute",i.style.top="0px",i.style.zIndex="1",i.style.background="rgba(9, 9, 9, 0.46)",i.style.color="#FFECEC",i.style.textAlign="center",i.style.width="100%",t.appendChild(i),this.scannerPausedUiElement=i},e.prototype.scanContext=function(t,i){var a=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(c){return t(c.text,B0.createFromQrcodeResult(c)),a.possiblyUpdateShaders(!0),!0}).catch(function(c){a.possiblyUpdateShaders(!1);var f=bi.codeParseError(c);return i(f,bh.createFrom(f)),!1})},e.prototype.foreverScan=function(t,i,a){var c=this;if(this.shouldScan&&this.renderedCamera){var f=this.renderedCamera.getSurface(),g=f.videoWidth/f.clientWidth,w=f.videoHeight/f.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var C=this.qrRegion.width*g,x=this.qrRegion.height*w,S=this.qrRegion.x*g,I=this.qrRegion.y*w;this.context.drawImage(f,S,I,C,x,0,0,this.qrRegion.width,this.qrRegion.height);var D=function(){c.foreverScanTimeout=setTimeout(function(){c.foreverScan(t,i,a)},c.getTimeoutFps(t.fps))};this.scanContext(i,a).then(function(z){!z&&t.disableFlip!==!0?(c.context.translate(c.context.canvas.width,0),c.context.scale(-1,1),c.scanContext(i,a).finally(function(){D()})):D()}).catch(function(z){c.logger.logError("Error happend while scanning context",z),D()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var i="facingMode",a="deviceId",c={user:!0,environment:!0},f="exact",g=function(k){if(k in c)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(k,"'")},w=Object.keys(t);if(w.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(w.length," keys");var C=Object.keys(t)[0];if(C!==i&&C!==a)throw"Only '".concat(i,"' and '").concat(a,"' ")+" are supported for 'cameraIdOrConfig'";if(C===i){var x=t.facingMode;if(typeof x=="string"){if(g(x))return{facingMode:x}}else if(typeof x=="object")if(f in x){if(g(x["".concat(f)]))return{facingMode:{exact:x["".concat(f)]}}}else throw"'facingMode' should be string or object with"+" ".concat(f," as key.");else{var S=typeof x;throw"Invalid type of 'facingMode' = ".concat(S)}}else{var I=t.deviceId;if(typeof I=="string")return{deviceId:I};if(typeof I=="object"){if(f in I)return{deviceId:{exact:I["".concat(f)]}};throw"'deviceId' should be string or object with"+" ".concat(f," as key.")}else{var D=typeof I;throw"Invalid type of 'deviceId' = ".concat(D)}}}var z=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(z)},e.prototype.computeCanvasDrawConfig=function(t,i,a,c){if(t<=a&&i<=c){var f=(a-t)/2,g=(c-i)/2;return{x:f,y:g,width:t,height:i}}else{var w=t,C=i;return t>a&&(i=a/t*i,t=a),i>c&&(t=c/i*t,i=c),this.logger.log("Image downsampled from "+"".concat(w,"X").concat(C)+" to ".concat(t,"X").concat(i,".")),this.computeCanvasDrawConfig(t,i,a,c)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(i){i.style.backgroundColor=t?tn.BORDER_SHADER_MATCH_COLOR:tn.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,i,a){var c=t,f=i,g=document.createElement("canvas");return g.style.width="".concat(c,"px"),g.style.height="".concat(f,"px"),g.style.display="none",g.id=Wn(a)?"qr-canvas":a,g},e.prototype.getShadedRegionBounds=function(t,i,a){if(a.width>t||a.height>i)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-a.width)/2,y:(i-a.height)/2,width:a.width,height:a.height}},e.prototype.possiblyInsertShadingElement=function(t,i,a,c){if(!(i-c.width<1||a-c.height<1)){var f=document.createElement("div");f.style.position="absolute";var g=(i-c.width)/2,w=(a-c.height)/2;if(f.style.borderLeft="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),f.style.borderRight="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),f.style.borderTop="".concat(w,"px solid rgba(0, 0, 0, 0.48)"),f.style.borderBottom="".concat(w,"px solid rgba(0, 0, 0, 0.48)"),f.style.boxSizing="border-box",f.style.top="0px",f.style.bottom="0px",f.style.left="0px",f.style.right="0px",f.id="".concat(tn.SHADED_REGION_ELEMENT_ID),i-c.width<11||a-c.height<11)this.hasBorderShaders=!1;else{var C=5,x=40;this.insertShaderBorders(f,x,C,-C,null,0,!0),this.insertShaderBorders(f,x,C,-C,null,0,!1),this.insertShaderBorders(f,x,C,null,-C,0,!0),this.insertShaderBorders(f,x,C,null,-C,0,!1),this.insertShaderBorders(f,C,x+C,-C,null,-C,!0),this.insertShaderBorders(f,C,x+C,null,-C,-C,!0),this.insertShaderBorders(f,C,x+C,-C,null,-C,!1),this.insertShaderBorders(f,C,x+C,null,-C,-C,!1),this.hasBorderShaders=!0}t.append(f)}},e.prototype.insertShaderBorders=function(t,i,a,c,f,g,w){var C=document.createElement("div");C.style.position="absolute",C.style.backgroundColor=tn.BORDER_SHADER_DEFAULT_COLOR,C.style.width="".concat(i,"px"),C.style.height="".concat(a,"px"),c!==null&&(C.style.top="".concat(c,"px")),f!==null&&(C.style.bottom="".concat(f,"px")),w?C.style.left="".concat(g,"px"):C.style.right="".concat(g,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(C),t.appendChild(C)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),Xc="data:image/svg+xml;base64,",Pm=Xc+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",Fm=Xc+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",G0=Xc+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",Um="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",Y0=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),zm=function(){function e(){this.data=Y0.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(t){this.data.hasPermission=t,this.flush()},e.prototype.setLastUsedCameraId=function(t){this.data.lastUsedCameraId=t,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=Y0.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e}(),jm=function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(t){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=P0.poweredBy();var i=document.createElement("a");i.innerText="ScanApp",i.href="https://scanapp.org",i.target="new",i.style.color="white",this.infoDiv.appendChild(i);var a=document.createElement("br"),c=document.createElement("br");this.infoDiv.appendChild(a),this.infoDiv.appendChild(c);var f=document.createElement("a");f.innerText=P0.reportIssues(),f.href="https://github.com/mebjas/html5-qrcode/issues",f.target="new",f.style.color="white",this.infoDiv.appendChild(f),t.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e}(),Hm=function(){function e(t,i){this.isShowingInfoIcon=!0,this.onTapIn=t,this.onTapOut=i,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(t){var i=this;this.infoIcon.alt="Info icon",this.infoIcon.src=G0,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(a){return i.onHoverIn()},this.infoIcon.onmouseout=function(a){return i.onHoverOut()},this.infoIcon.onclick=function(a){return i.onClick()},t.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=Um,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=G0,this.infoIcon.style.opacity="0.6")},e}(),Vm=function(){function e(){var t=this;this.infoDiv=new jm,this.infoIcon=new Hm(function(){t.infoDiv.show()},function(){t.infoDiv.hide()})}return e.prototype.renderInto=function(t){this.infoDiv.renderInto(t),this.infoIcon.renderInto(t)},e}(),Wm=globalThis&&globalThis.__awaiter||function(e,t,i,a){function c(f){return f instanceof i?f:new i(function(g){g(f)})}return new(i||(i=Promise))(function(f,g){function w(S){try{x(a.next(S))}catch(I){g(I)}}function C(S){try{x(a.throw(S))}catch(I){g(I)}}function x(S){S.done?f(S.value):c(S.value).then(w,C)}x((a=a.apply(e,t||[])).next())})},Gm=globalThis&&globalThis.__generator||function(e,t){var i={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,c,f,g;return g={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function w(x){return function(S){return C([x,S])}}function C(x){if(a)throw new TypeError("Generator is already executing.");for(;g&&(g=0,x[0]&&(i=0)),i;)try{if(a=1,c&&(f=x[0]&2?c.return:x[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,x[1])).done)return f;switch(c=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return i.label++,{value:x[1],done:!1};case 5:i.label++,c=x[1],x=[0];continue;case 7:x=i.ops.pop(),i.trys.pop();continue;default:if(f=i.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){i=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){i.label=x[1];break}if(x[0]===6&&i.label<f[1]){i.label=f[1],f=x;break}if(f&&i.label<f[2]){i.label=f[2],i.ops.push(x);break}f[2]&&i.ops.pop(),i.trys.pop();continue}x=t.call(e,i)}catch(S){x=[6,S],c=0}finally{a=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},X0=function(){function e(){}return e.hasPermissions=function(){return Wm(this,void 0,void 0,function(){var t,i,a,c;return Gm(this,function(f){switch(f.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(t=f.sent(),i=0,a=t;i<a.length;i++)if(c=a[i],c.kind==="videoinput"&&c.label)return[2,!0];return[2,!1]}})})},e}(),Ar=function(){function e(t){this.supportedScanTypes=this.validateAndReturnScanTypes(t)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,i=this.supportedScanTypes;t<i.length;t++){var a=i[t];if(e.isCameraScanType(a))return!0}return!1},e.isCameraScanType=function(t){return t===cr.SCAN_TYPE_CAMERA},e.isFileScanType=function(t){return t===cr.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(t){if(!t||t.length===0)return Mn.DEFAULT_SUPPORTED_SCAN_TYPE;var i=Mn.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(t.length>i)throw"Max ".concat(i," values expected for ")+"supportedScanTypes";for(var a=0,c=t;a<c.length;a++){var f=c[a];if(!Mn.DEFAULT_SUPPORTED_SCAN_TYPE.includes(f))throw"Unsupported scan type ".concat(f)}return t},e}(),on=function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e}(),rr=function(){function e(){}return e.createElement=function(t,i){var a=document.createElement(t);return a.id=i,a.classList.add(on.ALL_ELEMENT_CLASS),t==="button"&&a.setAttribute("type","button"),a},e}(),Ph=globalThis&&globalThis.__awaiter||function(e,t,i,a){function c(f){return f instanceof i?f:new i(function(g){g(f)})}return new(i||(i=Promise))(function(f,g){function w(S){try{x(a.next(S))}catch(I){g(I)}}function C(S){try{x(a.throw(S))}catch(I){g(I)}}function x(S){S.done?f(S.value):c(S.value).then(w,C)}x((a=a.apply(e,t||[])).next())})},Fh=globalThis&&globalThis.__generator||function(e,t){var i={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,c,f,g;return g={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function w(x){return function(S){return C([x,S])}}function C(x){if(a)throw new TypeError("Generator is already executing.");for(;g&&(g=0,x[0]&&(i=0)),i;)try{if(a=1,c&&(f=x[0]&2?c.return:x[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,x[1])).done)return f;switch(c=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return i.label++,{value:x[1],done:!1};case 5:i.label++,c=x[1],x=[0];continue;case 7:x=i.ops.pop(),i.trys.pop();continue;default:if(f=i.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){i=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){i.label=x[1];break}if(x[0]===6&&i.label<f[1]){i.label=f[1],f=x;break}if(f&&i.label<f[2]){i.label=f[2],i.ops.push(x);break}f[2]&&i.ops.pop(),i.trys.pop();continue}x=t.call(e,i)}catch(S){x=[6,S],c=0}finally{a=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Q0=function(){function e(t,i,a){this.isTorchOn=!1,this.torchCapability=t,this.buttonController=i,this.onTorchActionFailureCallback=a}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return Ph(this,void 0,void 0,function(){var t,i;return Fh(this,function(a){switch(a.label){case 0:this.buttonController.disable(),t=!this.isTorchOn,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.torchCapability.apply(t)];case 2:return a.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),t),[3,4];case 3:return i=a.sent(),this.propagateFailure(t,i),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(t,i){t===i?(this.buttonController.setText(i?be.torchOffButton():be.torchOnButton()),this.isTorchOn=i):this.propagateFailure(i),this.buttonController.enable()},e.prototype.propagateFailure=function(t,i){var a=t?be.torchOnFailedMessage():be.torchOffFailedMessage();i&&(a+="; Error = "+i),this.onTorchActionFailureCallback(a)},e.prototype.reset=function(){this.isTorchOn=!1},e}(),Ym=function(){function e(t,i){this.onTorchActionFailureCallback=i,this.torchButton=rr.createElement("button",on.TORCH_BUTTON_ID),this.torchController=new Q0(t,this,i)}return e.prototype.render=function(t,i){var a=this;this.torchButton.innerText=be.torchOnButton(),this.torchButton.style.display=i.display,this.torchButton.style.marginLeft=i.marginLeft;var c=this;this.torchButton.addEventListener("click",function(f){return Ph(a,void 0,void 0,function(){return Fh(this,function(g){switch(g.label){case 0:return[4,c.torchController.flipState()];case 1:return g.sent(),c.torchController.isTorchEnabled()?(c.torchButton.classList.remove(on.TORCH_BUTTON_CLASS_TORCH_OFF),c.torchButton.classList.add(on.TORCH_BUTTON_CLASS_TORCH_ON)):(c.torchButton.classList.remove(on.TORCH_BUTTON_CLASS_TORCH_ON),c.torchButton.classList.add(on.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),t.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(t){this.torchController=new Q0(t,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(t){this.torchButton.innerText=t},e.prototype.reset=function(){this.torchButton.innerText=be.torchOnButton(),this.torchController.reset()},e.create=function(t,i,a,c){var f=new e(i,c);return f.render(t,a),f},e}(),Xm=function(){function e(t,i,a){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=i?"block":"none",t.appendChild(this.fileBasedScanRegion);var c=document.createElement("label");c.setAttribute("for",this.getFileScanInputId()),c.style.display="inline-block",this.fileBasedScanRegion.appendChild(c),this.fileSelectionButton=rr.createElement("button",on.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(w){c.click()}),c.append(this.fileSelectionButton),this.fileScanInput=rr.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",c.appendChild(this.fileScanInput);var f=this;this.fileScanInput.addEventListener("change",function(w){if(!(w==null||w.target==null)){var C=w.target;if(!(C.files&&C.files.length===0)){var x=C.files,S=x[0],I=S.name;f.setImageNameToButton(I),a(S)}}});var g=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(g),this.fileBasedScanRegion.addEventListener("dragenter",function(w){f.fileBasedScanRegion.style.border=f.fileBasedScanRegionActiveBorder(),w.stopPropagation(),w.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(w){f.fileBasedScanRegion.style.border=f.fileBasedScanRegionDefaultBorder(),w.stopPropagation(),w.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(w){f.fileBasedScanRegion.style.border=f.fileBasedScanRegionActiveBorder(),w.stopPropagation(),w.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(w){w.stopPropagation(),w.preventDefault(),f.fileBasedScanRegion.style.border=f.fileBasedScanRegionDefaultBorder();var C=w.dataTransfer;if(C){var x=C.files;if(!x||x.length===0)return;for(var S=!1,I=0;I<x.length;++I){var D=x.item(I);if(D){var z=/image.*/;if(D.type.match(z)){S=!0;var k=D.name;f.setImageNameToButton(k),a(D),g.innerText=be.dragAndDropMessage();break}}}S||(g.innerText=be.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var t=document.createElement("div");return t.style.textAlign="center",t.style.margin="auto",t.style.width="80%",t.style.maxWidth="600px",t.style.border=this.fileBasedScanRegionDefaultBorder(),t.style.padding="10px",t.style.marginBottom="10px",t},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var t=document.createElement("div");return t.innerText=be.dragAndDropMessage(),t.style.fontWeight="400",t},e.prototype.setImageNameToButton=function(t){var i=20;if(t.length>i){var a=t.substring(0,8),c=t.length,f=t.substring(c-8,c);t="".concat(a,"....").concat(f)}var g=be.fileSelectionChooseAnother()+" - "+t;this.fileSelectionButton.innerText=g},e.prototype.setInitialValueToButton=function(){var t=be.fileSelectionChooseImage()+" - "+be.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=t},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(t,i,a){var c=new e(t,i,a);return c},e}(),Qm=function(){function e(t){this.selectElement=rr.createElement("select",on.CAMERA_SELECTION_SELECT_ID),this.cameras=t,this.options=[]}return e.prototype.render=function(t){var i=document.createElement("span");i.style.marginRight="10px";var a=this.cameras.length;if(a===0)throw new Error("No cameras found");if(a===1)i.style.display="none";else{var c=be.selectCamera();i.innerText="".concat(c," (").concat(this.cameras.length,")  ")}for(var f=1,g=0,w=this.cameras;g<w.length;g++){var C=w[g],x=C.id,S=C.label==null?x:C.label;(!S||S==="")&&(S=[be.anonymousCameraPrefix(),f++].join(" "));var I=document.createElement("option");I.value=x,I.innerText=S,this.options.push(I),this.selectElement.appendChild(I)}i.appendChild(this.selectElement),t.appendChild(i)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(t){for(var i=0,a=this.options;i<a.length;i++){var c=a[i];if(c.value===t)return!0}return!1},e.prototype.setValue=function(t){if(!this.hasValue(t))throw new Error("".concat(t," is not present in the camera list."));this.selectElement.value=t},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(t,i){var a=new e(i);return a.render(t),a},e}(),Zm=function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=rr.createElement("input",on.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(t,i){this.zoomElementContainer.style.display=i?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",t.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var a=be.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(a),this.rangeText.style.marginRight="10px";var c=this;this.rangeInput.addEventListener("input",function(){return c.onValueChange()}),this.rangeInput.addEventListener("change",function(){return c.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var t=be.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(t),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(t,i,a,c){this.rangeInput.min=t.toString(),this.rangeInput.max=i.toString(),this.rangeInput.step=c.toString(),this.rangeInput.value=a.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(t){this.onChangeCallback=t},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(t,i){var a=new e;return a.render(t,i),a},e}(),nn;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(nn||(nn={}));function Km(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function qm(e,t){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:t}}var Jm=function(){function e(t,i,a){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=t,this.config=this.createConfig(i),this.verbose=a===!0,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.scanTypeSelector=new Ar(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new Lh(this.verbose),this.persistedDataManager=new zm,i.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(t,i){var a=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(f,g){if(t)t(f,g);else{if(a.lastMatchFound===f)return;a.lastMatchFound=f,a.setHeaderMessage(be.lastMatch(f),nn.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(f,g){i&&i(f,g)};var c=document.getElementById(this.elementId);if(!c)throw"HTML Element with id=".concat(this.elementId," not found");c.innerHTML="",this.createBasicLayout(c),this.html5Qrcode=new W0(this.getScanRegionId(),qm(this.config,this.verbose))},e.prototype.pause=function(t){(Wn(t)||t!==!0)&&(t=!1),this.getHtml5QrcodeOrFail().pause(t)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var t=this,i=function(){var a=document.getElementById(t.elementId);a&&(a.innerHTML="",t.resetBasicLayout(a))};return this.html5Qrcode?new Promise(function(a,c){if(!t.html5Qrcode){a();return}t.html5Qrcode.isScanning?t.html5Qrcode.stop().then(function(f){if(!t.html5Qrcode){a();return}t.html5Qrcode.clear(),i(),a()}).catch(function(f){t.verbose&&t.logger.logError("Unable to stop qrcode scanner",f),c(f)}):(t.html5Qrcode.clear(),i(),a())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(t){return this.getHtml5QrcodeOrFail().applyVideoConstraints(t)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(t){return t?(t.fps||(t.fps=Mn.SCAN_DEFAULT_FPS),t.rememberLastUsedCamera!==!Mn.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(t.rememberLastUsedCamera=Mn.DEFAULT_REMEMBER_LAST_CAMERA_USED),t.supportedScanTypes||(t.supportedScanTypes=Mn.DEFAULT_SUPPORTED_SCAN_TYPE),t):{fps:Mn.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Mn.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Mn.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(t){t.style.position="relative",t.style.padding="0px",t.style.border="1px solid silver",this.createHeader(t);var i=document.createElement("div"),a=this.getScanRegionId();i.id=a,i.style.width="100%",i.style.minHeight="100px",i.style.textAlign="center",t.appendChild(i),Ar.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var c=document.createElement("div"),f=this.getDashboardId();c.id=f,c.style.width="100%",t.appendChild(c),this.setupInitialDashboard(c)},e.prototype.resetBasicLayout=function(t){t.style.border="none"},e.prototype.setupInitialDashboard=function(t){this.createSection(t),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(t){var i=document.createElement("div");i.style.textAlign="left",i.style.margin="0px",t.appendChild(i);var a=new Vm;a.renderInto(i);var c=document.createElement("div");c.id=this.getHeaderMessageContainerId(),c.style.display="none",c.style.textAlign="center",c.style.fontSize="14px",c.style.padding="2px 10px",c.style.margin="4px",c.style.borderTop="1px solid #f6f6f6",i.appendChild(c)},e.prototype.createSection=function(t){var i=document.createElement("div");i.id=this.getDashboardSectionId(),i.style.width="100%",i.style.padding="10px 0px 10px 0px",i.style.textAlign="left",t.appendChild(i)},e.prototype.createCameraListUi=function(t,i,a){var c=this;c.showHideScanTypeSwapLink(!1),c.setHeaderMessage(be.cameraPermissionRequesting());var f=function(){a||c.createPermissionButton(t,i)};W0.getCameras().then(function(g){c.persistedDataManager.setHasPermission(!0),c.showHideScanTypeSwapLink(!0),c.resetHeaderMessage(),g&&g.length>0?(t.removeChild(i),c.renderCameraSelection(g)):(c.setHeaderMessage(be.noCameraFound(),nn.STATUS_WARNING),f())}).catch(function(g){c.persistedDataManager.setHasPermission(!1),a?a.disabled=!1:f(),c.setHeaderMessage(g,nn.STATUS_WARNING),c.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(t,i){var a=this,c=rr.createElement("button",this.getCameraPermissionButtonId());c.innerText=be.cameraPermissionTitle(),c.addEventListener("click",function(){c.disabled=!0,a.createCameraListUi(t,i,c)}),i.appendChild(c)},e.prototype.createPermissionsUi=function(t,i){var a=this;if(Ar.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){X0.hasPermissions().then(function(c){c?a.createCameraListUi(t,i):(a.persistedDataManager.setHasPermission(!1),a.createPermissionButton(t,i))}).catch(function(c){a.persistedDataManager.setHasPermission(!1),a.createPermissionButton(t,i)});return}this.createPermissionButton(t,i)},e.prototype.createSectionControlPanel=function(){var t=document.getElementById(this.getDashboardSectionId()),i=document.createElement("div");t.appendChild(i);var a=document.createElement("div");a.id=this.getDashboardSectionCameraScanRegionId(),a.style.display=Ar.isCameraScanType(this.currentScanType)?"block":"none",i.appendChild(a);var c=document.createElement("div");c.style.textAlign="center",a.appendChild(c),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(a,c),this.renderFileScanUi(i)},e.prototype.renderFileScanUi=function(t){var i=Ar.isFileScanType(this.currentScanType),a=this,c=function(f){if(!a.html5Qrcode)throw"html5Qrcode not defined";Ar.isFileScanType(a.currentScanType)&&(a.setHeaderMessage(be.loadingImage()),a.html5Qrcode.scanFileV2(f,!0).then(function(g){a.resetHeaderMessage(),a.qrCodeSuccessCallback(g.decodedText,g)}).catch(function(g){a.setHeaderMessage(g,nn.STATUS_WARNING),a.qrCodeErrorCallback(g,bh.createFrom(g))}))};this.fileSelectionUi=Xm.create(t,i,c)},e.prototype.renderCameraSelection=function(t){var i=this,a=this,c=document.getElementById(this.getDashboardSectionCameraScanRegionId());c.style.textAlign="center";var f=Zm.create(c,!1),g=function(B){var ie=B.zoomFeature();if(ie.isSupported()){f.setOnCameraZoomValueChangeCallback(function(N){ie.apply(N)});var R=1;i.config.defaultZoomValueIfSupported&&(R=i.config.defaultZoomValueIfSupported),R=xm(R,ie.min(),ie.max()),f.setValues(ie.min(),ie.max(),R,ie.step()),f.show()}},w=Qm.create(c,t),C=document.createElement("span"),x=rr.createElement("button",on.CAMERA_START_BUTTON_ID);x.innerText=be.scanButtonStartScanningText(),C.appendChild(x);var S=rr.createElement("button",on.CAMERA_STOP_BUTTON_ID);S.innerText=be.scanButtonStopScanningText(),S.style.display="none",S.disabled=!0,C.appendChild(S);var I,D=function(B){if(!B.torchFeature().isSupported()){I&&I.hide();return}I?I.updateTorchCapability(B.torchFeature()):I=Ym.create(C,B.torchFeature(),{display:"none",marginLeft:"5px"},function(ie){a.setHeaderMessage(ie,nn.STATUS_WARNING)}),I.show()};c.appendChild(C);var z=function(B){B||(x.style.display="none"),x.innerText=be.scanButtonStartScanningText(),x.style.opacity="1",x.disabled=!1,B&&(x.style.display="inline-block")};if(x.addEventListener("click",function(B){x.innerText=be.scanButtonScanningStarting(),w.disable(),x.disabled=!0,x.style.opacity="0.5",i.scanTypeSelector.hasMoreThanOneScanType()&&a.showHideScanTypeSwapLink(!1),a.resetHeaderMessage();var ie=w.getValue();a.persistedDataManager.setLastUsedCameraId(ie),a.html5Qrcode.start(ie,Km(a.config),a.qrCodeSuccessCallback,a.qrCodeErrorCallback).then(function(R){S.disabled=!1,S.style.display="inline-block",z(!1);var N=a.html5Qrcode.getRunningTrackCameraCapabilities();i.config.showTorchButtonIfSupported===!0&&D(N),i.config.showZoomSliderIfSupported===!0&&g(N)}).catch(function(R){a.showHideScanTypeSwapLink(!0),w.enable(),z(!0),a.setHeaderMessage(R,nn.STATUS_WARNING)})}),w.hasSingleItem()&&x.click(),S.addEventListener("click",function(B){if(!a.html5Qrcode)throw"html5Qrcode not defined";S.disabled=!0,a.html5Qrcode.stop().then(function(ie){i.scanTypeSelector.hasMoreThanOneScanType()&&a.showHideScanTypeSwapLink(!0),w.enable(),x.disabled=!1,S.style.display="none",x.style.display="inline-block",I&&(I.reset(),I.hide()),f.removeOnCameraZoomValueChangeCallback(),f.hide(),a.insertCameraScanImageToScanRegion()}).catch(function(ie){S.disabled=!1,a.setHeaderMessage(ie,nn.STATUS_WARNING)})}),a.persistedDataManager.getLastUsedCameraId()){var k=a.persistedDataManager.getLastUsedCameraId();w.hasValue(k)?(w.setValue(k),x.click()):a.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var t=this,i=be.textIfCameraScanSelected(),a=be.textIfFileScanSelected(),c=document.getElementById(this.getDashboardSectionId()),f=document.createElement("div");f.style.textAlign="center";var g=rr.createElement("span",this.getDashboardSectionSwapLinkId());g.style.textDecoration="underline",g.style.cursor="pointer",g.innerText=Ar.isCameraScanType(this.currentScanType)?i:a,g.addEventListener("click",function(){if(!t.sectionSwapAllowed){t.verbose&&t.logger.logError("Section swap called when not allowed");return}t.resetHeaderMessage(),t.fileSelectionUi.resetValue(),t.sectionSwapAllowed=!1,Ar.isCameraScanType(t.currentScanType)?(t.clearScanRegion(),t.getCameraScanRegion().style.display="none",t.fileSelectionUi.show(),g.innerText=a,t.currentScanType=cr.SCAN_TYPE_FILE,t.insertFileScanImageToScanRegion()):(t.clearScanRegion(),t.getCameraScanRegion().style.display="block",t.fileSelectionUi.hide(),g.innerText=i,t.currentScanType=cr.SCAN_TYPE_CAMERA,t.insertCameraScanImageToScanRegion(),t.startCameraScanIfPermissionExistsOnSwap()),t.sectionSwapAllowed=!0}),f.appendChild(g),c.appendChild(f)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var t=this,i=this;if(this.persistedDataManager.hasCameraPermissions()){X0.hasPermissions().then(function(a){if(a){var c=document.getElementById(i.getCameraPermissionButtonId());if(!c)throw t.logger.logError("Permission button not found, fail;"),"Permission button not found";c.click()}else i.persistedDataManager.setHasPermission(!1)}).catch(function(a){i.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var t=document.getElementById(this.getHeaderMessageContainerId());t.style.display="none"},e.prototype.setHeaderMessage=function(t,i){i||(i=nn.STATUS_DEFAULT);var a=this.getHeaderMessageDiv();switch(a.innerText=t,a.style.display="block",i){case nn.STATUS_SUCCESS:a.style.background="rgba(106, 175, 80, 0.26)",a.style.color="#477735";break;case nn.STATUS_WARNING:a.style.background="rgba(203, 36, 49, 0.14)",a.style.color="#cb2431";break;case nn.STATUS_DEFAULT:default:a.style.background="rgba(0, 0, 0, 0)",a.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(t){this.scanTypeSelector.hasMoreThanOneScanType()&&(t!==!0&&(t=!1),this.sectionSwapAllowed=t,this.getDashboardSectionSwapLink().style.display=t?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var t=this,i=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){i.innerHTML="<br>",i.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(a){i.innerHTML="<br>",i.appendChild(t.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=Pm,this.cameraScanImage.alt=be.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var t=this,i=document.getElementById(this.getScanRegionId());if(this.fileScanImage){i.innerHTML="<br>",i.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(a){i.innerHTML="<br>",i.appendChild(t.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=Fm,this.fileScanImage.alt=be.fileScanAltText()},e.prototype.clearScanRegion=function(){var t=document.getElementById(this.getScanRegionId());t.innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return on.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return on.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e}();function $m(e){var t=document.getElementById("logQrScanRes");t.innerHTML="",t.innerHTML+=e+`
`}function ew(e,t){const i={fps:15,qrbox:250,supportedScanTypes:[cr.SCAN_TYPE_CAMERA],rememberLastUsedCamera:!1,showTorchButtonIfSupported:!0,aspectRatio:1},a=new Jm("readerQR",i);a.render(c);async function c(f){var g=ko();t(f),$m(`Decoded information:
`+f+`
Scanned at: `+g),f!=""&&e(w=>[...w,{id:crypto.randomUUID(),title:f,completed:!1}]),a.pause(),await Hu(700),a.resume()}}function tw({QrScanResult:e}){return oe.jsxs("div",{className:"row-btn-write",children:[oe.jsx("button",{onClick:()=>{Gc(e),Rh()},className:"btn-write",id:"btn-write",children:"Write QR to NFC"}),oe.jsxs("div",{className:"log-write-div",children:[oe.jsx("pre",{className:"log-write-test",id:"logWriteTagTest"}),oe.jsx("pre",{className:"log-write",id:"logWriteTag"})]})]})}function nw({QrScanResult:e}){return oe.jsxs("div",{className:"row-scanner",children:[oe.jsx("label",{className:"labl",children:"READ QR CODE"}),oe.jsx("div",{className:"reader",id:"readerQR"}),oe.jsx("pre",{className:"log-scanner",id:"logQrScanRes"}),oe.jsx(tw,{QrScanResult:e})]})}function rw(){const[e,t]=er.useState(void 0),[i,a]=er.useState(ju()),[c,f]=er.useState(()=>{const w=localStorage.getItem("QRs");return w==null?[]:JSON.parse(w)});er.useEffect(()=>{localStorage.setItem("QRs",JSON.stringify(c))},[c]),er.useEffect(()=>{ew(f,t)},[]);function g(w){w.preventDefault()}return oe.jsxs(oe.Fragment,{children:[oe.jsxs("form",{onSubmit:g,className:"new-item-form",children:[oe.jsx(um,{}),oe.jsx(am,{}),oe.jsx(nw,{QrScanResult:e})]}),oe.jsx(gm,{qrs:c,setQrs:f,setBatchNumber:a,batchNumber:i})]})}Vl.createRoot(document.getElementById("root")).render(oe.jsx(Dg.StrictMode,{children:oe.jsx(rw,{})}));
